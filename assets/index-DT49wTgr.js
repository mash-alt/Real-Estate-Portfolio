import{r as e,a as t,b as n,L as r,u as i,c as s,d as a,R as o,e as l,B as c}from"./vendor-CJOkB7Sf.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var u,h,d={exports:{}},f={};var p,m,g,y,v=(h||(h=1,d.exports=function(){if(u)return f;u=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(t,n,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==n.key&&(i=""+n.key),"key"in n)for(var s in r={},n)"key"!==s&&(r[s]=n[s]);else r=n;return n=r.ref,{$$typeof:e,type:t,key:i,ref:void 0!==n?n:null,props:r}}return f.Fragment=t,f.jsx=n,f.jsxs=n,f}()),d.exports),b={exports:{}},w={},x={exports:{}},S={};function k(){return m||(m=1,x.exports=(p||(p=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<i(s,t)))break e;e[r]=t,e[n]=s,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,a=s>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<s&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<s&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,h=null,d=3,f=!1,p=!1,m=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function w(e){for(var i=n(c);null!==i;){if(null===i.callback)r(c);else{if(!(i.startTime<=e))break;r(c),i.sortIndex=i.expirationTime,t(l,i)}i=n(c)}}function x(e){if(m=!1,w(e),!p)if(null!==n(l))p=!0,k||(k=!0,S());else{var t=n(c);null!==t&&A(x,t.startTime-e)}}var S,k=!1,E=-1,N=5,C=-1;function _(){return!(!g&&e.unstable_now()-C<N)}function T(){if(g=!1,k){var t=e.unstable_now();C=t;var i=!0;try{e:{p=!1,m&&(m=!1,v(E),E=-1),f=!0;var s=d;try{t:{for(w(t),h=n(l);null!==h&&!(h.expirationTime>t&&_());){var a=h.callback;if("function"==typeof a){h.callback=null,d=h.priorityLevel;var o=a(h.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof o){h.callback=o,w(t),i=!0;break t}h===n(l)&&r(l),w(t)}else r(l);h=n(l)}if(null!==h)i=!0;else{var u=n(c);null!==u&&A(x,u.startTime-t),i=!1}}break e}finally{h=null,d=s,f=!1}i=void 0}}finally{i?S():k=!1}}}if("function"==typeof b)S=function(){b(T)};else if("undefined"!=typeof MessageChannel){var j=new MessageChannel,I=j.port2;j.port1.onmessage=T,S=function(){I.postMessage(null)}}else S=function(){y(T,0)};function A(t,n){E=y(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},e.unstable_scheduleCallback=function(r,i,s){var a=e.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?a+s:a,r){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return r={id:u++,callback:i,priorityLevel:r,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(r.sortIndex=s,t(c,r),null===n(l)&&r===n(c)&&(m?(v(E),E=-1):m=!0,A(x,s-a))):(r.sortIndex=o,t(l,r),p||f||(p=!0,k||(k=!0,S()))),r},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}}(S)),S)),x.exports}
/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function E(){if(g)return w;g=1;var n=k(),r=e(),i=t();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function l(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function c(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(o(e)!==e)throw Error(s(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var d=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),x=Symbol.for("react.consumer"),S=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),A=Symbol.iterator;function D(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=A&&e[A]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function L(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case y:return"Fragment";case b:return"Profiler";case v:return"StrictMode";case N:return"Suspense";case C:return"SuspenseList";case j:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case m:return"Portal";case S:return e.displayName||"Context";case x:return(e._context.displayName||"Context")+".Consumer";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:L(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return L(e(t))}catch(n){}}return null}var R=Array.isArray,O=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},z=[],V=-1;function U(e){return{current:e}}function B(e){0>V||(e.current=z[V],z[V]=null,V--)}function q(e,t){V++,z[V]=e.current,e.current=t}var $,H,Q=U(null),G=U(null),K=U(null),W=U(null);function Y(e,t){switch(q(K,t),q(G,e),q(Q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?bh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=wh(t=bh(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(Q),q(Q,e)}function X(){B(Q),B(G),B(K)}function J(e){null!==e.memoizedState&&q(W,e);var t=Q.current,n=wh(t,e.type);t!==n&&(q(G,e),q(Q,n))}function Z(e){G.current===e&&(B(Q),B(G)),W.current===e&&(B(W),dd._currentValue=F)}function ee(e){if(void 0===$)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$=t&&t[1]||"",H=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+$+e+H}var te=!1;function ne(e,t){if(!e||te)return"";te=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"==typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{te=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ee(n):""}function re(e,t){switch(e.tag){case 26:case 27:case 5:return ee(e.type);case 16:return ee("Lazy");case 13:return e.child!==t&&null!==t?ee("Suspense Fallback"):ee("Suspense");case 19:return ee("SuspenseList");case 0:case 15:return ne(e.type,!1);case 11:return ne(e.type.render,!1);case 1:return ne(e.type,!0);case 31:return ee("Activity");default:return""}}function ie(e){try{var t="",n=null;do{t+=re(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var se=Object.prototype.hasOwnProperty,ae=n.unstable_scheduleCallback,oe=n.unstable_cancelCallback,le=n.unstable_shouldYield,ce=n.unstable_requestPaint,ue=n.unstable_now,he=n.unstable_getCurrentPriorityLevel,de=n.unstable_ImmediatePriority,fe=n.unstable_UserBlockingPriority,pe=n.unstable_NormalPriority,me=n.unstable_LowPriority,ge=n.unstable_IdlePriority,ye=n.log,ve=n.unstable_setDisableYieldValue,be=null,we=null;function xe(e){if("function"==typeof ye&&ve(e),we&&"function"==typeof we.setStrictMode)try{we.setStrictMode(be,e)}catch(t){}}var Se=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ke(e)/Ee|0)|0},ke=Math.log,Ee=Math.LN2;var Ne=256,Ce=262144,_e=4194304;function Te(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function je(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~s)?i=Te(r):0!==(a&=o)?i=Te(a):n||0!==(n=o&~e)&&(i=Te(n)):0!==(o=r&~s)?i=Te(o):0!==a?i=Te(a):n||0!==(n=r&~e)&&(i=Te(n)),0===i?0:0!==t&&t!==i&&0===(t&s)&&((s=i&-i)>=(n=t&-t)||32===s&&4194048&n)?t:i}function Ie(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ae(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function De(){var e=_e;return!(62914560&(_e<<=1))&&(_e=4194304),e}function Pe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Le(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Re(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Se(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Oe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Se(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Me(e,t){var n=t&-t;return 0!==((n=42&n?1:Fe(n))&(e.suspendedLanes|t))?0:n}function Fe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ze(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Ve(){var e=M.p;return 0!==e?e:void 0===(e=window.event)?32:Td(e.type)}function Ue(e,t){var n=M.p;try{return M.p=e,t()}finally{M.p=n}}var Be=Math.random().toString(36).slice(2),qe="__reactFiber$"+Be,$e="__reactProps$"+Be,He="__reactContainer$"+Be,Qe="__reactEvents$"+Be,Ge="__reactListeners$"+Be,Ke="__reactHandles$"+Be,We="__reactResources$"+Be,Ye="__reactMarker$"+Be;function Xe(e){delete e[qe],delete e[$e],delete e[Qe],delete e[Ge],delete e[Ke]}function Je(e){var t=e[qe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[He]||n[qe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Fh(e);null!==e;){if(n=e[qe])return n;e=Fh(e)}return t}n=(e=n).parentNode}return null}function Ze(e){if(e=e[qe]||e[He]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function et(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function tt(e){var t=e[We];return t||(t=e[We]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function nt(e){e[Ye]=!0}var rt=new Set,it={};function st(e,t){at(e,t),at(e+"Capture",t)}function at(e,t){for(it[e]=t,e=0;e<t.length;e++)rt.add(t[e])}var ot=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lt={},ct={};function ut(e,t,n){if(i=t,se.call(ct,i)||!se.call(lt,i)&&(ot.test(i)?ct[i]=!0:(lt[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ht(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function dt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ft(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function pt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function mt(e){if(!e._valueTracker){var t=pt(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function gt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=pt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function yt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var vt=/[\n"\\]/g;function bt(e){return e.replace(vt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function wt(e,t,n,r,i,s,a,o){e.name="",null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ft(t)):e.value!==""+ft(t)&&(e.value=""+ft(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?St(e,a,ft(t)):null!=n?St(e,a,ft(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!=typeof i&&"symbol"!=typeof i),null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.name=""+ft(o):e.removeAttribute("name")}function xt(e,t,n,r,i,s,a,o){if(null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.type=s),null!=t||null!=n){if(("submit"===s||"reset"===s)&&null==t)return void mt(e);n=null!=n?""+ft(n):"",t=null!=t?""+ft(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:i)&&"symbol"!=typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.name=a),mt(e)}function St(e,t,n){"number"===t&&yt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function kt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ft(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Et(e,t,n){null==t||((t=""+ft(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ft(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Nt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(R(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ft(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),mt(e)}function Ct(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var _t=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||_t.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function jt(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Tt(e,i,r)}else for(var a in t)t.hasOwnProperty(a)&&Tt(e,a,t[a])}function It(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return Dt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Lt(){}var Rt=null;function Ot(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Mt=null,Ft=null;function zt(e){var t=Ze(e);if(t&&(e=t.stateNode)){var n=e[$e]||null;e:switch(e=t.stateNode,t.type){case"input":if(wt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+bt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[$e]||null;if(!i)throw Error(s(90));wt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&gt(r)}break e;case"textarea":Et(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&kt(e,!!n.multiple,t,!1)}}}var Vt=!1;function Ut(e,t,n){if(Vt)return e(t,n);Vt=!0;try{return e(t)}finally{if(Vt=!1,(null!==Mt||null!==Ft)&&(tu(),Mt&&(t=Mt,e=Ft,Ft=Mt=null,zt(t),e)))for(t=0;t<e.length;t++)zt(e[t])}}function Bt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[$e]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(s(231,t,typeof n));return n}var qt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),$t=!1;if(qt)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){$t=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch(Zd){$t=!1}var Qt=null,Gt=null,Kt=null;function Wt(){if(Kt)return Kt;var e,t,n=Gt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Kt=i.slice(e,1<t?1-t:void 0)}function Yt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Xt(){return!0}function Jt(){return!1}function Zt(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Xt:Jt,this.isPropagationStopped=Jt,this}return d(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Xt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Xt)},persist:function(){},isPersistent:Xt}),t}var en,tn,nn,rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sn=Zt(rn),an=d({},rn,{view:0,detail:0}),on=Zt(an),ln=d({},an,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nn&&(nn&&"mousemove"===e.type?(en=e.screenX-nn.screenX,tn=e.screenY-nn.screenY):tn=en=0,nn=e),en)},movementY:function(e){return"movementY"in e?e.movementY:tn}}),cn=Zt(ln),un=Zt(d({},ln,{dataTransfer:0})),hn=Zt(d({},an,{relatedTarget:0})),dn=Zt(d({},rn,{animationName:0,elapsedTime:0,pseudoElement:0})),fn=Zt(d({},rn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),pn=Zt(d({},rn,{data:0})),mn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=yn[e])&&!!t[e]}function bn(){return vn}var wn=Zt(d({},an,{key:function(e){if(e.key){var t=mn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Yt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?gn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bn,charCode:function(e){return"keypress"===e.type?Yt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Yt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),xn=Zt(d({},ln,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Sn=Zt(d({},an,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bn})),kn=Zt(d({},rn,{propertyName:0,elapsedTime:0,pseudoElement:0})),En=Zt(d({},ln,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Nn=Zt(d({},rn,{newState:0,oldState:0})),Cn=[9,13,27,32],_n=qt&&"CompositionEvent"in window,Tn=null;qt&&"documentMode"in document&&(Tn=document.documentMode);var jn=qt&&"TextEvent"in window&&!Tn,In=qt&&(!_n||Tn&&8<Tn&&11>=Tn),An=String.fromCharCode(32),Dn=!1;function Pn(e,t){switch(e){case"keyup":return-1!==Cn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ln(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Rn=!1;var On={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!On[e.type]:"textarea"===t}function Fn(e,t,n,r){Mt?Ft?Ft.push(r):Ft=[r]:Mt=r,0<(t=sh(t,"onChange")).length&&(n=new sn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zn=null,Vn=null;function Un(e){Xu(e,0)}function Bn(e){if(gt(et(e)))return e}function qn(e,t){if("change"===e)return t}var $n=!1;if(qt){var Hn;if(qt){var Qn="oninput"in document;if(!Qn){var Gn=document.createElement("div");Gn.setAttribute("oninput","return;"),Qn="function"==typeof Gn.oninput}Hn=Qn}else Hn=!1;$n=Hn&&(!document.documentMode||9<document.documentMode)}function Kn(){zn&&(zn.detachEvent("onpropertychange",Wn),Vn=zn=null)}function Wn(e){if("value"===e.propertyName&&Bn(Vn)){var t=[];Fn(t,Vn,e,Ot(e)),Ut(Un,t)}}function Yn(e,t,n){"focusin"===e?(Kn(),Vn=n,(zn=t).attachEvent("onpropertychange",Wn)):"focusout"===e&&Kn()}function Xn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Bn(Vn)}function Jn(e,t){if("click"===e)return Bn(t)}function Zn(e,t){if("input"===e||"change"===e)return Bn(t)}var er="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function tr(e,t){if(er(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!se.call(t,i)||!er(e[i],t[i]))return!1}return!0}function nr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rr(e,t){var n,r=nr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nr(r)}}function ir(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ir(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function sr(e){for(var t=yt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=yt((e=t.contentWindow).document)}return t}function ar(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var or=qt&&"documentMode"in document&&11>=document.documentMode,lr=null,cr=null,ur=null,hr=!1;function dr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;hr||null==lr||lr!==yt(r)||("selectionStart"in(r=lr)&&ar(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ur&&tr(ur,r)||(ur=r,0<(r=sh(cr,"onSelect")).length&&(t=new sn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=lr)))}function fr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pr={animationend:fr("Animation","AnimationEnd"),animationiteration:fr("Animation","AnimationIteration"),animationstart:fr("Animation","AnimationStart"),transitionrun:fr("Transition","TransitionRun"),transitionstart:fr("Transition","TransitionStart"),transitioncancel:fr("Transition","TransitionCancel"),transitionend:fr("Transition","TransitionEnd")},mr={},gr={};function yr(e){if(mr[e])return mr[e];if(!pr[e])return e;var t,n=pr[e];for(t in n)if(n.hasOwnProperty(t)&&t in gr)return mr[e]=n[t];return e}qt&&(gr=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);var vr=yr("animationend"),br=yr("animationiteration"),wr=yr("animationstart"),xr=yr("transitionrun"),Sr=yr("transitionstart"),kr=yr("transitioncancel"),Er=yr("transitionend"),Nr=new Map,Cr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){Nr.set(e,t),st(t,[e])}Cr.push("scrollEnd");var Tr="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},jr=[],Ir=0,Ar=0;function Dr(){for(var e=Ir,t=Ar=Ir=0;t<e;){var n=jr[t];jr[t++]=null;var r=jr[t];jr[t++]=null;var i=jr[t];jr[t++]=null;var s=jr[t];if(jr[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==s&&Or(n,i,s)}}function Pr(e,t,n,r){jr[Ir++]=e,jr[Ir++]=t,jr[Ir++]=n,jr[Ir++]=r,Ar|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Lr(e,t,n,r){return Pr(e,t,n,r),Mr(e)}function Rr(e,t){return Pr(e,null,null,t),Mr(e)}function Or(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,i&&null!==t&&(i=31-Se(n),null===(r=(e=s.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),s):null}function Mr(e){if(50<Qc)throw Qc=0,Gc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Fr={};function zr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(e,t,n,r){return new zr(e,t,n,r)}function Ur(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Br(e,t){var n=e.alternate;return null===n?((n=Vr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function qr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function $r(e,t,n,r,i,a){var o=0;if(r=e,"function"==typeof e)Ur(e)&&(o=1);else if("string"==typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,Q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case j:return(e=Vr(31,n,t,i)).elementType=j,e.lanes=a,e;case y:return Hr(n.children,i,a,t);case v:o=8,i|=24;break;case b:return(e=Vr(12,n,t,2|i)).elementType=b,e.lanes=a,e;case N:return(e=Vr(13,n,t,i)).elementType=N,e.lanes=a,e;case C:return(e=Vr(19,n,t,i)).elementType=C,e.lanes=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case x:o=9;break e;case E:o=11;break e;case _:o=14;break e;case T:o=16,r=null;break e}o=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=Vr(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Hr(e,t,n,r){return(e=Vr(7,e,r,t)).lanes=n,e}function Qr(e,t,n){return(e=Vr(6,e,null,t)).lanes=n,e}function Gr(e){var t=Vr(18,null,null,0);return t.stateNode=e,t}function Kr(e,t,n){return(t=Vr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wr=new WeakMap;function Yr(e,t){if("object"==typeof e&&null!==e){var n=Wr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ie(t)},Wr.set(e,t),t)}return{value:e,source:t,stack:ie(t)}}var Xr=[],Jr=0,Zr=null,ei=0,ti=[],ni=0,ri=null,ii=1,si="";function ai(e,t){Xr[Jr++]=ei,Xr[Jr++]=Zr,Zr=e,ei=t}function oi(e,t,n){ti[ni++]=ii,ti[ni++]=si,ti[ni++]=ri,ri=e;var r=ii;e=si;var i=32-Se(r)-1;r&=~(1<<i),n+=1;var s=32-Se(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ii=1<<32-Se(t)+i|n<<i|r,si=s+e}else ii=1<<s|n<<i|r,si=e}function li(e){null!==e.return&&(ai(e,1),oi(e,1,0))}function ci(e){for(;e===Zr;)Zr=Xr[--Jr],Xr[Jr]=null,ei=Xr[--Jr],Xr[Jr]=null;for(;e===ri;)ri=ti[--ni],ti[ni]=null,si=ti[--ni],ti[ni]=null,ii=ti[--ni],ti[ni]=null}function ui(e,t){ti[ni++]=ii,ti[ni++]=si,ti[ni++]=ri,ii=t.id,si=t.overflow,ri=e}var hi=null,di=null,fi=!1,pi=null,mi=!1,gi=Error(s(519));function yi(e){throw ki(Yr(Error(s(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),gi}function vi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[qe]=e,t[$e]=r,n){case"dialog":Ju("cancel",t),Ju("close",t);break;case"iframe":case"object":case"embed":Ju("load",t);break;case"video":case"audio":for(n=0;n<Wu.length;n++)Ju(Wu[n],t);break;case"source":Ju("error",t);break;case"img":case"image":case"link":Ju("error",t),Ju("load",t);break;case"details":Ju("toggle",t);break;case"input":Ju("invalid",t),xt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Ju("invalid",t);break;case"textarea":Ju("invalid",t),Nt(t,r.value,r.defaultValue,r.children)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||hh(t.textContent,n)?(null!=r.popover&&(Ju("beforetoggle",t),Ju("toggle",t)),null!=r.onScroll&&Ju("scroll",t),null!=r.onScrollEnd&&Ju("scrollend",t),null!=r.onClick&&(t.onclick=Lt),t=!0):t=!1,t||yi(e,!0)}function bi(e){for(hi=e.return;hi;)switch(hi.tag){case 5:case 31:case 13:return void(mi=!1);case 27:case 3:return void(mi=!0);default:hi=hi.return}}function wi(e){if(e!==hi)return!1;if(!fi)return bi(e),fi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||xh(e.type,e.memoizedProps)),t=!t),t&&di&&yi(e),bi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));di=Mh(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));di=Mh(e)}else 27===n?(n=di,Th(e.type)?(e=Oh,Oh=null,di=e):di=n):di=hi?Rh(e.stateNode.nextSibling):null;return!0}function xi(){di=hi=null,fi=!1}function Si(){var e=pi;return null!==e&&(null===Dc?Dc=e:Dc.push.apply(Dc,e),pi=null),e}function ki(e){null===pi?pi=[e]:pi.push(e)}var Ei=U(null),Ni=null,Ci=null;function _i(e,t,n){q(Ei,t._currentValue),t._currentValue=n}function Ti(e){e._currentValue=Ei.current,B(Ei)}function ji(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ii(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var a=i.dependencies;if(null!==a){var o=i.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),ji(a.return,n,e),r||(o=null);break e}a=l.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=n,null!==(a=o.alternate)&&(a.lanes|=n),ji(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function Ai(e,t,n,r){e=null;for(var i=t,a=!1;null!==i;){if(!a)if(524288&i.flags)a=!0;else if(262144&i.flags)break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(s(387));if(null!==(o=o.memoizedProps)){var l=i.type;er(i.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(i===W.current){if(null===(o=i.alternate))throw Error(s(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(dd):e=[dd])}i=i.return}null!==e&&Ii(t,e,n,r),t.flags|=262144}function Di(e){for(e=e.firstContext;null!==e;){if(!er(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pi(e){Ni=e,Ci=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Li(e){return Oi(Ni,e)}function Ri(e,t){return null===Ni&&Pi(e),Oi(e,t)}function Oi(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Ci){if(null===e)throw Error(s(308));Ci=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ci=Ci.next=t;return n}var Mi="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Fi=n.unstable_scheduleCallback,zi=n.unstable_NormalPriority,Vi={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ui(){return{controller:new Mi,data:new Map,refCount:0}}function Bi(e){e.refCount--,0===e.refCount&&Fi(zi,function(){e.controller.abort()})}var qi=null,$i=0,Hi=0,Qi=null;function Gi(){if(0===--$i&&null!==qi){null!==Qi&&(Qi.status="fulfilled");var e=qi;qi=null,Hi=0,Qi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ki=O.S;O.S=function(e,t){Rc=ue(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===qi){var n=qi=[];$i=0,Hi=$u(),Qi={status:"pending",value:void 0,then:function(e){n.push(e)}}}$i++,t.then(Gi,Gi)}(0,t),null!==Ki&&Ki(e,t)};var Wi=U(null);function Yi(){var e=Wi.current;return null!==e?e:gc.pooledCache}function Xi(e,t){q(Wi,null===t?Wi.current:t.pool)}function Ji(){var e=Yi();return null===e?null:{parent:Vi._currentValue,pool:e}}var Zi=Error(s(460)),es=Error(s(474)),ts=Error(s(542)),ns={then:function(){}};function rs(e){return"fulfilled"===(e=e.status)||"rejected"===e}function is(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Lt,Lt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ls(e=t.reason),e;default:if("string"==typeof t.status)t.then(Lt,Lt);else{if(null!==(e=gc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ls(e=t.reason),e}throw as=t,Zi}}function ss(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"==typeof t&&"function"==typeof t.then)throw as=t,Zi;throw t}}var as=null;function os(){if(null===as)throw Error(s(459));var e=as;return as=null,e}function ls(e){if(e===Zi||e===ts)throw Error(s(483))}var cs=null,us=0;function hs(e){var t=us;return us+=1,null===cs&&(cs=[]),is(cs,e,t)}function ds(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function fs(e,t){if(t.$$typeof===f)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ps(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Br(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Qr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===y?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===T&&ss(s)===t.type)?(ds(t=i(t,n.props),n),t.return=e,t):(ds(t=$r(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Hr(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Qr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case p:return ds(n=$r(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Kr(t,e.mode,n)).return=e,t;case T:return d(e,t=ss(t),n)}if(R(t)||D(t))return(t=Hr(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return d(e,hs(t),n);if(t.$$typeof===S)return d(e,Ri(e,t),n);fs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===i?c(e,t,n,r):null;case m:return n.key===i?u(e,t,n,r):null;case T:return f(e,t,n=ss(n),r)}if(R(n)||D(n))return null!==i?null:h(e,t,n,r,null);if("function"==typeof n.then)return f(e,t,hs(n),r);if(n.$$typeof===S)return f(e,t,Ri(e,n),r);fs(e,n)}return null}function g(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case T:return g(e,t,n,r=ss(r),i)}if(R(r)||D(r))return h(t,e=e.get(n)||null,r,i,null);if("function"==typeof r.then)return g(e,t,n,hs(r),i);if(r.$$typeof===S)return g(e,t,n,Ri(t,r),i);fs(t,r)}return null}function v(l,c,u,h){if("object"==typeof u&&null!==u&&u.type===y&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===y){if(7===c.tag){n(l,c.sibling),(h=i(c,u.props.children)).return=l,l=h;break e}}else if(c.elementType===b||"object"==typeof b&&null!==b&&b.$$typeof===T&&ss(b)===c.type){n(l,c.sibling),ds(h=i(c,u.props),u),h.return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===y?((h=Hr(u.props.children,l.mode,h,u.key)).return=l,l=h):(ds(h=$r(u.type,u.key,u.props,null,l.mode,h),u),h.return=l,l=h)}return o(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(h=i(c,u.children||[])).return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}(h=Kr(u,l.mode,h)).return=l,l=h}return o(l);case T:return v(l,c,u=ss(u),h)}if(R(u))return function(i,s,o,l){for(var c=null,u=null,h=s,p=s=0,m=null;null!==h&&p<o.length;p++){h.index>p?(m=h,h=null):m=h.sibling;var y=f(i,h,o[p],l);if(null===y){null===h&&(h=m);break}e&&h&&null===y.alternate&&t(i,h),s=a(y,s,p),null===u?c=y:u.sibling=y,u=y,h=m}if(p===o.length)return n(i,h),fi&&ai(i,p),c;if(null===h){for(;p<o.length;p++)null!==(h=d(i,o[p],l))&&(s=a(h,s,p),null===u?c=h:u.sibling=h,u=h);return fi&&ai(i,p),c}for(h=r(h);p<o.length;p++)null!==(m=g(h,i,p,o[p],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?p:m.key),s=a(m,s,p),null===u?c=m:u.sibling=m,u=m);return e&&h.forEach(function(e){return t(i,e)}),fi&&ai(i,p),c}(l,c,u,h);if(D(u)){if("function"!=typeof(b=D(u)))throw Error(s(150));return function(i,o,l,c){if(null==l)throw Error(s(151));for(var u=null,h=null,p=o,m=o=0,y=null,v=l.next();null!==p&&!v.done;m++,v=l.next()){p.index>m?(y=p,p=null):y=p.sibling;var b=f(i,p,v.value,c);if(null===b){null===p&&(p=y);break}e&&p&&null===b.alternate&&t(i,p),o=a(b,o,m),null===h?u=b:h.sibling=b,h=b,p=y}if(v.done)return n(i,p),fi&&ai(i,m),u;if(null===p){for(;!v.done;m++,v=l.next())null!==(v=d(i,v.value,c))&&(o=a(v,o,m),null===h?u=v:h.sibling=v,h=v);return fi&&ai(i,m),u}for(p=r(p);!v.done;m++,v=l.next())null!==(v=g(p,i,m,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),o=a(v,o,m),null===h?u=v:h.sibling=v,h=v);return e&&p.forEach(function(e){return t(i,e)}),fi&&ai(i,m),u}(l,c,u=b.call(u),h)}if("function"==typeof u.then)return v(l,c,hs(u),h);if(u.$$typeof===S)return v(l,c,Ri(l,u),h);fs(l,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(h=i(c,u)).return=l,l=h):(n(l,c),(h=Qr(u,l.mode,h)).return=l,l=h),o(l)):n(l,c)}return function(e,t,n,r){try{us=0;var i=v(e,t,n,r);return cs=null,i}catch(a){if(a===Zi||a===ts)throw a;var s=Vr(29,a,null,e.mode);return s.lanes=r,s.return=e,s}}}var ms=ps(!0),gs=ps(!1),ys=!1;function vs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ws(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&mc){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Mr(e),Or(e,null,n),t}return Pr(e,r,t,n),Mr(e)}function Ss(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Oe(e,n)}}function ks(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Es=!1;function Ns(){if(Es){if(null!==Qi)throw Qi}}function Cs(e,t,n,r){Es=!1;var i=e.updateQueue;ys=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(a=0,u=c=l=null,o=s;;){var f=-536870913&o.lane,p=f!==o.lane;if(p?(vc&f)===f:(r&f)===f){0!==f&&f===Hi&&(Es=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;f=t;var y=n;switch(g.tag){case 1:if("function"==typeof(m=g.payload)){h=m.call(y,h,f);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(f="function"==typeof(m=g.payload)?m.call(y,h,f):m))break e;h=d({},h,f);break e;case 2:ys=!0}}null!==(f=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,a|=f;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(p=o).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===s&&(i.shared.lanes=0),Cc|=a,e.lanes=a,e.memoizedState=h}}function _s(e,t){if("function"!=typeof e)throw Error(s(191,e));e.call(t)}function Ts(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)_s(n[e],t)}var js=U(null),Is=U(0);function As(e,t){q(Is,e=Ec),q(js,t),Ec=e|t.baseLanes}function Ds(){q(Is,Ec),q(js,js.current)}function Ps(){Ec=Is.current,B(js),B(Is)}var Ls=U(null),Rs=null;function Os(e){var t=e.alternate;q(Us,1&Us.current),q(Ls,e),null===Rs&&(null===t||null!==js.current||null!==t.memoizedState)&&(Rs=e)}function Ms(e){q(Us,Us.current),q(Ls,e),null===Rs&&(Rs=e)}function Fs(e){22===e.tag?(q(Us,Us.current),q(Ls,e),null===Rs&&(Rs=e)):zs()}function zs(){q(Us,Us.current),q(Ls,Ls.current)}function Vs(e){B(Ls),Rs===e&&(Rs=null),B(Us)}var Us=U(0);function Bs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Ph(n)||Lh(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(128&t.flags)return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qs=0,$s=null,Hs=null,Qs=null,Gs=!1,Ks=!1,Ws=!1,Ys=0,Xs=0,Js=null,Zs=0;function ea(){throw Error(s(321))}function ta(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!er(e[n],t[n]))return!1;return!0}function na(e,t,n,r,i,s){return qs=s,$s=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?vo:bo,Ws=!1,s=n(r,i),Ws=!1,Ks&&(s=ia(t,n,r,i)),ra(e),s}function ra(e){O.H=yo;var t=null!==Hs&&null!==Hs.next;if(qs=0,Qs=Hs=$s=null,Gs=!1,Xs=0,Js=null,t)throw Error(s(300));null===e||Ro||null!==(e=e.dependencies)&&Di(e)&&(Ro=!0)}function ia(e,t,n,r){$s=e;var i=0;do{if(Ks&&(Js=null),Xs=0,Ks=!1,25<=i)throw Error(s(301));if(i+=1,Qs=Hs=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}O.H=wo,a=t(n,r)}while(Ks);return a}function sa(){var e=O.H,t=e.useState()[0];return t="function"==typeof t.then?ha(t):t,e=e.useState()[0],(null!==Hs?Hs.memoizedState:null)!==e&&($s.flags|=1024),t}function aa(){var e=0!==Ys;return Ys=0,e}function oa(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function la(e){if(Gs){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Gs=!1}qs=0,Qs=Hs=$s=null,Ks=!1,Xs=Ys=0,Js=null}function ca(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Qs?$s.memoizedState=Qs=e:Qs=Qs.next=e,Qs}function ua(){if(null===Hs){var e=$s.alternate;e=null!==e?e.memoizedState:null}else e=Hs.next;var t=null===Qs?$s.memoizedState:Qs.next;if(null!==t)Qs=t,Hs=e;else{if(null===e){if(null===$s.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(Hs=e).memoizedState,baseState:Hs.baseState,baseQueue:Hs.baseQueue,queue:Hs.queue,next:null},null===Qs?$s.memoizedState=Qs=e:Qs=Qs.next=e}return Qs}function ha(e){var t=Xs;return Xs+=1,null===Js&&(Js=[]),e=is(Js,e,t),t=$s,null===(null===Qs?t.memoizedState:Qs.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?vo:bo),e}function da(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return ha(e);if(e.$$typeof===S)return Li(e)}throw Error(s(438,String(e)))}function fa(e){var t=null,n=$s.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=$s.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},$s.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=I;return t.index++,n}function pa(e,t){return"function"==typeof t?t(e):t}function ma(e){return ga(ua(),Hs,e)}function ga(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}t.baseQueue=i=a,r.pending=null}if(a=e.baseState,null===i)e.memoizedState=a;else{var l=o=null,c=null,u=t=i.next,h=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(vc&d)===d:(qs&d)===d){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Hi&&(h=!0);else{if((qs&f)===f){u=u.next,f===Hi&&(h=!0);continue}d={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=d,o=a):c=c.next=d,$s.lanes|=f,Cc|=f}d=u.action,Ws&&n(a,d),a=u.hasEagerState?u.eagerState:n(a,d)}else f={lane:d,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=a):c=c.next=f,$s.lanes|=d,Cc|=d;u=u.next}while(null!==u&&u!==t);if(null===c?o=a:c.next=l,!er(a,e.memoizedState)&&(Ro=!0,h&&null!==(n=Qi)))throw n;e.memoizedState=a,e.baseState=o,e.baseQueue=c,r.lastRenderedState=a}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function ya(e){var t=ua(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);er(a,t.memoizedState)||(Ro=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function va(e,t,n){var r=$s,i=ua(),a=fi;if(a){if(void 0===n)throw Error(s(407));n=n()}else n=t();var o=!er((Hs||i).memoizedState,n);if(o&&(i.memoizedState=n,Ro=!0),i=i.queue,qa(xa.bind(null,r,i,e),[e]),i.getSnapshot!==t||o||null!==Qs&&1&Qs.memoizedState.tag){if(r.flags|=2048,Fa(9,{destroy:void 0},wa.bind(null,r,i,n,t),null),null===gc)throw Error(s(349));a||127&qs||ba(r,t,n)}return n}function ba(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=$s.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},$s.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function wa(e,t,n,r){t.value=n,t.getSnapshot=r,Sa(t)&&ka(e)}function xa(e,t,n){return n(function(){Sa(t)&&ka(e)})}function Sa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!er(e,n)}catch(r){return!0}}function ka(e){var t=Rr(e,2);null!==t&&Yc(t,e,2)}function Ea(e){var t=ca();if("function"==typeof e){var n=e;if(e=n(),Ws){xe(!0);try{n()}finally{xe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:e},t}function Na(e,t,n,r){return e.baseState=n,ga(e,Hs,"function"==typeof r?r:pa)}function Ca(e,t,n,r,i){if(po(e))throw Error(s(485));if(null!==(e=t.action)){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==O.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,_a(t,a)):(a.next=n.next,t.pending=n.next=a)}}function _a(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=O.T,a={};O.T=a;try{var o=n(i,r),l=O.S;null!==l&&l(a,o),Ta(e,t,o)}catch(c){Ia(e,t,c)}finally{null!==s&&null!==a.types&&(s.types=a.types),O.T=s}}else try{Ta(e,t,s=n(i,r))}catch(u){Ia(e,t,u)}}function Ta(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){ja(e,t,n)},function(n){return Ia(e,t,n)}):ja(e,t,n)}function ja(e,t,n){t.status="fulfilled",t.value=n,Aa(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,_a(e,n)))}function Ia(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Aa(t),t=t.next}while(t!==r)}e.action=null}function Aa(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Da(e,t){return t}function Pa(e,t){if(fi){var n=gc.formState;if(null!==n){e:{var r=$s;if(fi){if(di){t:{for(var i=di,s=mi;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=Rh(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){di=Rh(i.nextSibling),r="F!"===i.data;break e}}yi(r)}r=!1}r&&(t=n[0])}}return(n=ca()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:t},n.queue=r,n=uo.bind(null,$s,r),r.dispatch=n,r=Ea(!1),s=fo.bind(null,$s,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=ca()).queue=i,n=Ca.bind(null,$s,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function La(e){return Ra(ua(),Hs,e)}function Ra(e,t,n){if(t=ga(e,t,Da)[0],e=ma(pa)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=ha(t)}catch(a){if(a===Zi)throw ts;throw a}else r=t;var i=(t=ua()).queue,s=i.dispatch;return n!==t.memoizedState&&($s.flags|=2048,Fa(9,{destroy:void 0},Oa.bind(null,i,n),null)),[r,s,e]}function Oa(e,t){e.action=t}function Ma(e){var t=ua(),n=Hs;if(null!==n)return Ra(t,n,e);ua(),t=t.memoizedState;var r=(n=ua()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Fa(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=$s.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},$s.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function za(){return ua().memoizedState}function Va(e,t,n,r){var i=ca();$s.flags|=e,i.memoizedState=Fa(1|t,{destroy:void 0},n,void 0===r?null:r)}function Ua(e,t,n,r){var i=ua();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==Hs&&null!==r&&ta(r,Hs.memoizedState.deps)?i.memoizedState=Fa(t,s,n,r):($s.flags|=e,i.memoizedState=Fa(1|t,s,n,r))}function Ba(e,t){Va(8390656,8,e,t)}function qa(e,t){Ua(2048,8,e,t)}function $a(e){var t=ua().memoizedState;return function(e){$s.flags|=4;var t=$s.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},$s.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(2&mc)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function Ha(e,t){return Ua(4,2,e,t)}function Qa(e,t){return Ua(4,4,e,t)}function Ga(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Ka(e,t,n){n=null!=n?n.concat([e]):null,Ua(4,4,Ga.bind(null,t,e),n)}function Wa(){}function Ya(e,t){var n=ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&ta(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xa(e,t){var n=ua();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&ta(t,r[1]))return r[0];if(r=e(),Ws){xe(!0);try{e()}finally{xe(!1)}}return n.memoizedState=[r,t],r}function Ja(e,t,n){return void 0===n||1073741824&qs&&!(261930&vc)?e.memoizedState=t:(e.memoizedState=n,e=Wc(),$s.lanes|=e,Cc|=e,n)}function Za(e,t,n,r){return er(n,t)?n:null!==js.current?(e=Ja(e,n,r),er(e,t)||(Ro=!0),e):42&qs&&(!(1073741824&qs)||261930&vc)?(e=Wc(),$s.lanes|=e,Cc|=e,t):(Ro=!0,e.memoizedState=n)}function eo(e,t,n,r,i){var s=M.p;M.p=0!==s&&8>s?s:8;var a,o,l,c=O.T,u={};O.T=u,fo(e,!1,t,n);try{var h=i(),d=O.S;if(null!==d&&d(u,h),null!==h&&"object"==typeof h&&"function"==typeof h.then)ho(e,t,(a=r,o=[],l={status:"pending",value:null,reason:null,then:function(e){o.push(e)}},h.then(function(){l.status="fulfilled",l.value=a;for(var e=0;e<o.length;e++)(0,o[e])(a)},function(e){for(l.status="rejected",l.reason=e,e=0;e<o.length;e++)(0,o[e])(void 0)}),l),Kc());else ho(e,t,r,Kc())}catch(f){ho(e,t,{then:function(){},status:"rejected",reason:f},Kc())}finally{M.p=s,null!==c&&null!==u.types&&(c.types=u.types),O.T=c}}function to(){}function no(e,t,n,r){if(5!==e.tag)throw Error(s(476));var i=ro(e).queue;eo(e,i,t,F,null===n?to:function(){return io(e),n(r)})}function ro(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:F},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function io(e){var t=ro(e);null===t.next&&(t=e.alternate.memoizedState),ho(e,t.next.queue,{},Kc())}function so(){return Li(dd)}function ao(){return ua().memoizedState}function oo(){return ua().memoizedState}function lo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Kc(),r=xs(t,e=ws(n),n);return null!==r&&(Yc(r,t,n),Ss(r,t,n)),t={cache:Ui()},void(e.payload=t)}t=t.return}}function co(e,t,n){var r=Kc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},po(e)?mo(t,n):null!==(n=Lr(e,t,n,r))&&(Yc(n,e,r),go(n,t,r))}function uo(e,t,n){ho(e,t,n,Kc())}function ho(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(po(e))mo(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,er(o,a))return Pr(e,t,i,0),null===gc&&Dr(),!1}catch(l){}if(null!==(n=Lr(e,t,i,r)))return Yc(n,e,r),go(n,t,r),!0}return!1}function fo(e,t,n,r){if(r={lane:2,revertLane:$u(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},po(e)){if(t)throw Error(s(479))}else null!==(t=Lr(e,n,r,2))&&Yc(t,e,2)}function po(e){var t=e.alternate;return e===$s||null!==t&&t===$s}function mo(e,t){Ks=Gs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function go(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Oe(e,n)}}var yo={readContext:Li,use:da,useCallback:ea,useContext:ea,useEffect:ea,useImperativeHandle:ea,useLayoutEffect:ea,useInsertionEffect:ea,useMemo:ea,useReducer:ea,useRef:ea,useState:ea,useDebugValue:ea,useDeferredValue:ea,useTransition:ea,useSyncExternalStore:ea,useId:ea,useHostTransitionStatus:ea,useFormState:ea,useActionState:ea,useOptimistic:ea,useMemoCache:ea,useCacheRefresh:ea};yo.useEffectEvent=ea;var vo={readContext:Li,use:da,useCallback:function(e,t){return ca().memoizedState=[e,void 0===t?null:t],e},useContext:Li,useEffect:Ba,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,Va(4194308,4,Ga.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Va(4194308,4,e,t)},useInsertionEffect:function(e,t){Va(4,2,e,t)},useMemo:function(e,t){var n=ca();t=void 0===t?null:t;var r=e();if(Ws){xe(!0);try{e()}finally{xe(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ca();if(void 0!==n){var i=n(t);if(Ws){xe(!0);try{n(t)}finally{xe(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=co.bind(null,$s,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ca().memoizedState=e},useState:function(e){var t=(e=Ea(e)).queue,n=uo.bind(null,$s,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Wa,useDeferredValue:function(e,t){return Ja(ca(),e,t)},useTransition:function(){var e=Ea(!1);return e=eo.bind(null,$s,e.queue,!0,!1),ca().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=$s,i=ca();if(fi){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===gc)throw Error(s(349));127&vc||ba(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ba(xa.bind(null,r,a,e),[e]),r.flags|=2048,Fa(9,{destroy:void 0},wa.bind(null,r,a,n,t),null),n},useId:function(){var e=ca(),t=gc.identifierPrefix;if(fi){var n=si;t="_"+t+"R_"+(n=(ii&~(1<<32-Se(ii)-1)).toString(32)+n),0<(n=Ys++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Zs++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:so,useFormState:Pa,useActionState:Pa,useOptimistic:function(e){var t=ca();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=fo.bind(null,$s,!0,n),n.dispatch=t,[e,t]},useMemoCache:fa,useCacheRefresh:function(){return ca().memoizedState=lo.bind(null,$s)},useEffectEvent:function(e){var t=ca(),n={impl:e};return t.memoizedState=n,function(){if(2&mc)throw Error(s(440));return n.impl.apply(void 0,arguments)}}},bo={readContext:Li,use:da,useCallback:Ya,useContext:Li,useEffect:qa,useImperativeHandle:Ka,useInsertionEffect:Ha,useLayoutEffect:Qa,useMemo:Xa,useReducer:ma,useRef:za,useState:function(){return ma(pa)},useDebugValue:Wa,useDeferredValue:function(e,t){return Za(ua(),Hs.memoizedState,e,t)},useTransition:function(){var e=ma(pa)[0],t=ua().memoizedState;return["boolean"==typeof e?e:ha(e),t]},useSyncExternalStore:va,useId:ao,useHostTransitionStatus:so,useFormState:La,useActionState:La,useOptimistic:function(e,t){return Na(ua(),0,e,t)},useMemoCache:fa,useCacheRefresh:oo};bo.useEffectEvent=$a;var wo={readContext:Li,use:da,useCallback:Ya,useContext:Li,useEffect:qa,useImperativeHandle:Ka,useInsertionEffect:Ha,useLayoutEffect:Qa,useMemo:Xa,useReducer:ya,useRef:za,useState:function(){return ya(pa)},useDebugValue:Wa,useDeferredValue:function(e,t){var n=ua();return null===Hs?Ja(n,e,t):Za(n,Hs.memoizedState,e,t)},useTransition:function(){var e=ya(pa)[0],t=ua().memoizedState;return["boolean"==typeof e?e:ha(e),t]},useSyncExternalStore:va,useId:ao,useHostTransitionStatus:so,useFormState:Ma,useActionState:Ma,useOptimistic:function(e,t){var n=ua();return null!==Hs?Na(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:fa,useCacheRefresh:oo};function xo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:d({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}wo.useEffectEvent=$a;var So={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Kc(),i=ws(r);i.payload=t,null!=n&&(i.callback=n),null!==(t=xs(e,i,r))&&(Yc(t,e,r),Ss(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Kc(),i=ws(r);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=xs(e,i,r))&&(Yc(t,e,r),Ss(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Kc(),r=ws(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=xs(e,r,n))&&(Yc(t,e,n),Ss(t,e,n))}};function ko(e,t,n,r,i,s,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!tr(n,r)||!tr(i,s))}function Eo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&So.enqueueReplaceState(t,t.state,null)}function No(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=d({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function Co(e){Tr(e)}function _o(e){console.error(e)}function To(e){Tr(e)}function jo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Io(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ao(e,t,n){return(n=ws(n)).tag=3,n.payload={element:null},n.callback=function(){jo(e,t)},n}function Do(e){return(e=ws(e)).tag=3,e}function Po(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"==typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){Io(t,n,r)}}var a=n.stateNode;null!==a&&"function"==typeof a.componentDidCatch&&(e.callback=function(){Io(t,n,r),"function"!=typeof i&&(null===Fc?Fc=new Set([this]):Fc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Lo=Error(s(461)),Ro=!1;function Oo(e,t,n,r){t.child=null===e?gs(t,null,n,r):ms(t,e.child,n,r)}function Mo(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var a={};for(var o in r)"ref"!==o&&(a[o]=r[o])}else a=r;return Pi(t),r=na(e,t,n,a,s,i),o=aa(),null===e||Ro?(fi&&o&&li(t),t.flags|=1,Oo(e,t,r,i),t.child):(oa(e,t,i),al(e,t,i))}function Fo(e,t,n,r,i){if(null===e){var s=n.type;return"function"!=typeof s||Ur(s)||void 0!==s.defaultProps||null!==n.compare?((e=$r(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,zo(e,t,s,r,i))}if(s=e.child,!ol(e,i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:tr)(a,r)&&e.ref===t.ref)return al(e,t,i)}return t.flags|=1,(e=Br(s,r)).ref=t.ref,e.return=t,t.child=e}function zo(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(tr(s,r)&&e.ref===t.ref){if(Ro=!1,t.pendingProps=r=s,!ol(e,i))return t.lanes=e.lanes,al(e,t,i);131072&e.flags&&(Ro=!0)}}return Qo(e,t,n,r,i)}function Vo(e,t,n,r){var i=r.children,s=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(128&t.flags){if(s=null!==s?s.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~s}else r=0,t.child=null;return Bo(e,t,s,n,r)}if(!(536870912&n))return r=t.lanes=536870912,Bo(e,t,null!==s?s.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Xi(0,null!==s?s.cachePool:null),null!==s?As(t,s):Ds(),Fs(t)}else null!==s?(Xi(0,s.cachePool),As(t,s),zs(),t.memoizedState=null):(null!==e&&Xi(0,null),Ds(),zs());return Oo(e,t,i,n),t.child}function Uo(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Bo(e,t,n,r,i){var s=Yi();return s=null===s?null:{parent:Vi._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&Xi(0,null),Ds(),Fs(t),null!==e&&Ai(e,t,r,!0),t.childLanes=i,null}function qo(e,t){return(t=tl({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function $o(e,t,n){return ms(t,e.child,null,n),(e=qo(t,t.pendingProps)).flags|=2,Vs(t),t.memoizedState=null,e}function Ho(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Qo(e,t,n,r,i){return Pi(t),n=na(e,t,n,r,void 0,i),r=aa(),null===e||Ro?(fi&&r&&li(t),t.flags|=1,Oo(e,t,n,i),t.child):(oa(e,t,i),al(e,t,i))}function Go(e,t,n,r,i,s){return Pi(t),t.updateQueue=null,n=ia(t,r,n,i),ra(e),r=aa(),null===e||Ro?(fi&&r&&li(t),t.flags|=1,Oo(e,t,n,s),t.child):(oa(e,t,s),al(e,t,s))}function Ko(e,t,n,r,i){if(Pi(t),null===t.stateNode){var s=Fr,a=n.contextType;"object"==typeof a&&null!==a&&(s=Li(a)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=So,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},vs(t),a=n.contextType,s.context="object"==typeof a&&null!==a?Li(a):Fr,s.state=t.memoizedState,"function"==typeof(a=n.getDerivedStateFromProps)&&(xo(t,n,a,r),s.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(a=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),a!==s.state&&So.enqueueReplaceState(s,s.state,null),Cs(t,r,s,i),Ns(),s.state=t.memoizedState),"function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=No(n,o);s.props=l;var c=s.context,u=n.contextType;a=Fr,"object"==typeof u&&null!==u&&(a=Li(u));var h=n.getDerivedStateFromProps;u="function"==typeof h||"function"==typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o||c!==a)&&Eo(t,s,r,a),ys=!1;var d=t.memoizedState;s.state=d,Cs(t,r,s,i),Ns(),c=t.memoizedState,o||d!==c||ys?("function"==typeof h&&(xo(t,n,h,r),c=t.memoizedState),(l=ys||ko(t,n,l,r,d,c,a))?(u||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=a,r=l):("function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,bs(e,t),u=No(n,a=t.memoizedProps),s.props=u,h=t.pendingProps,d=s.context,c=n.contextType,l=Fr,"object"==typeof c&&null!==c&&(l=Li(c)),(c="function"==typeof(o=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==h||d!==l)&&Eo(t,s,r,l),ys=!1,d=t.memoizedState,s.state=d,Cs(t,r,s,i),Ns();var f=t.memoizedState;a!==h||d!==f||ys||null!==e&&null!==e.dependencies&&Di(e.dependencies)?("function"==typeof o&&(xo(t,n,o,r),f=t.memoizedState),(u=ys||ko(t,n,u,r,d,f,l)||null!==e&&null!==e.dependencies&&Di(e.dependencies))?(c||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=u):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Ho(e,t),r=!!(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=ms(t,e.child,null,i),t.child=ms(t,null,n,i)):Oo(e,t,n,i),t.memoizedState=s.state,e=t.child):e=al(e,t,i),e}function Wo(e,t,n,r){return xi(),t.flags|=256,Oo(e,t,n,r),t.child}var Yo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xo(e){return{baseLanes:e,cachePool:Ji()}}function Jo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=jc),e}function Zo(e,t,n){var r,i=t.pendingProps,a=!1,o=!!(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&!!(2&Us.current)),r&&(a=!0,t.flags&=-129),r=!!(32&t.flags),t.flags&=-33,null===e){if(fi){if(a?Os(t):zs(),(e=di)?null!==(e=null!==(e=Dh(e,mi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ri?{id:ii,overflow:si}:null,retryLane:536870912,hydrationErrors:null},(n=Gr(e)).return=t,t.child=n,hi=t,di=null):e=null,null===e)throw yi(t);return Lh(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,a?(zs(),l=tl({mode:"hidden",children:l},a=t.mode),i=Hr(i,a,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(i=t.child).memoizedState=Xo(n),i.childLanes=Jo(e,r,n),t.memoizedState=Yo,Uo(null,i)):(Os(t),el(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(o)256&t.flags?(Os(t),t.flags&=-257,t=nl(e,t,n)):null!==t.memoizedState?(zs(),t.child=e.child,t.flags|=128,t=null):(zs(),l=i.fallback,a=t.mode,i=tl({mode:"visible",children:i.children},a),(l=Hr(l,a,n,null)).flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,ms(t,e.child,null,n),(i=t.child).memoizedState=Xo(n),i.childLanes=Jo(e,r,n),t.memoizedState=Yo,t=Uo(null,i));else if(Os(t),Lh(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(s(419))).stack="",i.digest=r,ki({value:i,source:null,stack:null}),t=nl(e,t,n)}else if(Ro||Ai(e,t,n,!1),r=0!==(n&e.childLanes),Ro||r){if(null!==(r=gc)&&(0!==(i=Me(r,n))&&i!==c.retryLane))throw c.retryLane=i,Rr(e,i),Yc(r,e,i),Lo;Ph(l)||lu(),t=nl(e,t,n)}else Ph(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,di=Rh(l.nextSibling),hi=t,fi=!0,pi=null,mi=!1,null!==e&&ui(t,e),(t=el(t,i.children)).flags|=4096);return t}return a?(zs(),l=i.fallback,a=t.mode,u=(c=e.child).sibling,(i=Br(c,{mode:"hidden",children:i.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=Br(u,l):(l=Hr(l,a,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,Uo(null,i),i=t.child,null===(l=e.child.memoizedState)?l=Xo(n):(null!==(a=l.cachePool)?(c=Vi._currentValue,a=a.parent!==c?{parent:c,pool:c}:a):a=Ji(),l={baseLanes:l.baseLanes|n,cachePool:a}),i.memoizedState=l,i.childLanes=Jo(e,r,n),t.memoizedState=Yo,Uo(e.child,i)):(Os(t),e=(n=e.child).sibling,(n=Br(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function el(e,t){return(t=tl({mode:"visible",children:t},e.mode)).return=e,e.child=t}function tl(e,t){return(e=Vr(22,e,null,t)).lanes=0,e}function nl(e,t,n){return ms(t,e.child,null,n),(e=el(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function rl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ji(e.return,t,n)}function il(e,t,n,r,i,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.treeForkCount=s)}function sl(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;r=r.children;var a=Us.current,o=!!(2&a);if(o?(a=1&a|2,t.flags|=128):a&=1,q(Us,a),Oo(e,t,r,n),r=fi?ei:0,!o&&null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&rl(e,n,t);else if(19===e.tag)rl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Bs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),il(t,!1,i,n,s,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Bs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}il(t,!0,n,null,s,r);break;case"together":il(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function al(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Cc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ai(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Br(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Br(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ol(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Di(e))}function ll(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ro=!0;else{if(!(ol(e,n)||128&t.flags))return Ro=!1,function(e,t,n){switch(t.tag){case 3:Y(t,t.stateNode.containerInfo),_i(0,Vi,e.memoizedState.cache),xi();break;case 27:case 5:J(t);break;case 4:Y(t,t.stateNode.containerInfo);break;case 10:_i(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Ms(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Os(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Zo(e,t,n):(Os(t),null!==(e=al(e,t,n))?e.sibling:null);Os(t);break;case 19:var i=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(Ai(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return sl(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),q(Us,Us.current),r)break;return null;case 22:return t.lanes=0,Vo(e,t,n,t.pendingProps);case 24:_i(0,Vi,e.memoizedState.cache)}return al(e,t,n)}(e,t,n);Ro=!!(131072&e.flags)}else Ro=!1,fi&&1048576&t.flags&&oi(t,ei,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=ss(t.elementType),t.type=e,"function"!=typeof e){if(null!=e){var i=e.$$typeof;if(i===E){t.tag=11,t=Mo(null,t,e,r,n);break e}if(i===_){t.tag=14,t=Fo(null,t,e,r,n);break e}}throw t=L(e)||e,Error(s(306,t,""))}Ur(e)?(r=No(e,r),t.tag=1,t=Ko(null,t,e,r,n)):(t.tag=0,t=Qo(null,t,e,r,n))}return t;case 0:return Qo(e,t,t.type,t.pendingProps,n);case 1:return Ko(e,t,r=t.type,i=No(r,t.pendingProps),n);case 3:e:{if(Y(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var a=t.memoizedState;i=a.element,bs(e,t),Cs(t,r,null,n);var o=t.memoizedState;if(r=o.cache,_i(0,Vi,r),r!==a.cache&&Ii(t,[Vi],n,!0),Ns(),r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Wo(e,t,r,n);break e}if(r!==i){ki(i=Yr(Error(s(424)),t)),t=Wo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(di=Rh(e.firstChild),hi=t,fi=!0,pi=null,mi=!0,n=gs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(xi(),r===i){t=al(e,t,n);break e}Oo(e,t,r,n)}t=t.child}return t;case 26:return Ho(e,t),null===e?(n=Gh(t.type,null,t.pendingProps,null))?t.memoizedState=n:fi||(n=t.type,e=t.pendingProps,(r=vh(K.current).createElement(n))[qe]=t,r[$e]=e,ph(r,n,e),nt(r),t.stateNode=r):t.memoizedState=Gh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return J(t),null===e&&fi&&(r=t.stateNode=zh(t.type,t.pendingProps,K.current),hi=t,mi=!0,i=di,Th(t.type)?(Oh=i,di=Rh(r.firstChild)):di=i),Oo(e,t,t.pendingProps.children,n),Ho(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&fi&&((i=r=di)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ye])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=Rh(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,mi))?(t.stateNode=r,hi=t,di=Rh(r.firstChild),mi=!1,i=!0):i=!1),i||yi(t)),J(t),i=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,r=a.children,xh(i,a)?r=null:null!==o&&xh(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=na(e,t,sa,null,null,n),dd._currentValue=i),Ho(e,t),Oo(e,t,r,n),t.child;case 6:return null===e&&fi&&((e=n=di)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Rh(e.nextSibling)))return null}return e}(n,t.pendingProps,mi))?(t.stateNode=n,hi=t,di=null,e=!0):e=!1),e||yi(t)),null;case 13:return Zo(e,t,n);case 4:return Y(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ms(t,null,r,n):Oo(e,t,r,n),t.child;case 11:return Mo(e,t,t.type,t.pendingProps,n);case 7:return Oo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Oo(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,_i(0,t.type,r.value),Oo(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Pi(t),r=r(i=Li(i)),t.flags|=1,Oo(e,t,r,n),t.child;case 14:return Fo(e,t,t.type,t.pendingProps,n);case 15:return zo(e,t,t.type,t.pendingProps,n);case 19:return sl(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,i=!!(128&t.flags);if(t.flags&=-129,null===e){if(fi){if("hidden"===r.mode)return e=qo(t,r),t.lanes=536870912,Uo(null,e);if(Ms(t),(e=di)?null!==(e=null!==(e=Dh(e,mi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ri?{id:ii,overflow:si}:null,retryLane:536870912,hydrationErrors:null},(n=Gr(e)).return=t,t.child=n,hi=t,di=null):e=null,null===e)throw yi(t);return t.lanes=536870912,null}return qo(t,r)}var a=e.memoizedState;if(null!==a){var o=a.dehydrated;if(Ms(t),i)if(256&t.flags)t.flags&=-257,t=$o(e,t,n);else{if(null===t.memoizedState)throw Error(s(558));t.child=e.child,t.flags|=128,t=null}else if(Ro||Ai(e,t,n,!1),i=0!==(n&e.childLanes),Ro||i){if(null!==(r=gc)&&0!==(o=Me(r,n))&&o!==a.retryLane)throw a.retryLane=o,Rr(e,o),Yc(r,e,o),Lo;lu(),t=$o(e,t,n)}else e=a.treeContext,di=Rh(o.nextSibling),hi=t,fi=!0,pi=null,mi=!1,null!==e&&ui(t,e),(t=qo(t,r)).flags|=4096;return t}return(e=Br(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Vo(e,t,n,t.pendingProps);case 24:return Pi(t),r=Li(Vi),null===e?(null===(i=Yi())&&(i=gc,a=Ui(),i.pooledCache=a,a.refCount++,null!==a&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},vs(t),_i(0,Vi,i)):(0!==(e.lanes&n)&&(bs(e,t),Cs(t,null,null,n),Ns()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),_i(0,Vi,r)):(r=a.cache,_i(0,Vi,r),r!==i.cache&&Ii(t,[Vi],n,!0))),Oo(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function cl(e){e.flags|=4}function ul(e,t,n,r,i){if((t=!!(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!su())throw as=ns,es;e.flags|=8192}}else e.flags&=-16777217}function hl(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!ad(t)){if(!su())throw as=ns,es;e.flags|=8192}}function dl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?De():536870912,e.lanes|=t,Ic|=t)}function fl(e,t){if(!fi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ml(e,t,n){var r=t.pendingProps;switch(ci(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return pl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ti(Vi),X(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(wi(t)?cl(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,Si())),pl(t),null;case 26:var i=t.type,a=t.memoizedState;return null===e?(cl(t),null!==a?(pl(t),hl(t,a)):(pl(t),ul(t,i,0,0,n))):a?a!==e.memoizedState?(cl(t),pl(t),hl(t,a)):(pl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&cl(t),pl(t),ul(t,i,0,0,n)),null;case 27:if(Z(t),n=K.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&cl(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return pl(t),null}e=Q.current,wi(t)?vi(t):(e=zh(i,r,n),t.stateNode=e,cl(t))}return pl(t),null;case 5:if(Z(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&cl(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return pl(t),null}if(a=Q.current,wi(t))vi(t);else{var o=vh(K.current);switch(a){case 1:a=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(a=o.createElement("div")).innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a="string"==typeof r.is?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a="string"==typeof r.is?o.createElement(i,{is:r.is}):o.createElement(i)}}a[qe]=t,a[$e]=r;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)a.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=a;e:switch(ph(a,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&cl(t)}}return pl(t),ul(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&cl(t);else{if("string"!=typeof r&&null===t.stateNode)throw Error(s(166));if(e=K.current,wi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=hi))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[qe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||hh(e.nodeValue,n)))||yi(t,!0)}else(e=vh(e).createTextNode(r))[qe]=t,t.stateNode=e}return pl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=wi(t),null!==n){if(null===e){if(!r)throw Error(s(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(s(557));e[qe]=t}else xi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;pl(t),e=!1}else n=Si(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Vs(t),t):(Vs(t),null);if(128&t.flags)throw Error(s(558))}return pl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=wi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[qe]=t}else xi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;pl(t),i=!1}else i=Si(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(Vs(t),t):(Vs(t),null)}return Vs(t),128&t.flags?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool),a=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),dl(t,t.updateQueue),pl(t),null);case 4:return X(),null===e&&th(t.stateNode.containerInfo),pl(t),null;case 10:return Ti(t.type),pl(t),null;case 19:if(B(Us),null===(r=t.memoizedState))return pl(t),null;if(i=!!(128&t.flags),null===(a=r.rendering))if(i)fl(r,!1);else{if(0!==Nc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(a=Bs(e))){for(t.flags|=128,fl(r,!1),e=a.updateQueue,t.updateQueue=e,dl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)qr(n,e),n=n.sibling;return q(Us,1&Us.current|2),fi&&ai(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&ue()>Oc&&(t.flags|=128,i=!0,fl(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Bs(a))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,dl(t,e),fl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate&&!fi)return pl(t),null}else 2*ue()-r.renderingStartTime>Oc&&536870912!==n&&(t.flags|=128,i=!0,fl(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=r.last)?e.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=ue(),e.sibling=null,n=Us.current,q(Us,i?1&n|2:1&n),fi&&ai(t,r.treeForkCount),e):(pl(t),null);case 22:case 23:return Vs(t),Ps(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?!!(536870912&n)&&!(128&t.flags)&&(pl(t),6&t.subtreeFlags&&(t.flags|=8192)):pl(t),null!==(n=t.updateQueue)&&dl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&B(Wi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ti(Vi),pl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function gl(e,t){switch(ci(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ti(Vi),X(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Z(t),null;case 31:if(null!==t.memoizedState){if(Vs(t),null===t.alternate)throw Error(s(340));xi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Vs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));xi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(Us),null;case 4:return X(),null;case 10:return Ti(t.type),null;case 22:case 23:return Vs(t),Ps(),null!==e&&B(Wi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ti(Vi),null;default:return null}}function yl(e,t){switch(ci(t),t.tag){case 3:Ti(Vi),X();break;case 26:case 27:case 5:Z(t);break;case 4:X();break;case 31:null!==t.memoizedState&&Vs(t);break;case 13:Vs(t);break;case 19:B(Us);break;case 10:Ti(t.type);break;case 22:case 23:Vs(t),Ps(),null!==e&&B(Wi);break;case 24:Ti(Vi)}}function vl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){Nu(t,t.return,o)}}function bl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var a=r.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,i=t;var l=n,c=o;try{c()}catch(u){Nu(i,l,u)}}}r=r.next}while(r!==s)}}catch(u){Nu(t,t.return,u)}}function wl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ts(t,n)}catch(r){Nu(e,e.return,r)}}}function xl(e,t,n){n.props=No(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Nu(e,t,r)}}function Sl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(i){Nu(e,t,i)}}function kl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(i){Nu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(s){Nu(e,t,s)}else n.current=null}function El(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Nu(e,e.return,i)}}function Nl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,o=null,l=null,c=null,u=null,h=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":c=d;default:r.hasOwnProperty(p)||dh(e,t,p,null,r,d)}}for(var f in r){var p=r[f];if(d=n[f],r.hasOwnProperty(f)&&(null!=p||null!=d))switch(f){case"type":a=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":h=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:p!==d&&dh(e,t,f,p,r,d)}}return void wt(e,o,l,c,u,h,a,i);case"select":for(a in p=o=l=f=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(a)||dh(e,t,a,null,r,c)}for(i in r)if(a=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=a||null!=c))switch(i){case"value":f=a;break;case"defaultValue":l=a;break;case"multiple":o=a;default:a!==c&&dh(e,t,i,a,r,c)}return t=l,n=o,r=p,void(null!=f?kt(e,!!n,f,!1):!!r!=!!n&&(null!=t?kt(e,!!n,t,!0):kt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:dh(e,t,l,null,r,i)}for(o in r)if(i=r[o],a=n[o],r.hasOwnProperty(o)&&(null!=i||null!=a))switch(o){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(s(91));break;default:i!==a&&dh(e,t,o,i,r,a)}return void Et(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else dh(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!=typeof f&&"symbol"!=typeof f;else dh(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&dh(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:dh(e,t,u,f,r,p)}return;default:if(It(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&fh(e,t,y,void 0,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||void 0===f&&void 0===p||fh(e,t,h,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&dh(e,t,v,null,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||null==f&&null==p||dh(e,t,d,f,r,p)}(r,e.type,n,t),r[$e]=t}catch(i){Nu(e,e.return,i)}}function Cl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Th(e.type)||4===e.tag}function _l(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Cl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Th(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Tl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Lt));else if(4!==r&&(27===r&&Th(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Tl(e,t,n),e=e.sibling;null!==e;)Tl(e,t,n),e=e.sibling}function jl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Th(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(jl(e,t,n),e=e.sibling;null!==e;)jl(e,t,n),e=e.sibling}function Il(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ph(t,r,n),t[qe]=e,t[$e]=n}catch(s){Nu(e,e.return,s)}}var Al=!1,Dl=!1,Pl=!1,Ll="function"==typeof WeakSet?WeakSet:Set,Rl=null;function Ol(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Yl(e,n),4&r&&vl(5,n);break;case 1:if(Yl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){Nu(n,n.return,a)}else{var i=No(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Nu(n,n.return,o)}}64&r&&wl(n),512&r&&Sl(n,n.return);break;case 3:if(Yl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Ts(e,t)}catch(a){Nu(n,n.return,a)}}break;case 27:null===t&&4&r&&Il(n);case 26:case 5:Yl(e,n),null===t&&4&r&&El(n),512&r&&Sl(n,n.return);break;case 12:Yl(e,n);break;case 31:Yl(e,n),4&r&&Bl(e,n);break;case 13:Yl(e,n),4&r&&ql(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=ju.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Al)){t=null!==t&&null!==t.memoizedState||Dl,i=Al;var s=Dl;Al=r,(Dl=t)&&!s?Jl(e,n,!!(8772&n.subtreeFlags)):Yl(e,n),Al=i,Dl=s}break;case 30:break;default:Yl(e,n)}}function Ml(e){var t=e.alternate;null!==t&&(e.alternate=null,Ml(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Xe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Fl=null,zl=!1;function Vl(e,t,n){for(n=n.child;null!==n;)Ul(e,t,n),n=n.sibling}function Ul(e,t,n){if(we&&"function"==typeof we.onCommitFiberUnmount)try{we.onCommitFiberUnmount(be,n)}catch(s){}switch(n.tag){case 26:Dl||kl(n,t),Vl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Dl||kl(n,t);var r=Fl,i=zl;Th(n.type)&&(Fl=n.stateNode,zl=!1),Vl(e,t,n),Vh(n.stateNode),Fl=r,zl=i;break;case 5:Dl||kl(n,t);case 6:if(r=Fl,i=zl,Fl=null,Vl(e,t,n),zl=i,null!==(Fl=r))if(zl)try{(9===Fl.nodeType?Fl.body:"HTML"===Fl.nodeName?Fl.ownerDocument.body:Fl).removeChild(n.stateNode)}catch(a){Nu(n,t,a)}else try{Fl.removeChild(n.stateNode)}catch(a){Nu(n,t,a)}break;case 18:null!==Fl&&(zl?(jh(9===(e=Fl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Qd(e)):jh(Fl,n.stateNode));break;case 4:r=Fl,i=zl,Fl=n.stateNode.containerInfo,zl=!0,Vl(e,t,n),Fl=r,zl=i;break;case 0:case 11:case 14:case 15:bl(2,n,t),Dl||bl(4,n,t),Vl(e,t,n);break;case 1:Dl||(kl(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&xl(n,t,r)),Vl(e,t,n);break;case 21:Vl(e,t,n);break;case 22:Dl=(r=Dl)||null!==n.memoizedState,Vl(e,t,n),Dl=r;break;default:Vl(e,t,n)}}function Bl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Qd(e)}catch(n){Nu(t,t.return,n)}}}function ql(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Qd(e)}catch(n){Nu(t,t.return,n)}}function $l(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Ll),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Ll),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Iu.bind(null,e,t);t.then(r,r)}})}function Hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(Th(l.type)){Fl=l.stateNode,zl=!1;break e}break;case 5:Fl=l.stateNode,zl=!1;break e;case 3:case 4:Fl=l.stateNode.containerInfo,zl=!0;break e}l=l.return}if(null===Fl)throw Error(s(160));Ul(a,o,i),Fl=null,zl=!1,null!==(a=i.alternate)&&(a.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Gl(t,e),t=t.sibling}var Ql=null;function Gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Hl(t,e),Kl(e),4&r&&(bl(3,e,e.return),vl(3,e),bl(5,e,e.return));break;case 1:Hl(t,e),Kl(e),512&r&&(Dl||null===n||kl(n,n.return)),64&r&&Al&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Ql;if(Hl(t,e),Kl(e),512&r&&(Dl||null===n||kl(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(a=i.getElementsByTagName("title")[0])||a[Ye]||a[qe]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),ph(a,r,n),a[qe]=e,nt(a),r=a;break e;case"link":var o=id("link","href",i).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((a=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}ph(a=i.createElement(r),r,n),i.head.appendChild(a);break;case"meta":if(o=id("meta","content",i).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((a=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}ph(a=i.createElement(r),r,n),i.head.appendChild(a);break;default:throw Error(s(468,r))}a[qe]=e,nt(a),r=a}e.stateNode=r}else sd(i,e.type,e.stateNode);else e.stateNode=Zh(i,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?sd(i,e.type,e.stateNode):Zh(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Nl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Hl(t,e),Kl(e),512&r&&(Dl||null===n||kl(n,n.return)),null!==n&&4&r&&Nl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Hl(t,e),Kl(e),512&r&&(Dl||null===n||kl(n,n.return)),32&e.flags){i=e.stateNode;try{Ct(i,"")}catch(m){Nu(e,e.return,m)}}4&r&&null!=e.stateNode&&Nl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(Pl=!0);break;case 6:if(Hl(t,e),Kl(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){Nu(e,e.return,m)}}break;case 3:if(rd=null,i=Ql,Ql=qh(t.containerInfo),Hl(t,e),Ql=i,Kl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Qd(t.containerInfo)}catch(m){Nu(e,e.return,m)}Pl&&(Pl=!1,Wl(e));break;case 4:r=Ql,Ql=qh(e.stateNode.containerInfo),Hl(t,e),Kl(e),Ql=r;break;case 12:default:Hl(t,e),Kl(e);break;case 31:case 19:Hl(t,e),Kl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,$l(e,r)));break;case 13:Hl(t,e),Kl(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Lc=ue()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,$l(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Al,h=Dl;if(Al=u||i,Dl=h||c,Hl(t,e),Dl=h,Al=u,Kl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||Al||Dl||Xl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,i)"function"==typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var d=c.memoizedProps.style,f=null!=d&&d.hasOwnProperty("display")?d.display:null;l.style.display=null==f||"boolean"==typeof f?"":(""+f).trim()}}catch(m){Nu(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(m){Nu(c,c.return,m)}}}else if(18===t.tag){if(null===n){c=t;try{var p=c.stateNode;i?Ih(p,!0):Ih(c.stateNode,!1)}catch(m){Nu(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,$l(e,n))));case 30:case 21:}}function Kl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(Cl(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var i=n.stateNode;jl(e,_l(e),i);break;case 5:var a=n.stateNode;32&n.flags&&(Ct(a,""),n.flags&=-33),jl(e,_l(e),a);break;case 3:case 4:var o=n.stateNode.containerInfo;Tl(e,_l(e),o);break;default:throw Error(s(161))}}catch(l){Nu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Wl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Wl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Yl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ol(e,t.alternate,t),t=t.sibling}function Xl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:bl(4,t,t.return),Xl(t);break;case 1:kl(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&xl(t,t.return,n),Xl(t);break;case 27:Vh(t.stateNode);case 26:case 5:kl(t,t.return),Xl(t);break;case 22:null===t.memoizedState&&Xl(t);break;default:Xl(t)}e=e.sibling}}function Jl(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:Jl(i,s,n),vl(4,s);break;case 1:if(Jl(i,s,n),"function"==typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){Nu(r,r.return,c)}if(null!==(i=(r=s).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)_s(l[i],o)}catch(c){Nu(r,r.return,c)}}n&&64&a&&wl(s),Sl(s,s.return);break;case 27:Il(s);case 26:case 5:Jl(i,s,n),n&&null===r&&4&a&&El(s),Sl(s,s.return);break;case 12:Jl(i,s,n);break;case 31:Jl(i,s,n),n&&4&a&&Bl(i,s);break;case 13:Jl(i,s,n),n&&4&a&&ql(i,s);break;case 22:null===s.memoizedState&&Jl(i,s,n),Sl(s,s.return);break;case 30:break;default:Jl(i,s,n)}t=t.sibling}}function Zl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Bi(n))}function ec(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bi(e))}function tc(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)nc(e,t,n,r),t=t.sibling}function nc(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:tc(e,t,n,r),2048&i&&vl(9,t);break;case 1:case 31:case 13:default:tc(e,t,n,r);break;case 3:tc(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bi(e)));break;case 12:if(2048&i){tc(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,o=s.onPostCommit;"function"==typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Nu(t,t.return,l)}}else tc(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,null!==t.memoizedState?2&s._visibility?tc(e,t,n,r):ic(e,t):2&s._visibility?tc(e,t,n,r):(s._visibility|=2,rc(e,t,n,r,!!(10256&t.subtreeFlags)||!1)),2048&i&&Zl(a,t);break;case 24:tc(e,t,n,r),2048&i&&ec(t.alternate,t)}}function rc(e,t,n,r,i){for(i=i&&(!!(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var s=e,a=t,o=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:rc(s,a,o,l,i),vl(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?rc(s,a,o,l,i):ic(s,a):(u._visibility|=2,rc(s,a,o,l,i)),i&&2048&c&&Zl(a.alternate,a);break;case 24:rc(s,a,o,l,i),i&&2048&c&&ec(a.alternate,a);break;default:rc(s,a,o,l,i)}t=t.sibling}}function ic(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:ic(n,r),2048&i&&Zl(r.alternate,r);break;case 24:ic(n,r),2048&i&&ec(r.alternate,r);break;default:ic(n,r)}t=t.sibling}}var sc=8192;function ac(e,t,n){if(e.subtreeFlags&sc)for(e=e.child;null!==e;)oc(e,t,n),e=e.sibling}function oc(e,t,n){switch(e.tag){case 26:ac(e,t,n),e.flags&sc&&null!==e.memoizedState&&function(e,t,n,r){if(!("stylesheet"!==n.type||"string"==typeof r.media&&!1===matchMedia(r.media).matches||4&n.state.loading)){if(null===n.instance){var i=Kh(r.href),s=t.querySelector(Wh(i));if(s)return null!==(t=s._p)&&"object"==typeof t&&"function"==typeof t.then&&(e.count++,e=ld.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,void nt(s);s=t.ownerDocument||t,r=Yh(r),(i=Uh.get(i))&&td(r,i),nt(s=s.createElement("link"));var a=s;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),ph(s,"link",r),n.instance=s}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(3&n.state.loading)&&(e.count++,n=ld.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Ql,e.memoizedState,e.memoizedProps);break;case 5:default:ac(e,t,n);break;case 3:case 4:var r=Ql;Ql=qh(e.stateNode.containerInfo),ac(e,t,n),Ql=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=sc,sc=16777216,ac(e,t,n),sc=r):ac(e,t,n))}}function lc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function cc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Rl=r,dc(r,e)}lc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)uc(e),e=e.sibling}function uc(e){switch(e.tag){case 0:case 11:case 15:cc(e),2048&e.flags&&bl(9,e,e.return);break;case 3:case 12:default:cc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,hc(e)):cc(e)}}function hc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Rl=r,dc(r,e)}lc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:bl(8,t,t.return),hc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,hc(t));break;default:hc(t)}e=e.sibling}}function dc(e,t){for(;null!==Rl;){var n=Rl;switch(n.tag){case 0:case 11:case 15:bl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Bi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Rl=r;else e:for(n=e;null!==Rl;){var i=(r=Rl).sibling,s=r.return;if(Ml(r),r===n){Rl=null;break e}if(null!==i){i.return=s,Rl=i;break e}Rl=s}}}var fc={getCacheForType:function(e){var t=Li(Vi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Li(Vi).controller.signal}},pc="function"==typeof WeakMap?WeakMap:Map,mc=0,gc=null,yc=null,vc=0,bc=0,wc=null,xc=!1,Sc=!1,kc=!1,Ec=0,Nc=0,Cc=0,_c=0,Tc=0,jc=0,Ic=0,Ac=null,Dc=null,Pc=!1,Lc=0,Rc=0,Oc=1/0,Mc=null,Fc=null,zc=0,Vc=null,Uc=null,Bc=0,qc=0,$c=null,Hc=null,Qc=0,Gc=null;function Kc(){return 2&mc&&0!==vc?vc&-vc:null!==O.T?$u():Ve()}function Wc(){if(0===jc)if(536870912&vc&&!fi)jc=536870912;else{var e=Ce;!(3932160&(Ce<<=1))&&(Ce=262144),jc=e}return null!==(e=Ls.current)&&(e.flags|=32),jc}function Yc(e,t,n){(e!==gc||2!==bc&&9!==bc)&&null===e.cancelPendingCommit||(ru(e,0),eu(e,vc,jc,!1)),Le(e,n),2&mc&&e===gc||(e===gc&&(!(2&mc)&&(_c|=n),4===Nc&&eu(e,vc,jc,!1)),Mu(e))}function Xc(e,t,n){if(6&mc)throw Error(s(327));for(var r=!n&&!(127&t)&&0===(t&e.expiredLanes)||Ie(e,t),i=r?function(e,t){var n=mc;mc|=2;var r=au(),i=ou();gc!==e||vc!==t?(Mc=null,Oc=ue()+500,ru(e,t)):Sc=Ie(e,t);e:for(;;)try{if(0!==bc&&null!==yc){t=yc;var a=wc;t:switch(bc){case 1:bc=0,wc=null,pu(e,t,a,1);break;case 2:case 9:if(rs(a)){bc=0,wc=null,fu(t);break}t=function(){2!==bc&&9!==bc||gc!==e||(bc=7),Mu(e)},a.then(t,t);break e;case 3:bc=7;break e;case 4:bc=5;break e;case 7:rs(a)?(bc=0,wc=null,fu(t)):(bc=0,wc=null,pu(e,t,a,7));break;case 5:var o=null;switch(yc.tag){case 26:o=yc.memoizedState;case 5:case 27:var l=yc;if(o?ad(o):l.stateNode.complete){bc=0,wc=null;var c=l.sibling;if(null!==c)yc=c;else{var u=l.return;null!==u?(yc=u,mu(u)):yc=null}break t}}bc=0,wc=null,pu(e,t,a,5);break;case 6:bc=0,wc=null,pu(e,t,a,6);break;case 8:nu(),Nc=6;break e;default:throw Error(s(462))}}hu();break}catch(h){iu(e,h)}return Ci=Ni=null,O.H=r,O.A=i,mc=n,null!==yc?0:(gc=null,vc=0,Dr(),Nc)}(e,t):cu(e,t,!0),a=r;;){if(0===i){Sc&&!r&&eu(e,t,0,!1);break}if(n=e.current.alternate,!a||Zc(n)){if(2===i){if(a=t,e.errorRecoveryDisabledLanes&a)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;i=Ac;var c=l.current.memoizedState.isDehydrated;if(c&&(ru(l,o).flags|=256),2!==(o=cu(l,o,!1))){if(kc&&!c){l.errorRecoveryDisabledLanes|=a,_c|=a,i=4;break e}a=Dc,Dc=i,null!==a&&(null===Dc?Dc=a:Dc.push.apply(Dc,a))}i=o}if(a=!1,2!==i)continue}}if(1===i){ru(e,0),eu(e,t,0,!0);break}e:{switch(r=e,a=i){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:eu(r,t,jc,!xc);break e;case 2:Dc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(i=Lc+300-ue())){if(eu(r,t,jc,!xc),0!==je(r,0,!0))break e;Bc=t,r.timeoutHandle=kh(Jc.bind(null,r,n,Dc,Mc,Pc,t,jc,_c,Ic,xc,a,"Throttled",-0,0),i)}else Jc(r,n,Dc,Mc,Pc,t,jc,_c,Ic,xc,a,null,-0,0)}break}i=cu(e,t,!1),a=!1}Mu(e)}function Jc(e,t,n,r,i,s,a,o,l,c,u,h,d,f){if(e.timeoutHandle=-1,8192&(h=t.subtreeFlags)||!(16785408&~h)){oc(t,s,h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Lt});var p=(62914560&s)===s?Lc-ue():(4194048&s)===s?Rc-ue():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&ud(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&ud(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===od&&(od=62500*function(){if("function"==typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],s=i.transferSize,a=i.initiatorType,o=i.duration;if(s&&o&&mh(a)){for(a=0,o=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>o)break;var u=l.transferSize,h=l.initiatorType;u&&mh(h)&&(a+=u*((l=l.responseEnd)<o?1:(o-c)/(l-c)))}if(--r,t+=8*(s+a)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"==typeof(e=navigator.connection.downlink)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&ud(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>od?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(h,p)))return Bc=s,e.cancelPendingCommit=p(yu.bind(null,e,t,s,n,r,i,a,o,l,u,h,null,d,f)),void eu(e,s,a,!c)}yu(e,t,s,n,r,i,a,o,l)}function Zc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!er(s(),i))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function eu(e,t,n,r){t&=~Tc,t&=~_c,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-Se(i),a=1<<s;r[s]=-1,i&=~a}0!==n&&Re(e,n,t)}function tu(){return!!(6&mc)||(Fu(0),!1)}function nu(){if(null!==yc){if(0===bc)var e=yc.return;else Ci=Ni=null,la(e=yc),cs=null,us=0,e=yc;for(;null!==e;)yl(e.alternate,e),e=e.return;yc=null}}function ru(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Eh(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Bc=0,nu(),gc=e,yc=n=Br(e.current,null),vc=t,bc=0,wc=null,xc=!1,Sc=Ie(e,t),kc=!1,Ic=jc=Tc=_c=Cc=Nc=0,Dc=Ac=null,Pc=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-Se(r),s=1<<i;t|=e[i],r&=~s}return Ec=t,Dr(),n}function iu(e,t){$s=null,O.H=yo,t===Zi||t===ts?(t=os(),bc=3):t===es?(t=os(),bc=4):bc=t===Lo?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,wc=t,null===yc&&(Nc=1,jo(e,Yr(t,e.current)))}function su(){var e=Ls.current;return null===e||((4194048&vc)===vc?null===Rs:!!((62914560&vc)===vc||536870912&vc)&&e===Rs)}function au(){var e=O.H;return O.H=yo,null===e?yo:e}function ou(){var e=O.A;return O.A=fc,e}function lu(){Nc=4,xc||(4194048&vc)!==vc&&null!==Ls.current||(Sc=!0),!(134217727&Cc)&&!(134217727&_c)||null===gc||eu(gc,vc,jc,!1)}function cu(e,t,n){var r=mc;mc|=2;var i=au(),s=ou();gc===e&&vc===t||(Mc=null,ru(e,t)),t=!1;var a=Nc;e:for(;;)try{if(0!==bc&&null!==yc){var o=yc,l=wc;switch(bc){case 8:nu(),a=6;break e;case 3:case 2:case 9:case 6:null===Ls.current&&(t=!0);var c=bc;if(bc=0,wc=null,pu(e,o,l,c),n&&Sc){a=0;break e}break;default:c=bc,bc=0,wc=null,pu(e,o,l,c)}}uu(),a=Nc;break}catch(u){iu(e,u)}return t&&e.shellSuspendCounter++,Ci=Ni=null,mc=r,O.H=i,O.A=s,null===yc&&(gc=null,vc=0,Dr()),a}function uu(){for(;null!==yc;)du(yc)}function hu(){for(;null!==yc&&!le();)du(yc)}function du(e){var t=ll(e.alternate,e,Ec);e.memoizedProps=e.pendingProps,null===t?mu(e):yc=t}function fu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Go(n,t,t.pendingProps,t.type,void 0,vc);break;case 11:t=Go(n,t,t.pendingProps,t.type.render,t.ref,vc);break;case 5:la(t);default:yl(n,t),t=ll(n,t=yc=qr(t,Ec),Ec)}e.memoizedProps=e.pendingProps,null===t?mu(e):yc=t}function pu(e,t,n,r){Ci=Ni=null,la(t),cs=null,us=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"==typeof r&&"function"==typeof r.then){if(null!==(t=n.alternate)&&Ai(t,n,i,!0),null!==(n=Ls.current)){switch(n.tag){case 31:case 13:return null===Rs?lu():null===n.alternate&&0===Nc&&(Nc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===ns?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Cu(e,r,i)),!1;case 22:return n.flags|=65536,r===ns?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Cu(e,r,i)),!1}throw Error(s(435,n.tag))}return Cu(e,r,i),lu(),!1}if(fi)return null!==(t=Ls.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==gi&&ki(Yr(e=Error(s(422),{cause:r}),n))):(r!==gi&&ki(Yr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Yr(r,n),ks(e,i=Ao(e.stateNode,r,i)),4!==Nc&&(Nc=2)),!1;var a=Error(s(520),{cause:r});if(a=Yr(a,n),null===Ac?Ac=[a]:Ac.push(a),4!==Nc&&(Nc=2),null===t)return!0;r=Yr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,ks(n,e=Ao(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===a||"function"!=typeof a.componentDidCatch||null!==Fc&&Fc.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,Po(i=Do(i),e,n,r),ks(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,vc))return Nc=1,jo(e,Yr(n,e.current)),void(yc=null)}catch(a){if(null!==i)throw yc=i,a;return Nc=1,jo(e,Yr(n,e.current)),void(yc=null)}32768&t.flags?(fi||1===r?e=!0:Sc||536870912&vc?e=!1:(xc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Ls.current)&&13===r.tag&&(r.flags|=16384))),gu(t,e)):mu(t)}function mu(e){var t=e;do{if(32768&t.flags)return void gu(t,xc);e=t.return;var n=ml(t.alternate,t,Ec);if(null!==n)return void(yc=n);if(null!==(t=t.sibling))return void(yc=t);yc=t=e}while(null!==t);0===Nc&&(Nc=5)}function gu(e,t){do{var n=gl(e.alternate,e);if(null!==n)return n.flags&=32767,void(yc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(yc=e);yc=e=n}while(null!==e);Nc=6,yc=null}function yu(e,t,n,r,i,a,o,l,c){e.cancelPendingCommit=null;do{Su()}while(0!==zc);if(6&mc)throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,i,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-Se(n),h=1<<u;o[u]=0,l[u]=-1;var d=c[u];if(null!==d)for(c[u]=null,u=0;u<d.length;u++){var f=d[u];null!==f&&(f.lane&=-536870913)}n&=~h}0!==r&&Re(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(a&~t))}(e,n,a|=Ar,o,l,c),e===gc&&(yc=gc=null,vc=0),Uc=t,Vc=e,Bc=n,qc=a,$c=i,Hc=r,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,ae(pe,function(){return ku(),null})):(e.callbackNode=null,e.callbackPriority=0),r=!!(13878&t.flags),13878&t.subtreeFlags||r){r=O.T,O.T=null,i=M.p,M.p=2,o=mc,mc|=4;try{!function(e,t){if(e=e.containerInfo,gh=xd,ar(e=sr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=o+i),d!==a||0!==r&&3!==d.nodeType||(c=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++h===r&&(c=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(yh={focusedElem:e,selectionRange:n},xd=!1,Rl=t;null!==Rl;)if(e=(t=Rl).child,1028&t.subtreeFlags&&null!==e)e.return=t,Rl=e;else for(;null!==Rl;){switch(a=(t=Rl).alternate,e=t.flags,t.tag){case 0:if(4&e&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==a){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var m=No(n.type,i);e=r.getSnapshotBeforeUpdate(m,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){Nu(n,n.return,y)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))Ah(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ah(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,Rl=e;break}Rl=t.return}}(e,t)}finally{mc=o,M.p=i,O.T=r}}zc=1,vu(),bu(),wu()}}function vu(){if(1===zc){zc=0;var e=Vc,t=Uc,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=O.T,O.T=null;var r=M.p;M.p=2;var i=mc;mc|=4;try{Gl(t,e);var s=yh,a=sr(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&ir(o.ownerDocument.documentElement,o)){if(null!==l&&ar(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var h=o.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var f=d.getSelection(),p=o.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(a=g,g=m,m=a);var y=rr(o,m),v=rr(o,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=h.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(h=[],f=o;f=f.parentNode;)1===f.nodeType&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"==typeof o.focus&&o.focus(),o=0;o<h.length;o++){var w=h[o];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}xd=!!gh,yh=gh=null}finally{mc=i,M.p=r,O.T=n}}e.current=t,zc=2}}function bu(){if(2===zc){zc=0;var e=Vc,t=Uc,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=O.T,O.T=null;var r=M.p;M.p=2;var i=mc;mc|=4;try{Ol(e,t.alternate,t)}finally{mc=i,M.p=r,O.T=n}}zc=3}}function wu(){if(4===zc||3===zc){zc=0,ce();var e=Vc,t=Uc,n=Bc,r=Hc;10256&t.subtreeFlags||10256&t.flags?zc=5:(zc=0,Uc=Vc=null,xu(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Fc=null),ze(n),t=t.stateNode,we&&"function"==typeof we.onCommitFiberRoot)try{we.onCommitFiberRoot(be,t,void 0,!(128&~t.current.flags))}catch(l){}if(null!==r){t=O.T,i=M.p,M.p=2,O.T=null;try{for(var s=e.onRecoverableError,a=0;a<r.length;a++){var o=r[a];s(o.value,{componentStack:o.stack})}}finally{O.T=t,M.p=i}}3&Bc&&Su(),Mu(e),i=e.pendingLanes,261930&n&&42&i?e===Gc?Qc++:(Qc=0,Gc=e):Qc=0,Fu(0)}}function xu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Bi(t)))}function Su(){return vu(),bu(),wu(),ku()}function ku(){if(5!==zc)return!1;var e=Vc,t=qc;qc=0;var n=ze(Bc),r=O.T,i=M.p;try{M.p=32>n?32:n,O.T=null,n=$c,$c=null;var a=Vc,o=Bc;if(zc=0,Uc=Vc=null,Bc=0,6&mc)throw Error(s(331));var l=mc;if(mc|=4,uc(a.current),nc(a,a.current,o,n),mc=l,Fu(0,!1),we&&"function"==typeof we.onPostCommitFiberRoot)try{we.onPostCommitFiberRoot(be,a)}catch(c){}return!0}finally{M.p=i,O.T=r,xu(e,t)}}function Eu(e,t,n){t=Yr(n,t),null!==(e=xs(e,t=Ao(e.stateNode,t,2),2))&&(Le(e,2),Mu(e))}function Nu(e,t,n){if(3===e.tag)Eu(e,e,n);else for(;null!==t;){if(3===t.tag){Eu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Fc||!Fc.has(r))){e=Yr(n,e),null!==(r=xs(t,n=Do(2),2))&&(Po(n,r,t,e),Le(r,2),Mu(r));break}}t=t.return}}function Cu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new pc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(kc=!0,i.add(n),e=_u.bind(null,e,t,n),t.then(e,e))}function _u(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,gc===e&&(vc&n)===n&&(4===Nc||3===Nc&&(62914560&vc)===vc&&300>ue()-Lc?!(2&mc)&&ru(e,0):Tc|=n,Ic===vc&&(Ic=0)),Mu(e)}function Tu(e,t){0===t&&(t=De()),null!==(e=Rr(e,t))&&(Le(e,t),Mu(e))}function ju(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tu(e,n)}function Iu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),Tu(e,n)}var Au=null,Du=null,Pu=!1,Lu=!1,Ru=!1,Ou=0;function Mu(e){e!==Du&&null===e.next&&(null===Du?Au=Du=e:Du=Du.next=e),Lu=!0,Pu||(Pu=!0,Ch(function(){6&mc?ae(de,zu):Vu()}))}function Fu(e,t){if(!Ru&&Lu){Ru=!0;do{for(var n=!1,r=Au;null!==r;){if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-Se(42|e)+1)-1,s=201326741&(s&=i&~(a&~o))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,qu(r,s))}else s=vc,!(3&(s=je(r,r===gc?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Ie(r,s)||(n=!0,qu(r,s));r=r.next}}while(n);Ru=!1}}function zu(){Vu()}function Vu(){Lu=Pu=!1;var e=0;0!==Ou&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Sh&&(Sh=e,!0);return Sh=null,!1}()&&(e=Ou);for(var t=ue(),n=null,r=Au;null!==r;){var i=r.next,s=Uu(r,t);0===s?(r.next=null,null===n?Au=i:n.next=i,null===i&&(Du=n)):(n=r,(0!==e||3&s)&&(Lu=!0)),r=i}0!==zc&&5!==zc||Fu(e),0!==Ou&&(Ou=0)}function Uu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var a=31-Se(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=Ae(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(n=vc,n=je(e,e===(t=gc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===bc||9===bc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&oe(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||Ie(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&oe(r),ze(n)){case 2:case 8:n=fe;break;case 32:default:n=pe;break;case 268435456:n=ge}return r=Bu.bind(null,e),n=ae(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&oe(r),e.callbackPriority=2,e.callbackNode=null,2}function Bu(e,t){if(0!==zc&&5!==zc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Su()&&e.callbackNode!==n)return null;var r=vc;return 0===(r=je(e,e===gc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Xc(e,r,t),Uu(e,ue()),null!=e.callbackNode&&e.callbackNode===n?Bu.bind(null,e):null)}function qu(e,t){if(Su())return null;Xc(e,t,!0)}function $u(){if(0===Ou){var e=Hi;0===e&&(e=Ne,!(261888&(Ne<<=1))&&(Ne=256)),Ou=e}return Ou}function Hu(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Pt(""+e)}function Qu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Gu=0;Gu<Cr.length;Gu++){var Ku=Cr[Gu];_r(Ku.toLowerCase(),"on"+(Ku[0].toUpperCase()+Ku.slice(1)))}_r(vr,"onAnimationEnd"),_r(br,"onAnimationIteration"),_r(wr,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(xr,"onTransitionRun"),_r(Sr,"onTransitionStart"),_r(kr,"onTransitionCancel"),_r(Er,"onTransitionEnd"),at("onMouseEnter",["mouseout","mouseover"]),at("onMouseLeave",["mouseout","mouseover"]),at("onPointerEnter",["pointerout","pointerover"]),at("onPointerLeave",["pointerout","pointerover"]),st("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),st("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),st("onBeforeInput",["compositionend","keypress","textInput","paste"]),st("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),st("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),st("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wu));function Xu(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){Tr(u)}i.currentTarget=null,s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){Tr(u)}i.currentTarget=null,s=l}}}}function Ju(e,t){var n=t[Qe];void 0===n&&(n=t[Qe]=new Set);var r=e+"__bubble";n.has(r)||(nh(t,e,2,!1),n.add(r))}function Zu(e,t,n){var r=0;t&&(r|=4),nh(n,e,r,t)}var eh="_reactListening"+Math.random().toString(36).slice(2);function th(e){if(!e[eh]){e[eh]=!0,rt.forEach(function(t){"selectionchange"!==t&&(Yu.has(t)||Zu(t,!1,e),Zu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[eh]||(t[eh]=!0,Zu("selectionchange",!1,t))}}function nh(e,t,n,r){switch(Td(t)){case 2:var i=Sd;break;case 8:i=kd;break;default:i=Ed}n=i.bind(null,t,n,e),i=void 0,!$t||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function rh(e,t,n,r,i){var s=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var l=r.stateNode.containerInfo;if(l===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===i)return;a=a.return}for(;null!==l;){if(null===(a=Je(l)))return;if(5===(c=a.tag)||6===c||26===c||27===c){r=s=a;continue e}l=l.parentNode}}r=r.return}Ut(function(){var r=s,i=Ot(n),a=[];e:{var l=Nr.get(e);if(void 0!==l){var c=sn,u=e;switch(e){case"keypress":if(0===Yt(n))break e;case"keydown":case"keyup":c=wn;break;case"focusin":u="focus",c=hn;break;case"focusout":u="blur",c=hn;break;case"beforeblur":case"afterblur":c=hn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=un;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Sn;break;case vr:case br:case wr:c=dn;break;case Er:c=kn;break;case"scroll":case"scrollend":c=on;break;case"wheel":c=En;break;case"copy":case"cut":case"paste":c=fn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=xn;break;case"toggle":case"beforetoggle":c=Nn}var h=!!(4&t),d=!h&&("scroll"===e||"scrollend"===e),f=h?null!==l?l+"Capture":null:l;h=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Bt(m,f))&&h.push(ih(m,g,p)),d)break;m=m.return}0<h.length&&(l=new c(l,u,null,n,i),a.push({event:l,listeners:h}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===Rt||!(u=n.relatedTarget||n.fromElement)||!Je(u)&&!u[He])&&(c||l)&&(l=i.window===i?i:(l=i.ownerDocument)?l.defaultView||l.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Je(u):null)&&(d=o(u),h=u.tag,u!==d||5!==h&&27!==h&&6!==h)&&(u=null)):(c=null,u=r),c!==u)){if(h=cn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(h=xn,g="onPointerLeave",f="onPointerEnter",m="pointer"),d=null==c?l:et(c),p=null==u?l:et(u),(l=new h(g,m+"leave",c,n,i)).target=d,l.relatedTarget=p,g=null,Je(i)===r&&((h=new h(f,m+"enter",u,n,i)).target=p,h.relatedTarget=d,g=h),d=g,c&&u)e:{for(h=ah,m=u,p=0,g=f=c;g;g=h(g))p++;g=0;for(var y=m;y;y=h(y))g++;for(;0<p-g;)f=h(f),p--;for(;0<g-p;)m=h(m),g--;for(;p--;){if(f===m||null!==m&&f===m.alternate){h=f;break e}f=h(f),m=h(m)}h=null}else h=null;null!==c&&oh(a,l,c,h,!1),null!==u&&null!==d&&oh(a,d,u,h,!0)}if("select"===(c=(l=r?et(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===c&&"file"===l.type)var v=qn;else if(Mn(l))if($n)v=Zn;else{v=Xn;var b=Yn}else!(c=l.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?r&&It(r.elementType)&&(v=qn):v=Jn;switch(v&&(v=v(e,r))?Fn(a,v,n,i):(b&&b(e,l,r),"focusout"===e&&r&&"number"===l.type&&null!=r.memoizedProps.value&&St(l,"number",l.value)),b=r?et(r):window,e){case"focusin":(Mn(b)||"true"===b.contentEditable)&&(lr=b,cr=r,ur=null);break;case"focusout":ur=cr=lr=null;break;case"mousedown":hr=!0;break;case"contextmenu":case"mouseup":case"dragend":hr=!1,dr(a,n,i);break;case"selectionchange":if(or)break;case"keydown":case"keyup":dr(a,n,i)}var w;if(_n)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Rn?Pn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(In&&"ko"!==n.locale&&(Rn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Rn&&(w=Wt()):(Gt="value"in(Qt=i)?Qt.value:Qt.textContent,Rn=!0)),0<(b=sh(r,x)).length&&(x=new pn(x,e,null,n,i),a.push({event:x,listeners:b}),w?x.data=w:null!==(w=Ln(n))&&(x.data=w))),(w=jn?function(e,t){switch(e){case"compositionend":return Ln(t);case"keypress":return 32!==t.which?null:(Dn=!0,An);case"textInput":return(e=t.data)===An&&Dn?null:e;default:return null}}(e,n):function(e,t){if(Rn)return"compositionend"===e||!_n&&Pn(e,t)?(e=Wt(),Kt=Gt=Qt=null,Rn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=sh(r,"onBeforeInput")).length&&(b=new pn("onBeforeInput","beforeinput",null,n,i),a.push({event:b,listeners:x}),b.data=w)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=Hu((i[$e]||null).action),a=r.submitter;a&&null!==(t=(t=a[$e]||null)?Hu(t.formAction):a.getAttribute("formAction"))&&(s=t,a=null);var o=new sn("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Ou){var e=a?Qu(i,a):new FormData(i);no(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"==typeof s&&(o.preventDefault(),e=a?Qu(i,a):new FormData(i),no(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(a,e,r,n,i)}Xu(a,t)})}function ih(e,t,n){return{instance:e,listener:t,currentTarget:n}}function sh(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=Bt(e,n))&&r.unshift(ih(e,i,s)),null!=(i=Bt(e,t))&&r.push(ih(e,i,s))),3===e.tag)return r;e=e.return}return[]}function ah(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function oh(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=Bt(n,s))&&a.unshift(ih(n,c,l)):i||null!=(c=Bt(n,s))&&a.push(ih(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var lh=/\r\n?/g,ch=/\u0000|\uFFFD/g;function uh(e){return("string"==typeof e?e:""+e).replace(lh,"\n").replace(ch,"")}function hh(e,t){return t=uh(t),uh(e)===t}function dh(e,t,n,r,i,a){switch(n){case"children":"string"==typeof r?"body"===t||"textarea"===t&&""===r||Ct(e,r):("number"==typeof r||"bigint"==typeof r)&&"body"!==t&&Ct(e,""+r);break;case"className":ht(e,"class",r);break;case"tabIndex":ht(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ht(e,n,r);break;case"style":jt(e,r,a);break;case"data":if("object"!==t){ht(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"==typeof r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"==typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof a&&("formAction"===n?("input"!==t&&dh(e,t,"name",i.name,i,null),dh(e,t,"formEncType",i.formEncType,i,null),dh(e,t,"formMethod",i.formMethod,i,null),dh(e,t,"formTarget",i.formTarget,i,null)):(dh(e,t,"encType",i.encType,i,null),dh(e,t,"method",i.method,i,null),dh(e,t,"target",i.target,i,null))),null==r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Lt);break;case"onScroll":null!=r&&Ju("scroll",e);break;case"onScrollEnd":null!=r&&Ju("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"muted":e.muted=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"==typeof r||"boolean"==typeof r||"symbol"==typeof r){e.removeAttribute("xlink:href");break}n=Pt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!=typeof r&&"symbol"!=typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"==typeof r||"symbol"==typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Ju("beforetoggle",e),Ju("toggle",e),ut(e,"popover",r);break;case"xlinkActuate":dt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":dt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":dt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":dt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":dt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":dt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":dt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":dt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":dt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ut(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&ut(e,n=At.get(n)||n,r)}}function fh(e,t,n,r,i,a){switch(n){case"style":jt(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"==typeof r?Ct(e,r):("number"==typeof r||"bigint"==typeof r)&&Ct(e,""+r);break;case"onScroll":null!=r&&Ju("scroll",e);break;case"onScrollEnd":null!=r&&Ju("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Lt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:it.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"==typeof(a=null!=(a=e[$e]||null)?a[n]:null)&&e.removeEventListener(t,a,i),"function"!=typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):ut(e,n,r):("function"!=typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function ph(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ju("error",e),Ju("load",e);var r,i=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:dh(e,t,r,o,n,null)}}return a&&dh(e,t,"srcSet",n.srcSet,n,null),void(i&&dh(e,t,"src",n.src,n,null));case"input":Ju("invalid",e);var l=r=o=a=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(null!=h)switch(i){case"name":a=h;break;case"type":o=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":r=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(s(137,t));break;default:dh(e,t,i,h,n,null)}}return void xt(e,r,l,c,u,o,a,!1);case"select":for(a in Ju("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:dh(e,t,a,l,n,null)}return t=r,n=o,e.multiple=!!i,void(null!=t?kt(e,!!i,t,!1):null!=n&&kt(e,!!i,n,!0));case"textarea":for(o in Ju("invalid",e),r=a=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":a=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:dh(e,t,o,l,n,null)}return void Nt(e,i,a,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!=typeof i&&"symbol"!=typeof i;else dh(e,t,c,i,n,null);return;case"dialog":Ju("beforetoggle",e),Ju("toggle",e),Ju("cancel",e),Ju("close",e);break;case"iframe":case"object":Ju("load",e);break;case"video":case"audio":for(i=0;i<Wu.length;i++)Ju(Wu[i],e);break;case"image":Ju("error",e),Ju("load",e);break;case"details":Ju("toggle",e);break;case"embed":case"source":case"link":Ju("error",e),Ju("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:dh(e,t,u,i,n,null)}return;default:if(It(t)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(i=n[h])&&fh(e,t,h,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&dh(e,t,l,i,n,null))}function mh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var gh=null,yh=null;function vh(e){return 9===e.nodeType?e:e.ownerDocument}function bh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function xh(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Sh=null;var kh="function"==typeof setTimeout?setTimeout:void 0,Eh="function"==typeof clearTimeout?clearTimeout:void 0,Nh="function"==typeof Promise?Promise:void 0,Ch="function"==typeof queueMicrotask?queueMicrotask:void 0!==Nh?function(e){return Nh.resolve(null).then(e).catch(_h)}:kh;function _h(e){setTimeout(function(){throw e})}function Th(e){return"head"===e}function jh(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void Qd(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Vh(e.ownerDocument.documentElement);else if("head"===n){Vh(n=e.ownerDocument.head);for(var s=n.firstChild;s;){var a=s.nextSibling,o=s.nodeName;s[Ye]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=a}}else"body"===n&&Vh(e.ownerDocument.body);n=i}while(n);Qd(t)}function Ih(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Ah(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ah(n),Xe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Dh(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Rh(e.nextSibling)))return null}return e}function Ph(e){return"$?"===e.data||"$~"===e.data}function Lh(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Rh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Oh=null;function Mh(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Rh(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Fh(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function zh(e,t,n){switch(t=vh(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function Vh(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Xe(e)}var Uh=new Map,Bh=new Set;function qh(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var $h=M.d;M.d={f:function(){var e=$h.f(),t=tu();return e||t},r:function(e){var t=Ze(e);null!==t&&5===t.tag&&"form"===t.type?io(t):$h.r(e)},D:function(e){$h.D(e),Qh("dns-prefetch",e,null)},C:function(e,t){$h.C(e,t),Qh("preconnect",e,t)},L:function(e,t,n){$h.L(e,t,n);var r=Hh;if(r&&e&&t){var i='link[rel="preload"][as="'+bt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+bt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(i+='[imagesizes="'+bt(n.imageSizes)+'"]')):i+='[href="'+bt(e)+'"]';var s=i;switch(t){case"style":s=Kh(e);break;case"script":s=Xh(e)}Uh.has(s)||(e=d({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Uh.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Wh(s))||"script"===t&&r.querySelector(Jh(s))||(ph(t=r.createElement("link"),"link",e),nt(t),r.head.appendChild(t)))}},m:function(e,t){$h.m(e,t);var n=Hh;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+bt(r)+'"][href="'+bt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Xh(e)}if(!Uh.has(s)&&(e=d({rel:"modulepreload",href:e},t),Uh.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Jh(s)))return}ph(r=n.createElement("link"),"link",e),nt(r),n.head.appendChild(r)}}},X:function(e,t){$h.X(e,t);var n=Hh;if(n&&e){var r=tt(n).hoistableScripts,i=Xh(e),s=r.get(i);s||((s=n.querySelector(Jh(i)))||(e=d({src:e,async:!0},t),(t=Uh.get(i))&&nd(e,t),nt(s=n.createElement("script")),ph(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){$h.S(e,t,n);var r=Hh;if(r&&e){var i=tt(r).hoistableStyles,s=Kh(e);t=t||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(Wh(s)))o.loading=5;else{e=d({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Uh.get(s))&&td(e,n);var l=a=r.createElement("link");nt(l),ph(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,ed(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}},M:function(e,t){$h.M(e,t);var n=Hh;if(n&&e){var r=tt(n).hoistableScripts,i=Xh(e),s=r.get(i);s||((s=n.querySelector(Jh(i)))||(e=d({src:e,async:!0,type:"module"},t),(t=Uh.get(i))&&nd(e,t),nt(s=n.createElement("script")),ph(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var Hh="undefined"==typeof document?null:document;function Qh(e,t,n){var r=Hh;if(r&&"string"==typeof t&&t){var i=bt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"==typeof n&&(i+='[crossorigin="'+n+'"]'),Bh.has(i)||(Bh.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(ph(t=r.createElement("link"),"link",e),nt(t),r.head.appendChild(t)))}}function Gh(e,t,n,r){var i,a,o,l,c=(c=K.current)?qh(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Kh(n.href),(r=(n=tt(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Kh(n.href);var u=tt(c).hoistableStyles,h=u.get(e);if(h||(c=c.ownerDocument||c,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=c.querySelector(Wh(e)))&&!u._p&&(h.instance=u,h.state.loading=5),Uh.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Uh.set(e,n),u||(i=c,a=e,o=n,l=h.state,i.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=i.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),ph(a,"link",o),nt(a),i.head.appendChild(a))))),t&&null===r)throw Error(s(528,""));return h}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Xh(n),(r=(n=tt(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Kh(e){return'href="'+bt(e)+'"'}function Wh(e){return'link[rel="stylesheet"]['+e+"]"}function Yh(e){return d({},e,{"data-precedence":e.precedence,precedence:null})}function Xh(e){return'[src="'+bt(e)+'"]'}function Jh(e){return"script[async]"+e}function Zh(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+bt(n.href)+'"]');if(r)return t.instance=r,nt(r),r;var i=d({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return nt(r=(e.ownerDocument||e).createElement("style")),ph(r,"style",i),ed(r,n.precedence,e),t.instance=r;case"stylesheet":i=Kh(n.href);var a=e.querySelector(Wh(i));if(a)return t.state.loading|=4,t.instance=a,nt(a),a;r=Yh(n),(i=Uh.get(i))&&td(r,i),nt(a=(e.ownerDocument||e).createElement("link"));var o=a;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ph(a,"link",r),t.state.loading|=4,ed(a,n.precedence,e),t.instance=a;case"script":return a=Xh(n.src),(i=e.querySelector(Jh(a)))?(t.instance=i,nt(i),i):(r=n,(i=Uh.get(a))&&nd(r=d({},n),i),nt(i=(e=e.ownerDocument||e).createElement("script")),ph(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,ed(r,n.precedence,e));return t.instance}function ed(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===t)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function td(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function nd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var rd=null;function id(e,t,n){if(null===rd){var r=new Map,i=rd=new Map;i.set(n,r)}else(r=(i=rd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[Ye]||s[qe]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var a=s.getAttribute(t)||"";a=e+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function sd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function ad(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var od=0;function ld(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)ud(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var cd=null;function ud(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,cd=new Map,t.forEach(hd,e),cd=null,ld.call(e))}function hd(e,t){if(!(4&t.state.loading)){var n=cd.get(e);if(n)var r=n.get(null);else{n=new Map,cd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(s=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=ld.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var dd={$$typeof:S,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function fd(e,t,n,r,i,s,a,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pe(0),this.hiddenUpdates=Pe(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function pd(e,t,n,r,i,s,a,o,l,c,u,h){return e=new fd(e,t,n,a,l,c,u,h,o),t=1,!0===s&&(t|=24),s=Vr(3,null,null,t),e.current=s,s.stateNode=e,(t=Ui()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},vs(s),e}function md(e){return e?e=Fr:Fr}function gd(e,t,n,r,i,s){i=md(i),null===r.context?r.context=i:r.pendingContext=i,(r=ws(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=xs(e,r,t))&&(Yc(n,0,t),Ss(n,e,t))}function yd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function vd(e,t){yd(e,t),(e=e.alternate)&&yd(e,t)}function bd(e){if(13===e.tag||31===e.tag){var t=Rr(e,67108864);null!==t&&Yc(t,0,67108864),vd(e,67108864)}}function wd(e){if(13===e.tag||31===e.tag){var t=Kc(),n=Rr(e,t=Fe(t));null!==n&&Yc(n,0,t),vd(e,t)}}var xd=!0;function Sd(e,t,n,r){var i=O.T;O.T=null;var s=M.p;try{M.p=2,Ed(e,t,n,r)}finally{M.p=s,O.T=i}}function kd(e,t,n,r){var i=O.T;O.T=null;var s=M.p;try{M.p=8,Ed(e,t,n,r)}finally{M.p=s,O.T=i}}function Ed(e,t,n,r){if(xd){var i=Nd(r);if(null===i)rh(e,t,r,Cd,n),Md(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Id=Fd(Id,e,t,n,r,i),!0;case"dragenter":return Ad=Fd(Ad,e,t,n,r,i),!0;case"mouseover":return Dd=Fd(Dd,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pd.set(s,Fd(Pd.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ld.set(s,Fd(Ld.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Md(e,r),4&t&&-1<Od.indexOf(e)){for(;null!==i;){var s=Ze(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var a=Te(s.pendingLanes);if(0!==a){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-Se(a);o.entanglements[1]|=l,a&=~l}Mu(s),!(6&mc)&&(Oc=ue()+500,Fu(0))}}break;case 31:case 13:null!==(o=Rr(s,2))&&Yc(o,0,2),tu(),vd(s,2)}if(null===(s=Nd(r))&&rh(e,t,r,Cd,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else rh(e,t,r,null,n)}}function Nd(e){return _d(e=Ot(e))}var Cd=null;function _d(e){if(Cd=null,null!==(e=Je(e))){var t=o(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=l(t)))return e;e=null}else if(31===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Cd=e,null}function Td(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(he()){case de:return 2;case fe:return 8;case pe:case me:return 32;case ge:return 268435456;default:return 32}default:return 32}}var jd=!1,Id=null,Ad=null,Dd=null,Pd=new Map,Ld=new Map,Rd=[],Od="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Md(e,t){switch(e){case"focusin":case"focusout":Id=null;break;case"dragenter":case"dragleave":Ad=null;break;case"mouseover":case"mouseout":Dd=null;break;case"pointerover":case"pointerout":Pd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ld.delete(t.pointerId)}}function Fd(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Ze(t))&&bd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function zd(e){var t=Je(e.target);if(null!==t){var n=o(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=l(n)))return e.blockedOn=t,void Ue(e.priority,function(){wd(n)})}else if(31===t){if(null!==(t=c(n)))return e.blockedOn=t,void Ue(e.priority,function(){wd(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vd(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Nd(e.nativeEvent);if(null!==n)return null!==(t=Ze(n))&&bd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Rt=r,n.target.dispatchEvent(r),Rt=null,t.shift()}return!0}function Ud(e,t,n){Vd(e)&&n.delete(t)}function Bd(){jd=!1,null!==Id&&Vd(Id)&&(Id=null),null!==Ad&&Vd(Ad)&&(Ad=null),null!==Dd&&Vd(Dd)&&(Dd=null),Pd.forEach(Ud),Ld.forEach(Ud)}function qd(e,t){e.blockedOn===t&&(e.blockedOn=null,jd||(jd=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Bd)))}var $d=null;function Hd(e){$d!==e&&($d=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){$d===e&&($d=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!=typeof r){if(null===_d(r||n))continue;break}var s=Ze(n);null!==s&&(e.splice(t,3),t-=3,no(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Qd(e){function t(t){return qd(t,e)}null!==Id&&qd(Id,e),null!==Ad&&qd(Ad,e),null!==Dd&&qd(Dd,e),Pd.forEach(t),Ld.forEach(t);for(var n=0;n<Rd.length;n++){var r=Rd[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Rd.length&&null===(n=Rd[0]).blockedOn;)zd(n),null===n.blockedOn&&Rd.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[$e]||null;if("function"==typeof s)a||Hd(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[$e]||null)o=a.formAction;else if(null!==_d(i))continue}else o=a.action;"function"==typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Hd(n)}}}function Gd(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"==typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Kd(e){this._internalRoot=e}function Wd(e){this._internalRoot=e}Wd.prototype.render=Kd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));gd(t.current,Kc(),e,t,null,null)},Wd.prototype.unmount=Kd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;gd(e.current,2,null,e,null,null),tu(),t[He]=null}},Wd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ve();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rd.length&&0!==t&&t<Rd[n].priority;n++);Rd.splice(n,0,e),0===n&&zd(e)}};var Yd=r.version;if("19.2.0"!==Yd)throw Error(s(527,Yd,"19.2.0"));M.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=o(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return u(i),e;if(a===r)return u(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var l=!1,c=i.child;c;){if(c===n){l=!0,n=i,r=a;break}if(c===r){l=!0,r=i,n=a;break}c=c.sibling}if(!l){for(c=a.child;c;){if(c===n){l=!0,n=a,r=i;break}if(c===r){l=!0,r=a,n=i;break}c=c.sibling}if(!l)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Xd={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.0"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Jd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jd.isDisabled&&Jd.supportsFiber)try{be=Jd.inject(Xd),we=Jd}catch(ef){}}return w.createRoot=function(e,t){if(!a(e))throw Error(s(299));var n=!1,r="",i=Co,o=_o,l=To;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=pd(e,1,!1,null,0,n,r,null,i,o,l,Gd),e[He]=t.current,th(e),new Kd(t)},w.hydrateRoot=function(e,t,n){if(!a(e))throw Error(s(299));var r=!1,i="",o=Co,l=_o,c=To,u=null;return null!=n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=pd(e,1,!0,t,0,r,i,u,o,l,c,Gd)).context=md(null),n=t.current,(i=ws(r=Fe(r=Kc()))).callback=null,xs(n,i,r),n=r,t.current.lanes=n,Le(t,n),Mu(t),e[He]=t.current,th(e),new Wd(t)},w.version="19.2.0",w}var N=(y||(y=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),b.exports=E()),b.exports);const C=()=>{const[e,t]=n.useState(!1),[i,s]=n.useState(!1),[a,o]=n.useState(!1);return v.jsx("nav",{className:"navbar",children:v.jsxs("div",{className:"navbar-container",children:[v.jsxs(r,{to:"/",className:"navbar-logo",children:[v.jsx("span",{className:"logo-icon",children:""}),v.jsx("span",{className:"logo-text",children:"cebuhomesbyjelann.com"})]}),v.jsxs("button",{className:"menu-toggle "+(e?"active":""),onClick:()=>t(!e),"aria-label":"Toggle menu",children:[v.jsx("span",{}),v.jsx("span",{}),v.jsx("span",{})]}),v.jsxs("ul",{className:"navbar-menu "+(e?"active":""),children:[v.jsx("li",{className:"navbar-item",children:v.jsx(r,{to:"/",className:"navbar-link",onClick:()=>t(!1),children:"Home"})}),v.jsxs("li",{className:"navbar-item dropdown",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[v.jsxs("span",{className:"navbar-link",children:["Location ",v.jsx("span",{className:"dropdown-arrow",children:""})]}),a&&v.jsx("ul",{className:"dropdown-menu",children:["Cebu","Bohol","Palawan","Davao"].map(e=>v.jsx("li",{children:v.jsx(r,{to:`/properties?location=${encodeURIComponent(e)}`,className:"dropdown-link",onClick:()=>{o(!1),t(!1)},children:e})},e))})]}),v.jsxs("li",{className:"navbar-item dropdown",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[v.jsxs("span",{className:"navbar-link",children:["For Sale ",v.jsx("span",{className:"dropdown-arrow",children:""})]}),i&&v.jsx("ul",{className:"dropdown-menu",children:["Condominium","House and Lot","Rental"].map(e=>v.jsx("li",{children:v.jsx(r,{to:`/properties?type=${encodeURIComponent(e)}`,className:"dropdown-link",onClick:()=>{s(!1),t(!1)},children:e})},e))})]}),v.jsx("li",{className:"navbar-item",children:v.jsx(r,{to:"/careers",className:"navbar-link",onClick:()=>t(!1),children:"Careers"})})]})]})})},_=()=>v.jsxs("footer",{className:"footer",children:[v.jsxs("div",{className:"footer-container",children:[v.jsxs("div",{className:"footer-section",children:[v.jsx("h3",{children:"cebuhomesbyjelann.com"}),v.jsx("p",{children:"Your trusted partner in finding the perfect property in the Philippines."})]}),v.jsxs("div",{className:"footer-section",children:[v.jsx("h4",{children:"Quick Links"}),v.jsxs("ul",{children:[v.jsx("li",{children:v.jsx("a",{href:"/",children:"Home"})}),v.jsx("li",{children:v.jsx("a",{href:"/properties",children:"Properties"})}),v.jsx("li",{children:v.jsx("a",{href:"/careers",children:"Careers"})}),v.jsx("li",{children:v.jsx("a",{href:"#about",children:"About Us"})})]})]}),v.jsxs("div",{className:"footer-section",children:[v.jsx("h4",{children:"Property Types"}),v.jsxs("ul",{children:[v.jsx("li",{children:v.jsx("a",{href:"/properties?type=Condominium",children:"Condominium"})}),v.jsx("li",{children:v.jsx("a",{href:"/properties?type=House and Lot",children:"House and Lot"})}),v.jsx("li",{children:v.jsx("a",{href:"/properties?type=Rental",children:"Rental"})})]})]}),v.jsxs("div",{className:"footer-section",children:[v.jsx("h4",{children:"Contact"}),v.jsx("p",{children:"Email: jelannestradaleyson@gmail.com"}),v.jsx("p",{children:"Phone: +63 927 729 7317"})]})]}),v.jsx("div",{className:"footer-bottom",children:v.jsxs("p",{children:[" ",(new Date).getFullYear()," cebuhomesbyjelann.com. All rights reserved."]})})]}),T=()=>{const e=i(),[t,r]=n.useState(""),[s,a]=n.useState(""),[o,l]=n.useState(""),[c,u]=n.useState("");return v.jsx("div",{className:"search-bar",children:v.jsxs("form",{onSubmit:n=>{n.preventDefault();const r=new URLSearchParams;t&&r.append("search",t),s&&r.append("type",s),o&&r.append("location",o),c&&r.append("priceRange",c),e(`/properties?${r.toString()}`),setTimeout(()=>window.scrollTo({top:0,behavior:"smooth"}),100)},className:"search-form",children:[v.jsxs("div",{className:"search-field search-field-wide",children:[v.jsx("label",{children:"Search Keywords"}),v.jsx("input",{type:"text",placeholder:"Search by title, description, or features...",value:t,onChange:e=>r(e.target.value)})]}),v.jsxs("div",{className:"search-field",children:[v.jsx("label",{children:"Property Type"}),v.jsxs("select",{value:s,onChange:e=>a(e.target.value),children:[v.jsx("option",{value:"",children:"All Types"}),["Condominium","House and Lot","Rental"].map(e=>v.jsx("option",{value:e,children:e},e))]})]}),v.jsxs("div",{className:"search-field",children:[v.jsx("label",{children:"Location"}),v.jsxs("select",{value:o,onChange:e=>l(e.target.value),children:[v.jsx("option",{value:"",children:"All Locations"}),["Cebu","Bohol","Palawan","Davao"].map(e=>v.jsx("option",{value:e,children:e},e))]})]}),v.jsxs("div",{className:"search-field",children:[v.jsx("label",{children:"Price Range"}),v.jsxs("select",{value:c,onChange:e=>u(e.target.value),children:[v.jsx("option",{value:"",children:"Any Price"}),v.jsx("option",{value:"0-5000000",children:"Under 5M"}),v.jsx("option",{value:"5000000-10000000",children:"5M - 10M"}),v.jsx("option",{value:"10000000-15000000",children:"10M - 15M"}),v.jsx("option",{value:"15000000-999999999",children:"Above 15M"})]})]}),v.jsx("button",{type:"submit",className:"search-button",children:" Search Properties"})]})})},j=({property:e})=>{return v.jsxs(r,{to:`/properties/${e.id}`,className:"property-card",children:[v.jsxs("div",{className:"property-card-image",children:[v.jsx("img",{src:e.images?.[0]||"/placeholder.jpg",alt:e.title,loading:"lazy",decoding:"async"}),e.featured&&v.jsx("span",{className:"featured-badge",children:"Featured"}),v.jsx("span",{className:"property-type-badge",children:e.type})]}),v.jsxs("div",{className:"property-card-content",children:[v.jsx("h3",{className:"property-title",children:e.title}),v.jsxs("p",{className:"property-location",children:[" ",e.location]}),v.jsx("p",{className:"property-price",children:(t=e.price,new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0}).format(t))}),v.jsxs("div",{className:"property-details",children:[v.jsxs("span",{children:[" ",e.area," sqm"]}),e.bedrooms&&v.jsxs("span",{children:[" ",e.bedrooms," beds"]}),e.bathrooms&&v.jsxs("span",{children:[" ",e.bathrooms," baths"]})]}),v.jsxs("p",{className:"property-description",children:[e.description?.substring(0,100)||"No description available","..."]})]})]});var t};var I={};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},D={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(A(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new P;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class P extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const L=function(e){return function(e){const t=A(e);return D.encodeByteArray(t,!0)}(e).replace(/\./g,"")};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const R=()=>
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,O=()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&function(e){try{return D.decodeString(e,!0)}catch(n){console.error("base64Decode failed: ",n)}return null}(e[1]);return t&&JSON.parse(t)},M=()=>{try{return R()||(()=>{if("undefined"==typeof process)return;const e=I.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||O()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},F=e=>{const t=(e=>M()?.emulatorHosts?.[e])(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},z=()=>M()?.config;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class V{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}
/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}const B={};let q=!1;function $(e,t){if("undefined"==typeof window||"undefined"==typeof document||!U(window.location.host)||B[e]===t||B[e]||q)return;function n(e){return`__firebase__banner__${e}`}B[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(B))B[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{q=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=s();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}i?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H(){return!function(){const e=M()?.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}class Q extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Q.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,G.prototype.create)}}class G{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(K,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(i,n):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new Q(r,a,n)}}const K=/\{\$([^}]+)}/g;function W(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Y(n)&&Y(s)){if(!W(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Y(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(e){return e&&e._delegate?e._delegate:e}class J{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new V;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(!this.isInitialized(t)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(n)return null;throw r}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:Z})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(e=Z){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=Z){return this.instances.has(e)}getOptions(e=Z){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);const i=this.instances.get(n);return i&&e(i,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===Z?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}var r;return n||null}normalizeInstanceIdentifier(e=Z){return this.component?this.component.multipleInstances?e:Z:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class te{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ee(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne,re;(re=ne||(ne={}))[re.DEBUG=0]="DEBUG",re[re.VERBOSE=1]="VERBOSE",re[re.INFO=2]="INFO",re[re.WARN=3]="WARN",re[re.ERROR=4]="ERROR",re[re.SILENT=5]="SILENT";const ie={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},se=ne.INFO,ae={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},oe=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=ae[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class le{constructor(e){this.name=e,this._logLevel=se,this._logHandler=oe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?ie[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}}let ce,ue;const he=new WeakMap,de=new WeakMap,fe=new WeakMap,pe=new WeakMap,me=new WeakMap;let ge={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return de.get(e);if("objectStoreNames"===t)return e.objectStoreNames||fe.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return be(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function ye(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ue||(ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(we(this),t),be(he.get(this))}:function(...t){return be(e.apply(we(this),t))}:function(t,...n){const r=e.call(we(this),t,...n);return fe.set(r,t.sort?t.sort():[t]),be(r)}}function ve(e){return"function"==typeof e?ye(e):(e instanceof IDBTransaction&&function(e){if(de.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});de.set(e,t)}(e),t=e,(ce||(ce=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,ge):e);var t}function be(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(be(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&he.set(t,e)}).catch(()=>{}),me.set(t,e),t}(e);if(pe.has(e))return pe.get(e);const t=ve(e);return t!==e&&(pe.set(e,t),me.set(t,e)),t}const we=e=>me.get(e);const xe=["get","getKey","getAll","getAllKeys","count"],Se=["put","add","delete","clear"],ke=new Map;function Ee(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(ke.get(t))return ke.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Se.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!xe.includes(n))return;const s=async function(e,...t){const s=this.transaction(e,i?"readwrite":"readonly");let a=s.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),i&&s.done]))[0]};return ke.set(t,s),s}ge=(e=>({...e,get:(t,n,r)=>Ee(t,n)||e.get(t,n,r),has:(t,n)=>!!Ee(t,n)||e.has(t,n)}))(ge);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ne{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===t?.type}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const Ce="@firebase/app",_e="0.14.5",Te=new le("@firebase/app"),je="@firebase/app-compat",Ie="@firebase/analytics-compat",Ae="@firebase/analytics",De="@firebase/app-check-compat",Pe="@firebase/app-check",Le="@firebase/auth",Re="@firebase/auth-compat",Oe="@firebase/database",Me="@firebase/data-connect",Fe="@firebase/database-compat",ze="@firebase/functions",Ve="@firebase/functions-compat",Ue="@firebase/installations",Be="@firebase/installations-compat",qe="@firebase/messaging",$e="@firebase/messaging-compat",He="@firebase/performance",Qe="@firebase/performance-compat",Ge="@firebase/remote-config",Ke="@firebase/remote-config-compat",We="@firebase/storage",Ye="@firebase/storage-compat",Xe="@firebase/firestore",Je="@firebase/ai",Ze="@firebase/firestore-compat",et="firebase",tt="[DEFAULT]",nt={[Ce]:"fire-core",[je]:"fire-core-compat",[Ae]:"fire-analytics",[Ie]:"fire-analytics-compat",[Pe]:"fire-app-check",[De]:"fire-app-check-compat",[Le]:"fire-auth",[Re]:"fire-auth-compat",[Oe]:"fire-rtdb",[Me]:"fire-data-connect",[Fe]:"fire-rtdb-compat",[ze]:"fire-fn",[Ve]:"fire-fn-compat",[Ue]:"fire-iid",[Be]:"fire-iid-compat",[qe]:"fire-fcm",[$e]:"fire-fcm-compat",[He]:"fire-perf",[Qe]:"fire-perf-compat",[Ge]:"fire-rc",[Ke]:"fire-rc-compat",[We]:"fire-gcs",[Ye]:"fire-gcs-compat",[Xe]:"fire-fst",[Ze]:"fire-fst-compat",[Je]:"fire-vertex","fire-js":"fire-js",[et]:"fire-js-all"},rt=new Map,it=new Map,st=new Map;function at(e,t){try{e.container.addComponent(t)}catch(n){Te.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ot(e){const t=e.name;if(st.has(t))return Te.debug(`There were multiple attempts to register component ${t}.`),!1;st.set(t,e);for(const n of rt.values())at(n,e);for(const n of it.values())at(n,e);return!0}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const lt=new G("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ct{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new J("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lt.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(e,t={}){let n=e;if("object"!=typeof t){t={name:t}}const r={name:tt,automaticDataCollectionEnabled:!0,...t},i=r.name;if("string"!=typeof i||!i)throw lt.create("bad-app-name",{appName:String(i)});if(n||(n=z()),!n)throw lt.create("no-options");const s=rt.get(i);if(s){if(W(n,s.options)&&W(r,s.config))return s;throw lt.create("duplicate-app",{appName:i})}const a=new te(i);for(const l of st.values())a.addComponent(l);const o=new ct(n,r,a);return rt.set(i,o),o}function ht(e,t,n){let r=nt[e]??e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const e=[`Unable to register library "${r}" with version "${t}":`];return i&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Te.warn(e.join(" "))}ot(new J(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dt="firebase-heartbeat-store";let ft=null;function pt(){return ft||(ft=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(e,t),o=be(a);return r&&a.addEventListener("upgradeneeded",e=>{r(be(a.result),e.oldVersion,e.newVersion,be(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(dt)}catch(n){console.warn(n)}}}).catch(e=>{throw lt.create("idb-open",{originalErrorMessage:e.message})})),ft}async function mt(e,t){try{const n=(await pt()).transaction(dt,"readwrite"),r=n.objectStore(dt);await r.put(t,gt(e)),await n.done}catch(n){if(n instanceof Q)Te.warn(n.message);else{const e=lt.create("idb-set",{originalErrorMessage:n?.message});Te.warn(e.message)}}}function gt(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new bt(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=vt();if(null==this._heartbeatsCache?.heartbeats&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Te.warn(e)}}async getHeartbeatsHeader(){try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats||0===this._heartbeatsCache.heartbeats.length)return"";const e=vt(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),wt(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),wt(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=L(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return Te.warn(e),""}}}function vt(){return(new Date).toISOString().substring(0,10)}class bt{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(e){return!1}}()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await pt()).transaction(dt),n=await t.objectStore(dt).get(gt(e));return await t.done,n}catch(t){if(t instanceof Q)Te.warn(t.message);else{const e=lt.create("idb-get",{originalErrorMessage:t?.message});Te.warn(e.message)}}}(this.app);return e?.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return mt(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return mt(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function wt(e){return L(JSON.stringify({version:2,heartbeats:e})).length}var xt;xt="",ot(new J("platform-logger",e=>new Ne(e),"PRIVATE")),ot(new J("heartbeat",e=>new yt(e),"PRIVATE")),ht(Ce,_e,xt),ht(Ce,_e,"esm2020"),ht("fire-js","");var St,kt,Et="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/(function(){var e;
/** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"==typeof t)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let s,a=e.g[3];s=t+(a^n&(i^a))+r[0]+3614090360&4294967295,s=a+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[1]+3905402710&4294967295,a=t+(s<<12&4294967295|s>>>20),s=i+(n^a&(t^n))+r[2]+606105819&4294967295,s=n+(t^(i=a+(s<<17&4294967295|s>>>15))&(a^t))+r[3]+3250441966&4294967295,s=t+(a^(n=i+(s<<22&4294967295|s>>>10))&(i^a))+r[4]+4118548399&4294967295,s=a+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[5]+1200080426&4294967295,a=t+(s<<12&4294967295|s>>>20),s=i+(n^a&(t^n))+r[6]+2821735955&4294967295,s=n+(t^(i=a+(s<<17&4294967295|s>>>15))&(a^t))+r[7]+4249261313&4294967295,s=t+(a^(n=i+(s<<22&4294967295|s>>>10))&(i^a))+r[8]+1770035416&4294967295,s=a+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[9]+2336552879&4294967295,a=t+(s<<12&4294967295|s>>>20),s=i+(n^a&(t^n))+r[10]+4294925233&4294967295,s=n+(t^(i=a+(s<<17&4294967295|s>>>15))&(a^t))+r[11]+2304563134&4294967295,s=t+(a^(n=i+(s<<22&4294967295|s>>>10))&(i^a))+r[12]+1804603682&4294967295,s=a+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[13]+4254626195&4294967295,a=t+(s<<12&4294967295|s>>>20),s=i+(n^a&(t^n))+r[14]+2792965006&4294967295,s=n+(t^(i=a+(s<<17&4294967295|s>>>15))&(a^t))+r[15]+1236535329&4294967295,s=t+(i^a&((n=i+(s<<22&4294967295|s>>>10))^i))+r[1]+4129170786&4294967295,s=a+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[6]+3225465664&4294967295,a=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(a^t))+r[11]+643717713&4294967295,s=n+(a^t&((i=a+(s<<14&4294967295|s>>>18))^a))+r[0]+3921069994&4294967295,s=t+(i^a&((n=i+(s<<20&4294967295|s>>>12))^i))+r[5]+3593408605&4294967295,s=a+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[10]+38016083&4294967295,a=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(a^t))+r[15]+3634488961&4294967295,s=n+(a^t&((i=a+(s<<14&4294967295|s>>>18))^a))+r[4]+3889429448&4294967295,s=t+(i^a&((n=i+(s<<20&4294967295|s>>>12))^i))+r[9]+568446438&4294967295,s=a+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[14]+3275163606&4294967295,a=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(a^t))+r[3]+4107603335&4294967295,s=n+(a^t&((i=a+(s<<14&4294967295|s>>>18))^a))+r[8]+1163531501&4294967295,s=t+(i^a&((n=i+(s<<20&4294967295|s>>>12))^i))+r[13]+2850285829&4294967295,s=a+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[2]+4243563512&4294967295,a=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(a^t))+r[7]+1735328473&4294967295,s=n+(a^t&((i=a+(s<<14&4294967295|s>>>18))^a))+r[12]+2368359562&4294967295,s=t+((n=i+(s<<20&4294967295|s>>>12))^i^a)+r[5]+4294588738&4294967295,s=a+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[8]+2272392833&4294967295,a=t+(s<<11&4294967295|s>>>21),s=i+(a^t^n)+r[11]+1839030562&4294967295,s=n+((i=a+(s<<16&4294967295|s>>>16))^a^t)+r[14]+4259657740&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^a)+r[1]+2763975236&4294967295,s=a+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[4]+1272893353&4294967295,a=t+(s<<11&4294967295|s>>>21),s=i+(a^t^n)+r[7]+4139469664&4294967295,s=n+((i=a+(s<<16&4294967295|s>>>16))^a^t)+r[10]+3200236656&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^a)+r[13]+681279174&4294967295,s=a+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[0]+3936430074&4294967295,a=t+(s<<11&4294967295|s>>>21),s=i+(a^t^n)+r[3]+3572445317&4294967295,s=n+((i=a+(s<<16&4294967295|s>>>16))^a^t)+r[6]+76029189&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^a)+r[9]+3654602809&4294967295,s=a+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[12]+3873151461&4294967295,a=t+(s<<11&4294967295|s>>>21),s=i+(a^t^n)+r[15]+530742520&4294967295,s=n+((i=a+(s<<16&4294967295|s>>>16))^a^t)+r[2]+3299628645&4294967295,s=t+(i^((n=i+(s<<23&4294967295|s>>>9))|~a))+r[0]+4096336452&4294967295,s=a+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[7]+1126891415&4294967295,a=t+(s<<10&4294967295|s>>>22),s=i+(t^(a|~n))+r[14]+2878612391&4294967295,s=n+(a^((i=a+(s<<15&4294967295|s>>>17))|~t))+r[5]+4237533241&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~a))+r[12]+1700485571&4294967295,s=a+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[3]+2399980690&4294967295,a=t+(s<<10&4294967295|s>>>22),s=i+(t^(a|~n))+r[10]+4293915773&4294967295,s=n+(a^((i=a+(s<<15&4294967295|s>>>17))|~t))+r[1]+2240044497&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~a))+r[8]+1873313359&4294967295,s=a+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[15]+4264355552&4294967295,a=t+(s<<10&4294967295|s>>>22),s=i+(t^(a|~n))+r[6]+2734768916&4294967295,s=n+(a^((i=a+(s<<15&4294967295|s>>>17))|~t))+r[13]+1309151649&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~a))+r[4]+4149444226&4294967295,s=a+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[11]+3174756917&4294967295,a=t+(s<<10&4294967295|s>>>22),s=i+(t^(a|~n))+r[2]+718787259&4294967295,s=n+(a^((i=a+(s<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let i=e.length-1;i>=0;i--){const s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,i=this.C;let s=this.h,a=0;for(;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"==typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var i={};function s(e){return-128<=e&&e<128?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(e<0)return d(a(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(h(e))return t=g(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new m(d(t.g),t.h);if(e.g.length>30){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;r.l(e)<=0;)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=s.add(r);c.l(e)<=0&&(i=i.add(n),s=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=o;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),c=(s=a(n)).j(t);h(c)||c.l(e)>0;)c=(s=a(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function y(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function v(e,t){const n=t>>5;t%=32;const i=e.g.length-n,s=[];for(let r=0;r<i;r++)s[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);const t=a(Math.pow(e,6));var n=this;let r="";for(;;){const i=g(n,t).g;let s=(((n=f(n,i.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;s.length<6;)s="0"+s;r=s+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let i=0;for(let r=0;r<=t;r++){let t=i+(65535&this.i(r))+(65535&e.i(r)),s=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);i=s>>>16,t&=65535,s&=65535,n[r]=s<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(this.l(c)<0&&e.l(c)<0)return a(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(let t=0;t<e.g.length;t++){const r=this.i(i)>>>16,s=65535&this.i(i),a=e.i(t)>>>16,o=65535&e.i(t);n[2*i+2*t]+=s*o,p(n,2*i+2*t),n[2*i+2*t+1]+=r*o,p(n,2*i+2*t+1),n[2*i+2*t+1]+=s*a,p(n,2*i+2*t+1),n[2*i+2*t+2]+=r*a,p(n,2*i+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return g(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,kt=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=a(Math.pow(n,8));let i=o;for(let o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o);const e=parseInt(t.substring(o,o+s),n);s<8?(s=a(Math.pow(n,s)),i=i.j(s).add(a(e))):(i=i.j(r),i=i.add(a(e)))}return i},St=r}).apply(void 0!==Et?Et:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Nt,Ct,_t,Tt,jt,It,At,Dt,Pt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Pt&&Pt];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});
/** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */
var i=i||{},s=this||self;function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=o).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}var h="undefined"!=typeof AsyncContext&&"function"==typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function d(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){s.setTimeout(()=>{throw e},0)}function m(){var e=w;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var g=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new y,e=>e.reset());class y{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let v,b=!1,w=new class{constructor(){this.h=this.g=null}add(e,t){const n=g.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},x=()=>{const e=Promise.resolve(void 0);v=()=>{e.then(S)}};function S(){for(var e;e=m();){try{e.h.call(e.g)}catch(n){p(n)}var t=g;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}b=!1}function k(){this.u=this.u,this.C=this.C}function E(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},E.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(n){}return e}();function C(e){return/^[\s\xa0]*$/.test(e)}function _(e,t){E.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(_,E),_.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&_.Z.h.call(this)},_.prototype.h=function(){_.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var T="closure_listenable_"+(1e6*Math.random()|0),j=0;function I(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++j,this.da=this.fa=!1}function A(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function D(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function P(e){const t={};for(const n in e)t[n]=e[n];return t}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<L.length;t++)n=L[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function O(e){this.src=e,this.g={},this.h=0}function M(e,t){const n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=s>=0)&&Array.prototype.splice.call(i,s,1),r&&(A(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function F(e,t,n,r){for(let i=0;i<e.length;++i){const s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}O.prototype.add=function(e,t,n,r,i){const s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);const a=F(e,t,r,i);return a>-1?(t=e[a],n||(t.fa=!1)):((t=new I(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var z="closure_lm_"+(1e6*Math.random()|0),V={};function U(e,t,n,r,i){if(Array.isArray(t)){for(let s=0;s<t.length;s++)U(e,t[s],n,r,i);return null}return n=K(n),e&&e[T]?e.J(t,n,!!a(r)&&!!r.capture,i):function(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");const o=a(i)?!!i.capture:!!i;let l=Q(e);if(l||(e[z]=l=new O(e)),n=l.add(t,n,r,o,s),n.proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=H;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)N||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent($(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}(e,t,n,!1,r,i)}function B(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)B(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=K(n),e&&e[T]?(e=e.i,(s=String(t).toString())in e.g&&((n=F(t=e.g[s],n,r,i))>-1&&(A(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[s],e.h--)))):e&&(e=Q(e))&&(t=e.g[t.toString()],e=-1,t&&(e=F(t,n,r,i)),(n=e>-1?t[e]:null)&&q(n))}function q(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[T])M(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent($(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Q(t))?(M(n,e),0==n.h&&(n.src=null,t[z]=null)):A(e)}}}function $(e){return e in V?V[e]:V[e]="on"+e}function H(e,t){if(e.da)e=!0;else{t=new _(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&q(e),e=n.call(r,t)}return e}function Q(e){return(e=e[z])instanceof O?e:null}var G="__closure_events_fn_"+(1e9*Math.random()>>>0);function K(e){return"function"==typeof e?e:(e[G]||(e[G]=function(t){return e.handleEvent(t)}),e[G])}function W(){k.call(this),this.i=new O(this),this.M=this,this.G=null}function Y(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"==typeof t)t=new E(t,e);else if(t instanceof E)t.target=t.target||e;else{var i=t;R(t=new E(r,e),i)}let s,a;if(i=!0,n)for(a=n.length-1;a>=0;a--)s=t.g=n[a],i=X(s,r,!0,t)&&i;if(s=t.g=e,i=X(s,r,!0,t)&&i,i=X(s,r,!1,t)&&i,n)for(a=0;a<n.length;a++)s=t.g=n[a],i=X(s,r,!1,t)&&i}function X(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let s=0;s<t.length;++s){const a=t[s];if(a&&!a.da&&a.capture==n){const t=a.listener,n=a.ha||a.src;a.fa&&M(e.i,a),i=!1!==t.call(n,r)&&i}}return i&&!r.defaultPrevented}function J(e){e.g=function(e,t){if("function"!=typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:s.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,J(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u(W,k),W.prototype[T]=!0,W.prototype.removeEventListener=function(e,t,n,r){B(this,e,t,n,r)},W.prototype.N=function(){if(W.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)A(n[e]);delete e.g[t],e.h--}}this.G=null},W.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},W.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class Z extends k{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:J(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ee(e){k.call(this),this.h=e,this.g={}}u(ee,k);var te=[];function ne(e){D(e.g,function(e,t){this.g.hasOwnProperty(t)&&q(e)},e),e.g={}}ee.prototype.N=function(){ee.Z.N.call(this),ne(this)},ee.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var re=s.JSON.stringify,ie=s.JSON.parse,se=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function ae(){}function oe(){}var le={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ce(){E.call(this,"d")}function ue(){E.call(this,"c")}u(ce,E),u(ue,E);var he={},de=null;function fe(){return de=de||new W}function pe(e){E.call(this,he.Ia,e)}function me(e){const t=fe();Y(t,new pe(t))}function ge(e,t){E.call(this,he.STAT_EVENT,e),this.stat=t}function ye(e){const t=fe();Y(t,new ge(t,e))}function ve(e,t){E.call(this,he.Ja,e),this.size=t}function be(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){e()},t)}function we(){this.g=!0}function xe(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const s=JSON.parse(t);if(s)for(e=0;e<s.length;e++)if(Array.isArray(s[e])){var n=s[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}return re(s)}catch(s){return t}}(e,n)+(r?" "+r:"")})}he.Ia="serverreachability",u(pe,E),he.STAT_EVENT="statevent",u(ge,E),he.Ja="timingevent",u(ve,E),we.prototype.ua=function(){this.g=!1},we.prototype.info=function(){};var Se,ke={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ee={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Ne(){}function Ce(e){return encodeURIComponent(String(e))}function _e(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Te(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ee(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new je}function je(){this.i=null,this.g="",this.h=!1}u(Ne,ae),Ne.prototype.g=function(){return new XMLHttpRequest},Se=new Ne;var Ie={},Ae={};function De(e,t,n){e.M=1,e.A=rt(Je(t)),e.u=n,e.R=!0,Pe(e,null)}function Pe(e,t){e.F=Date.now(),Oe(e),e.B=Je(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),yt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new je,e.g=fn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new Z(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i="readystatechange";Array.isArray(i)||(i&&(te[0]=i.toString()),i=te);for(let s=0;s<i.length;s++){const e=U(n,i[s],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?P(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),me(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s){var a="",o=s.split("&");for(let e=0;e<o.length;e++){var l=o[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");a=t.length>=2&&"type"==t[1]?a+(e+"=")+l+"&":a+(e+"=redacted&")}}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Le(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Re(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ae:(n=Number(t.substring(n,r)),isNaN(n)?Ie:(r+=1)+n>t.length?Ae:(t=t.slice(r,r+n),e.C=r+n,t))}function Oe(e){e.T=Date.now()+e.H,Me(e,e.H)}function Me(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=be(l(e.aa,e),t)}function Fe(e){e.D&&(s.clearTimeout(e.D),e.D=null)}function ze(e){0==e.j.I||e.K||ln(e.j,e)}function Ve(e){Fe(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ne(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function Ue(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||Qe(n.h,e)))if(!e.L&&Qe(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Yt(n)}rn(n),ye(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=be(l(n.Va,n),6e3));He(n.h)<=1&&n.ta&&(n.ta=void 0)}else un(n,11)}else if((e.L||n.g==e)&&on(n),!C(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const i=l[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"==typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Ge(s,s.h),s.h=null))}if(r.G){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,nt(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var a=e;if((r=n).na=dn(r,r.L?r.ba:null,r.W),a.L){Ke(r.h,a);var o=a,c=r.O;c&&(o.H=c),o.D&&(Fe(o),Oe(o)),r.g=a}else nn(r);n.i.length>0&&Jt(n)}else"stop"!=l[0]&&"close"!=l[0]||un(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?un(n,7):Wt(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}me()}catch(u){}}Te.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==Ht(e)?t.j():this.Y(e)},Te.prototype.Y=function(e){try{if(e==this.g)e:{const l=Ht(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||Qt(this.g)))){this.K||4!=l||7==c||me(),Fe(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Le(e))return e.g.la();const t=Qt(e.g);if(""===t)return"";let n="";const r=t.length,i=4==Ht(e.g);if(!e.h.i){if("undefined"==typeof TextDecoder)return Ve(e),ze(e),"";e.h.i=new s.TextDecoder}for(let s=0;s<r;s++)e.h.h=!0,n+=e.h.i.decode(t[s],{stream:!(i&&s==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(r)){var a=r;break t}}a=null}if(!(e=a)){this.o=!1,this.m=3,ye(12),Ve(this),ze(this);break e}xe(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ue(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Re(this,n),t==Ae){4==l&&(this.m=4,ye(14),e=!1),xe(this.i,this.l,null,"[Incomplete Response]");break}if(t==Ie){this.m=4,ye(15),xe(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}xe(this.i,this.l,t,null),Ue(this,t)}if(Le(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,ye(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var o=this.j;o.g==this&&o.aa&&!o.P&&(o.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),sn(o),o.P=!0,ye(11))}}else xe(this.i,this.l,n,"[Invalid Chunked Response]"),Ve(this),ze(this)}else xe(this.i,this.l,n,null),Ue(this,n);4==l&&Ve(this),this.o&&!this.K&&(4==l?ln(this.j,this):(this.o=!1,Oe(this)))}else(function(e){const t={};e=(e.g&&Ht(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(C(e[r]))continue;var n=_e(e[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),Ve(this),ze(this)}}}catch(l){}},Te.prototype.cancel=function(){this.K=!0,Ve(this)},Te.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(me(),ye(17)),Ve(this),this.m=2,ze(this)):Me(this,this.T-e)};var Be=class{constructor(e,t){this.g=e,this.map=t}};function qe(e){this.l=e||10,s.PerformanceNavigationTiming?e=(e=s.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function $e(e){return!!e.h||!!e.g&&e.g.size>=e.j}function He(e){return e.h?1:e.g?e.g.size:0}function Qe(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ge(e,t){e.g?e.g.add(t):e.h=t}function Ke(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function We(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return d(e.i)}qe.prototype.cancel=function(){if(this.i=We(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Ye=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xe(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof Xe?(this.l=e.l,Ze(this,e.j),this.o=e.o,this.g=e.g,et(this,e.u),this.h=e.h,tt(this,vt(e.i)),this.m=e.m):e&&(t=String(e).match(Ye))?(this.l=!1,Ze(this,t[1]||"",!0),this.o=it(t[2]||""),this.g=it(t[3]||"",!0),et(this,t[4]),this.h=it(t[5]||"",!0),tt(this,t[6]||"",!0),this.m=it(t[7]||"")):(this.l=!1,this.i=new dt(null,this.l))}function Je(e){return new Xe(e)}function Ze(e,t,n){e.j=n?it(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function et(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function tt(e,t,n){t instanceof dt?(e.i=t,function(e,t){t&&!e.j&&(ft(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(pt(this,t),yt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=st(t,ut)),e.i=new dt(t,e.l))}function nt(e,t,n){e.i.set(t,n)}function rt(e){return nt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function it(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function st(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,at),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function at(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Xe.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(st(t,ot,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(st(t,ot,!0),"@"),e.push(Ce(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(st(n,"/"==n.charAt(0)?ct:lt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",st(n,ht)),e.join("")},Xe.prototype.resolve=function(e){const t=Je(this);let n=!!e.j;n?Ze(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)et(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");const e=[];for(let t=0;t<i.length;){const n=i[t++];"."==n?r&&t==i.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==i.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?tt(t,vt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var ot=/[#\/\?@]/g,lt=/[#\?:]/g,ct=/[#\?]/g,ut=/[#\?@]/g,ht=/#/g;function dt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ft(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let i,s=null;r>=0?(i=e[n].substring(0,r),s=e[n].substring(r+1)):i=e[n],t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function pt(e,t){ft(e),t=bt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function mt(e,t){return ft(e),t=bt(e,t),e.g.has(t)}function gt(e,t){ft(e);let n=[];if("string"==typeof t)mt(e,t)&&(n=n.concat(e.g.get(bt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function yt(e,t,n){pt(e,t),n.length>0&&(e.i=null,e.g.set(bt(e,t),d(n)),e.h+=n.length)}function vt(e){const t=new dt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function bt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function wt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function xt(){this.g=new se}function St(e){this.i=e.Sb||null,this.h=e.ab||!1}function kt(e,t){W.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function Et(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function Lt(e){e.readyState=4,e.l=null,e.j=null,e.B=null,Rt(e)}function Rt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ot(e){let t="";return D(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Mt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ot(n),"string"==typeof e?null!=n&&Ce(n):nt(e,t,n))}function Ft(e){W.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=dt.prototype).add=function(e,t){ft(this),this.i=null,e=bt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){ft(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return ft(this),this.i=null,mt(this,e=bt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=gt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const i=Ce(n);n=gt(this,n);for(let t=0;t<n.length;t++){let r=i;""!==n[t]&&(r+="="+Ce(n[t])),e.push(r)}}return this.i=e.join("&")},u(St,ae),St.prototype.g=function(){return new kt(this.i,this.h)},u(kt,W),(e=kt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,Rt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||s).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,Lt(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Rt(this)),this.g&&(this.readyState=3,Rt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(void 0!==s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Et(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Lt(this):Rt(this),3==this.readyState&&Et(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,Lt(this))},e.Na=function(e){this.g&&(this.response=e,Lt(this))},e.ga=function(){this.g&&Lt(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(kt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(Ft,W);var zt=/^https?$/i,Vt=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Bt(e),$t(e)}function Bt(e){e.A||(e.A=!0,Y(e,"complete"),Y(e,"error"))}function qt(e){if(e.h&&void 0!==i)if(e.v&&4==Ht(e))setTimeout(e.Ca.bind(e),0);else if(Y(e,"readystatechange"),4==Ht(e)){e.h=!1;try{const i=e.ca();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){let t=String(e.D).match(Ye)[1]||null;!t&&s.self&&s.self.location&&(t=s.self.location.protocol.slice(0,-1)),r=!zt.test(t?t.toLowerCase():"")}n=r}if(n)Y(e,"complete"),Y(e,"success");else{e.o=6;try{var a=Ht(e)>2?e.g.statusText:""}catch(o){a=""}e.l=a+" ["+e.ca()+"]",Bt(e)}}finally{$t(e)}}}function $t(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||Y(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function Ht(e){return e.g?e.g.readyState:0}function Qt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Gt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kt(e){this.za=0,this.i=[],this.j=new we,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gt("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gt("baseRetryDelayMs",5e3,e),this.Za=Gt("retryDelaySeedMs",1e4,e),this.Ta=Gt("forwardChannelMaxRetries",2,e),this.va=Gt("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new qe(e&&e.concurrentRequestLimit),this.Ba=new xt,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function Wt(e){if(Xt(e),3==e.I){var t=e.V++,n=Je(e.J);if(nt(n,"SID",e.M),nt(n,"RID",t),nt(n,"TYPE","terminate"),en(e,n),(t=new Te(e,e.j,t)).M=2,t.A=rt(Je(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&s.Image&&((new Image).src=t.A,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),Oe(t)}hn(e)}function Yt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Xt(e){Yt(e),e.v&&(s.clearTimeout(e.v),e.v=null),on(e),e.h.cancel(),e.m&&("number"==typeof e.m&&s.clearTimeout(e.m),e.m=null)}function Jt(e){if(!$e(e.h)&&!e.m){e.m=!0;var t=e.Ea;v||x(),b||(v(),b=!0),w.add(t,e),e.D=0}}function Zt(e,t){var n;n=t?t.l:e.V++;const r=Je(e.J);nt(r,"SID",e.M),nt(r,"RID",n),nt(r,"AID",e.K),en(e,r),e.u&&e.o&&Mt(r,e.u,e.o),n=new Te(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=tn(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),Ge(e.h,n),De(n,r,t)}function en(e,t){e.H&&D(e.H,function(e,n){nt(t,n,e)}),e.l&&D({},function(e,n){nt(t,n,e)})}function tn(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let u=0;u<n;u++){var s=i[u].g;const n=i[u].map;if((s-=t)<0)t=Math.max(0,i[u].g-100),l=!1;else try{s="req"+s+"_"||"";try{var o=n instanceof Map?n:Object.entries(n);for(const[t,n]of o){let r=n;a(n)&&(r=re(n)),e.push(s+t+"="+encodeURIComponent(r))}}catch(c){throw e.push(s+"type="+encodeURIComponent("_badmap")),c}}catch(c){r&&r(n)}}if(l){o=e.join("&");break e}}o=void 0}return e=e.i.splice(0,n),t.G=e,o}function nn(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;v||x(),b||(v(),b=!0),w.add(t,e),e.A=0}}function rn(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=be(l(e.Da,e),cn(e,e.A)),e.A++,!0)}function sn(e){null!=e.B&&(s.clearTimeout(e.B),e.B=null)}function an(e){e.g=new Te(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=Je(e.na);nt(t,"RID","rpc"),nt(t,"SID",e.M),nt(t,"AID",e.K),nt(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&nt(t,"TO",e.ia),nt(t,"TYPE","xmlhttp"),en(e,t),e.u&&e.o&&Mt(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=rt(Je(t)),n.u=null,n.R=!0,Pe(n,e)}function on(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){on(e),sn(e),e.g=null;var r=2}else{if(!Qe(e.h,t))return;n=t.G,Ke(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;Y(r=fe(),new ve(r,n)),Jt(e)}else nn(e);else if(3==(i=t.m)||0==i&&t.X>0||!(1==r&&function(e,t){return!(He(e.h)>=e.h.j-(e.m?1:0)||(e.m?(e.i=t.G.concat(e.i),0):1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta)||(e.m=be(l(e.Ea,e,t),cn(e,e.D)),e.D++,0)))}(e,t)||2==r&&rn(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new Xe(r||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||Ze(r,"https"),rt(r),t?function(e,t){const n=new we;if(s.Image){const r=new Image;r.onload=c(wt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(wt,n,"TestLoadImage: error",!1,t,r),r.onabort=c(wt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(wt,n,"TestLoadImage: timeout",!1,t,r),s.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new we;const n=new AbortController,r=setTimeout(()=>{n.abort(),wt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?wt(0,0,!0,t):wt(0,0,!1,t)}).catch(()=>{clearTimeout(r),wt(0,0,!1,t)})}(r.toString(),n)}else ye(2);e.I=0,e.l&&e.l.pa(t),hn(e),Xt(e)}function hn(e){if(e.I=0,e.ja=[],e.l){const t=We(e.h);0==t.length&&0==e.i.length||(f(e.ja,t),f(e.ja,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.oa()}}function dn(e,t,n){var r=n instanceof Xe?Je(n):new Xe(n);if(""!=r.g)t&&(r.g=t+"."+r.g),et(r,r.u);else{var i=s.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;const e=new Xe(null);r&&Ze(e,r),t&&(e.g=t),i&&et(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&nt(r,n,t),nt(r,"VER",e.ka),en(e,r),r}function fn(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new Ft(new St({ab:n})):new Ft(e.ma)).Fa(e.L),t}function pn(){}function mn(){}function gn(e,t){W.call(this),this.g=new Kt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!C(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!C(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function yn(e){ce.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){ue.call(this),this.status=1}function bn(e){this.g=e}(e=Ft.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Se.g(),this.g.onreadystatechange=h(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Ut(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=s.FormData&&e instanceof s.FormData,!(Array.prototype.indexOf.call(Vt,t,void 0)>=0)||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(a){Ut(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,Y(this,"complete"),Y(this,"abort"),$t(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$t(this,!0)),Ft.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?qt(this):this.Xa())},e.Xa=function(){qt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Ht(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ie(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"==typeof this.l?this.l:String(this.l)},(e=Kt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){ye(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=dn(this,null,this.W),Jt(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Te(this,this.j,e);let s=this.o;if(this.U&&(s?(s=P(s),R(s,this.U)):s=this.U),null!==this.u||this.R||(i.J=s,s=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),nt(n=Je(this.J),"RID",e),nt(n,"CVER",22),this.G&&nt(n,"X-HTTP-Session-Id",this.G),en(this,n),s&&(this.R?t="headers="+Ce(Ot(s))+"&"+t:this.u&&Mt(n,this.u,s)),Ge(this.h,i),this.Ra&&nt(n,"TYPE","init"),this.S?(nt(n,"$req",t),nt(n,"SID","null"),i.U=!0,De(i,n,null)):De(i,n,t),this.I=2}}else 3==this.I&&(e?Zt(this,e):0==this.i.length||$e(this.h)||Zt(this))},e.Da=function(){if(this.v=null,an(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=be(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),Yt(this),an(this))},e.Va=function(){null!=this.C&&(this.C=null,Yt(this),rn(this),ye(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},u(gn,W),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Wt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=re(e),e=n);t.i.push(new Be(t.Ya++,e)),3==t.I&&Jt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Wt(this.g),delete this.g,gn.Z.N.call(this)},u(yn,ce),u(vn,ue),u(bn,pn),bn.prototype.ra=function(){Y(this.g,"a")},bn.prototype.qa=function(e){Y(this.g,new yn(e))},bn.prototype.pa=function(e){Y(this.g,new vn)},bn.prototype.oa=function(){Y(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Dt=function(){return new mn},At=function(){return fe()},It=he,jt={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ke.NO_ERROR=0,ke.TIMEOUT=8,ke.HTTP_ERROR=6,Tt=ke,Ee.COMPLETE="complete",_t=Ee,oe.EventType=le,le.OPEN="a",le.CLOSE="b",le.ERROR="c",le.MESSAGE="d",W.prototype.listen=W.prototype.J,Ct=oe,Ft.prototype.listenOnce=Ft.prototype.K,Ft.prototype.getLastError=Ft.prototype.Ha,Ft.prototype.getLastErrorCode=Ft.prototype.ya,Ft.prototype.getStatus=Ft.prototype.ca,Ft.prototype.getResponseJson=Ft.prototype.La,Ft.prototype.getResponseText=Ft.prototype.la,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Fa,Nt=Ft}).apply(void 0!==Pt?Pt:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const Lt="@firebase/firestore",Rt="4.9.2";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Mt="12.3.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft=new le("@firebase/firestore");function zt(){return Ft.logLevel}function Vt(e,...t){if(Ft.logLevel<=ne.DEBUG){const n=t.map(qt);Ft.debug(`Firestore (${Mt}): ${e}`,...n)}}function Ut(e,...t){if(Ft.logLevel<=ne.ERROR){const n=t.map(qt);Ft.error(`Firestore (${Mt}): ${e}`,...n)}}function Bt(e,...t){if(Ft.logLevel<=ne.WARN){const n=t.map(qt);Ft.warn(`Firestore (${Mt}): ${e}`,...n)}}function qt(e){if("string"==typeof e)return e;try{
/**
    * @license
    * Copyright 2020 Google LLC
    *
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    *   http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    */
return t=e,JSON.stringify(t)}catch(n){return e}var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Ht(e,r,n)}function Ht(e,t,n){let r=`FIRESTORE (${Mt}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(i){r+=" CONTEXT: "+n}throw Ut(r),new Error(r)}function Qt(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||Ht(t,i,r)}function Gt(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Wt extends Q{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Jt{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ot.UNAUTHENTICATED))}shutdown(){}}class Zt{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class en{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qt(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Yt;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Yt,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{Vt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Vt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Yt)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Vt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Qt("string"==typeof t.accessToken,31837,{l:t}),new Xt(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qt(null===e||"string"==typeof e,2055,{h:e}),new Ot(e)}}class tn{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class nn{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new tn(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rn{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sn{constructor(e,t){var n;this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,null!=(n=e)&&void 0!==n.settings&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Qt(void 0===this.o,3512);const n=e=>{null!=e.error&&Vt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,Vt("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Vt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):Vt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new rn(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Qt("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new rn(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=an(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function ln(e,t){return e<t?-1:e>t?1:0}function cn(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return dn(n)===dn(i)?ln(n,i):dn(n)?1:-1}return ln(e.length,t.length)}const un=55296,hn=57343;function dn(e){const t=e.charCodeAt(0);return t>=un&&t<=hn}function fn(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="__name__";class mn{constructor(e,t,n){void 0===t?t=0:t>e.length&&$t(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&$t(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===mn.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof mn?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=mn.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return ln(e.length,t.length)}static compareSegments(e,t){const n=mn.isNumericId(e),r=mn.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?mn.extractNumericId(e).compare(mn.extractNumericId(t)):cn(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return St.fromString(e.substring(4,e.length-2))}}class gn extends mn{construct(e,t,n){return new gn(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Wt(Kt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new gn(t)}static emptyPath(){return new gn([])}}const yn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends mn{construct(e,t,n){return new vn(e,t,n)}static isValidIdentifier(e){return yn.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===pn}static keyField(){return new vn([pn])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Wt(Kt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Wt(Kt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Wt(Kt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Wt(Kt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(t)}static emptyPath(){return new vn([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.path=e}static fromPath(e){return new bn(gn.fromString(e))}static fromName(e){return new bn(gn.fromString(e).popFirst(5))}static empty(){return new bn(gn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===gn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return gn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new bn(new gn(e.slice()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(e,t,n){if(!n)throw new Wt(Kt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function xn(e){if(!bn.isDocumentKey(e))throw new Wt(Kt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Sn(e){if(bn.isDocumentKey(e))throw new Wt(Kt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function kn(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function En(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const n=(t=e).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var t;return"function"==typeof e?"a function":$t(12329,{type:typeof e})}function Nn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Wt(Kt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=En(e);throw new Wt(Kt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}
/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(e,t){const n={typeString:e};return t&&(n.value=t),n}function _n(e,t){if(!kn(e))throw new Wt(Kt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const a=e[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(void 0!==s&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Wt(Kt.INVALID_ARGUMENT,n);return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn=-62135596800,jn=1e6;class In{static now(){return In.fromMillis(Date.now())}static fromDate(e){return In.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*jn);return new In(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Wt(Kt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Wt(Kt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Tn)throw new Wt(Kt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Wt(Kt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jn}_compareTo(e){return this.seconds===e.seconds?ln(this.nanoseconds,e.nanoseconds):ln(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:In._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_n(e,In._jsonSchema))return new In(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Tn;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}In._jsonSchemaVersion="firestore/timestamp/1.0",In._jsonSchema={type:Cn("string",In._jsonSchemaVersion),seconds:Cn("number"),nanoseconds:Cn("number")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class An{static fromTimestamp(e){return new An(e)}static min(){return new An(new In(0,0))}static max(){return new An(new In(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(e){return new Pn(e.readTime,e.key,-1)}class Pn{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Pn(An.min(),bn.empty(),-1)}static max(){return new Pn(An.max(),bn.empty(),-1)}}function Ln(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=bn.comparator(e.documentKey,t.documentKey),0!==n?n:ln(e.largestBatchId,t.largestBatchId)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)}class Rn{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function On(e){if(e.code!==Kt.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;Vt("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Mn((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Mn?t:Mn.resolve(t)}catch(t){return Mn.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Mn.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Mn.reject(t)}static resolve(e){return new Mn((t,n)=>{t(e)})}static reject(e){return new Mn((t,n)=>{n(e)})}static waitFor(e){return new Mn((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=Mn.resolve(!1);for(const n of e)t=t.next(e=>e?Mn.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Mn((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++a,a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new Mn((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Fn(e){return"IndexedDbTransactionError"===e.name}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}zn.ce=-1;function Vn(e){return null==e}function Un(e){return 0===e&&1/e==-1/0}function Bn(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="";break;case"":n+="";break;default:n+=t}}return n}function qn(e){return e+""}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Hn(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Qn(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,t){this.comparator=e,this.root=t||Wn.EMPTY}insert(e,t){return new Gn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wn.BLACK,null,null))}remove(e){return new Gn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kn(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kn(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kn(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kn(this.root,e,this.comparator,!0)}}class Kn{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wn{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Wn.RED,this.left=null!=r?r:Wn.EMPTY,this.right=null!=i?i:Wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Wn(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Wn.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $t(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw $t(27949);return e+(this.isRed()?0:1)}}Wn.EMPTY=null,Wn.RED=!0,Wn.BLACK=!1,Wn.EMPTY=new class{constructor(){this.size=0}get key(){throw $t(57766)}get value(){throw $t(16141)}get color(){throw $t(16727)}get left(){throw $t(29726)}get right(){throw $t(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Wn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Yn{constructor(e){this.comparator=e,this.data=new Gn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Xn(this.data.getIterator())}getIteratorFrom(e){return new Xn(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Yn))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Yn(this.comparator);return t.data=e,t}}class Xn{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new Jn([])}unionWith(e){let t=new Yn(vn.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Jn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return fn(this.fields,e.fields,(e,t)=>e.isEqual(t))}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new Zn("Invalid base64 string: "+t):t}}(e);return new er(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new er(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ln(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}er.EMPTY_BYTE_STRING=new er("");const tr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nr(e){if(Qt(!!e,39018),"string"==typeof e){let t=0;const n=tr.exec(e);if(Qt(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:rr(e.seconds),nanos:rr(e.nanos)}}function rr(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ir(e){return"string"==typeof e?er.fromBase64String(e):er.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr="server_timestamp",ar="__type__",or="__previous_value__",lr="__local_write_time__";function cr(e){const t=(e?.mapValue?.fields||{})[ar]?.stringValue;return t===sr}function ur(e){const t=e.mapValue.fields[or];return cr(t)?ur(t):t}function hr(e){const t=nr(e.mapValue.fields[lr].timestampValue);return new In(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,t,n,r,i,s,a,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const fr="(default)";class pr{constructor(e,t){this.projectId=e,this.database=t||fr}static empty(){return new pr("","")}get isDefaultDatabase(){return this.database===fr}isEqual(e){return e instanceof pr&&e.projectId===this.projectId&&e.database===this.database}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr="__type__",gr="__max__",yr={},vr="__vector__",br="value";function wr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?cr(e)?4:function(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===gr}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)?9007199254740991:function(e){const t=(e?.mapValue?.fields||{})[mr]?.stringValue;return t===vr}(e)?10:11:$t(28295,{value:e})}function xr(e,t){if(e===t)return!0;const n=wr(e);if(n!==wr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return hr(e).isEqual(hr(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=nr(e.timestampValue),r=nr(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return r=t,ir(e.bytesValue).isEqual(ir(r.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return rr(e.geoPointValue.latitude)===rr(t.geoPointValue.latitude)&&rr(e.geoPointValue.longitude)===rr(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return rr(e.integerValue)===rr(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=rr(e.doubleValue),r=rr(t.doubleValue);return n===r?Un(n)===Un(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return fn(e.arrayValue.values||[],t.arrayValue.values||[],xr);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if($n(n)!==$n(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!xr(n[i],r[i])))return!1;return!0}(e,t);default:return $t(52216,{left:e})}var r}function Sr(e,t){return void 0!==(e.values||[]).find(e=>xr(e,t))}function kr(e,t){if(e===t)return 0;const n=wr(e),r=wr(t);if(n!==r)return ln(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ln(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=rr(e.integerValue||e.doubleValue),r=rr(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Er(e.timestampValue,t.timestampValue);case 4:return Er(hr(e),hr(t));case 5:return cn(e.stringValue,t.stringValue);case 6:return function(e,t){const n=ir(e),r=ir(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=ln(n[i],r[i]);if(0!==e)return e}return ln(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ln(rr(e.latitude),rr(t.latitude));return 0!==n?n:ln(rr(e.longitude),rr(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Nr(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=t.fields||{},i=n[br]?.arrayValue,s=r[br]?.arrayValue,a=ln(i?.values?.length||0,s?.values?.length||0);return 0!==a?a:Nr(i,s)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===yr&&t===yr)return 0;if(e===yr)return 1;if(t===yr)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=cn(r[a],s[a]);if(0!==e)return e;const t=kr(n[r[a]],i[s[a]]);if(0!==t)return t}return ln(r.length,s.length)}(e.mapValue,t.mapValue);default:throw $t(23264,{he:n})}}function Er(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ln(e,t);const n=nr(e),r=nr(t),i=ln(n.seconds,r.seconds);return 0!==i?i:ln(n.nanos,r.nanos)}function Nr(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=kr(n[i],r[i]);if(e)return e}return ln(n.length,r.length)}function Cr(e){return _r(e)}function _r(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=nr(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ir(e.bytesValue).toBase64():"referenceValue"in e?function(e){return bn.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=_r(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${_r(e.fields[i])}`;return n+"}"}(e.mapValue):$t(61005,{value:e})}function Tr(e){switch(wr(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ur(e);return t?16+Tr(t):16;case 5:return 2*e.stringValue.length;case 6:return ir(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(e.arrayValue.values||[]).reduce((e,t)=>e+Tr(t),0);case 10:case 11:return function(e){let t=0;return Hn(e.fields,(e,n)=>{t+=e.length+Tr(n)}),t}(e.mapValue);default:throw $t(13486,{value:e})}}function jr(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Ir(e){return!!e&&"integerValue"in e}function Ar(e){return!!e&&"arrayValue"in e}function Dr(e){return!!e&&"nullValue"in e}function Pr(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Lr(e){return!!e&&"mapValue"in e}function Rr(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Hn(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Rr(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Rr(e.arrayValue.values[n]);return t}return{...e}}class Or{constructor(e){this.value=e}static empty(){return new Or({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Lr(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rr(t)}setAll(e){let t=vn.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Rr(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Lr(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Lr(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Hn(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Or(Rr(this.value))}}function Mr(e){const t=[];return Hn(e.fields,(e,n)=>{const r=new vn([e]);if(Lr(n)){const e=Mr(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Jn(t)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Fr{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Fr(e,0,An.min(),An.min(),An.min(),Or.empty(),0)}static newFoundDocument(e,t,n,r){return new Fr(e,1,t,An.min(),n,r,0)}static newNoDocument(e,t){return new Fr(e,2,t,An.min(),An.min(),Or.empty(),0)}static newUnknownDocument(e,t){return new Fr(e,3,t,An.min(),An.min(),Or.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(An.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=An.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Fr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,t){this.position=e,this.inclusive=t}}function Vr(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?bn.comparator(bn.fromName(a.referenceValue),n.key):kr(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Ur(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!xr(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,t="asc"){this.field=e,this.dir=t}}function qr(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{}class Hr extends $r{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Jr(e,t,n):"array-contains"===t?new ni(e,n):"in"===t?new ri(e,n):"not-in"===t?new ii(e,n):"array-contains-any"===t?new si(e,n):new Hr(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Zr(e,n):new ei(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(kr(t,this.value)):null!==t&&wr(this.value)===wr(t)&&this.matchesComparison(kr(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return $t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qr extends $r{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Qr(e,t)}matches(e){return Gr(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Gr(e){return"and"===e.op}function Kr(e){return function(e){for(const t of e.filters)if(t instanceof Qr)return!1;return!0}(e)&&Gr(e)}function Wr(e){if(e instanceof Hr)return e.field.canonicalString()+e.op.toString()+Cr(e.value);if(Kr(e))return e.filters.map(e=>Wr(e)).join(",");{const t=e.filters.map(e=>Wr(e)).join(",");return`${e.op}(${t})`}}function Yr(e,t){return e instanceof Hr?(n=e,(r=t)instanceof Hr&&n.op===r.op&&n.field.isEqual(r.field)&&xr(n.value,r.value)):e instanceof Qr?function(e,t){return t instanceof Qr&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Yr(n,t.filters[r]),!0)}(e,t):void $t(19439);var n,r}function Xr(e){return e instanceof Hr?`${(t=e).field.canonicalString()} ${t.op} ${Cr(t.value)}`:e instanceof Qr?function(e){return e.op.toString()+" {"+e.getFilters().map(Xr).join(" ,")+"}"}(e):"Filter";var t}class Jr extends Hr{constructor(e,t,n){super(e,t,n),this.key=bn.fromName(n.referenceValue)}matches(e){const t=bn.comparator(e.key,this.key);return this.matchesComparison(t)}}class Zr extends Hr{constructor(e,t){super(e,"in",t),this.keys=ti("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ei extends Hr{constructor(e,t){super(e,"not-in",t),this.keys=ti("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ti(e,t){return(t.arrayValue?.values||[]).map(e=>bn.fromName(e.referenceValue))}class ni extends Hr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ar(t)&&Sr(t.arrayValue,this.value)}}class ri extends Hr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Sr(this.value.arrayValue,t)}}class ii extends Hr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Sr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Sr(this.value.arrayValue,t)}}class si extends Hr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ar(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Sr(this.value.arrayValue,e))}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,t=null,n=[],r=[],i=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.Te=null}}function oi(e,t=null,n=[],r=[],i=null,s=null,a=null){return new ai(e,t,n,r,i,s,a)}function li(e){const t=Gt(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Wr(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>{return(t=e).field.canonicalString()+t.dir;var t}).join(","),Vn(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Cr(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Cr(e)).join(",")),t.Te=e}return t.Te}function ci(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!qr(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Yr(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ur(e.startAt,t.startAt)&&Ur(e.endAt,t.endAt)}function ui(e){return bn.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,t=null,n=[],r=[],i=null,s="F",a=null,o=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function di(e){return new hi(e)}function fi(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function pi(e){return null!==e.collectionGroup}function mi(e){const t=Gt(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const r of t.explicitOrderBy)t.Ie.push(r),e.add(r.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(e){let t=new Yn(vn.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t})(t).forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Br(r,n))}),e.has(vn.keyField().canonicalString())||t.Ie.push(new Br(vn.keyField(),n))}return t.Ie}function gi(e){const t=Gt(e);return t.Ee||(t.Ee=function(e,t){if("F"===e.limitType)return oi(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Br(e.field,t)});const n=e.endAt?new zr(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new zr(e.startAt.position,e.startAt.inclusive):null;return oi(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}(t,mi(e))),t.Ee}function yi(e,t){const n=e.filters.concat([t]);return new hi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function vi(e,t,n){return new hi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function bi(e,t){return ci(gi(e),gi(t))&&e.limitType===t.limitType}function wi(e){return`${li(gi(e))}|lt:${e.limitType}`}function xi(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>Xr(e)).join(", ")}]`),Vn(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>{return`${(t=e).field.canonicalString()} (${t.dir})`;var t}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Cr(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Cr(e)).join(",")),`Target(${t})`}(gi(e))}; limitType=${e.limitType})`}function Si(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):bn.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of mi(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&(r=t,!((n=e).startAt&&!function(e,t,n){const r=Vr(e,t,n);return e.inclusive?r<=0:r<0}(n.startAt,mi(n),r)||n.endAt&&!function(e,t,n){const r=Vr(e,t,n);return e.inclusive?r>=0:r>0}(n.endAt,mi(n),r)));var n,r}function ki(e){return(t,n)=>{let r=!1;for(const i of mi(e)){const e=Ei(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Ei(e,t,n){const r=e.field.isKeyField()?bn.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?kr(r,i):$t(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return $t(19790,{direction:e.dir})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Hn(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Qn(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new Gn(bn.comparator);function _i(){return Ci}const Ti=new Gn(bn.comparator);function ji(...e){let t=Ti;for(const n of e)t=t.insert(n.key,n);return t}function Ii(e){let t=Ti;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Ai(){return Pi()}function Di(){return Pi()}function Pi(){return new Ni(e=>e.toString(),(e,t)=>e.isEqual(t))}const Li=new Gn(bn.comparator),Ri=new Yn(bn.comparator);function Oi(...e){let t=Ri;for(const n of e)t=t.add(n);return t}const Mi=new Yn(ln);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Fi(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Un(t)?"-0":t}}function zi(e){return{integerValue:""+e}}function Vi(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!Un(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)?zi(t):Fi(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(){this._=void 0}}function Bi(e,t,n){return e instanceof Hi?function(e,t){const n={fields:{[ar]:{stringValue:sr},[lr]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&cr(t)&&(t=ur(t)),t&&(n.fields[or]=t),{mapValue:n}}(n,t):e instanceof Qi?Gi(e,t):e instanceof Ki?Wi(e,t):function(e,t){const n=$i(e,t),r=Xi(n)+Xi(e.Ae);return Ir(n)&&Ir(e.Ae)?zi(r):Fi(e.serializer,r)}(e,t)}function qi(e,t,n){return e instanceof Qi?Gi(e,t):e instanceof Ki?Wi(e,t):n}function $i(e,t){return e instanceof Yi?Ir(n=t)||(r=n)&&"doubleValue"in r?t:{integerValue:0}:null;var n,r}class Hi extends Ui{}class Qi extends Ui{constructor(e){super(),this.elements=e}}function Gi(e,t){const n=Ji(t);for(const r of e.elements)n.some(e=>xr(e,r))||n.push(r);return{arrayValue:{values:n}}}class Ki extends Ui{constructor(e){super(),this.elements=e}}function Wi(e,t){let n=Ji(t);for(const r of e.elements)n=n.filter(e=>!xr(e,r));return{arrayValue:{values:n}}}class Yi extends Ui{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Xi(e){return rr(e.integerValue||e.doubleValue)}function Ji(e){return Ar(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Zi{constructor(e,t){this.version=e,this.transformResults=t}}class es{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new es}static exists(e){return new es(void 0,e)}static updateTime(e){return new es(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ts(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ns{}function rs(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new fs(e.key,es.none()):new ls(e.key,e.data,es.none());{const n=e.data,r=Or.empty();let i=new Yn(vn.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new cs(e.key,r,new Jn(i.toArray()),es.none())}}function is(e,t,n){var r;e instanceof ls?function(e,t,n){const r=e.value.clone(),i=hs(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof cs?function(e,t,n){if(!ts(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=hs(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(us(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):(r=n,t.convertToNoDocument(r.version).setHasCommittedMutations())}function ss(e,t,n,r){return e instanceof ls?function(e,t,n,r){if(!ts(e.precondition,t))return n;const i=e.value.clone(),s=ds(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof cs?function(e,t,n,r){if(!ts(e.precondition,t))return n;const i=ds(e.fieldTransforms,r,t),s=t.data;return s.setAll(us(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):(i=t,s=n,ts(e.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):s);var i,s}function as(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=$i(r.transform,e||null);null!=i&&(null===n&&(n=Or.empty()),n.set(r.field,i))}return n||null}function os(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&fn(n,r,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&(n=e.transform,r=t.transform,n instanceof Qi&&r instanceof Qi||n instanceof Ki&&r instanceof Ki?fn(n.elements,r.elements,xr):n instanceof Yi&&r instanceof Yi?xr(n.Ae,r.Ae):n instanceof Hi&&r instanceof Hi);var n,r}(e,t)))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask)));var n,r}class ls extends ns{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class cs extends ns{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function us(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function hs(e,t,n){const r=new Map;Qt(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,qi(a,o,n[i]))}return r}function ds(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Bi(e,s,t))}return r}class fs extends ns{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ps extends ns{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&is(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=ss(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=ss(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Di();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=rs(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(An.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Oi())}isEqual(e){return this.batchId===e.batchId&&fn(this.mutations,e.mutations,(e,t)=>os(e,t))&&fn(this.baseMutations,e.baseMutations,(e,t)=>os(e,t))}}class gs{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Qt(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=function(){return Li}();const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new gs(e,t,n,r)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,t){this.count=e,this.unchangedNames=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bs,ws;function xs(e){if(void 0===e)return Ut("GRPC error has no .code"),Kt.UNKNOWN;switch(e){case bs.OK:return Kt.OK;case bs.CANCELLED:return Kt.CANCELLED;case bs.UNKNOWN:return Kt.UNKNOWN;case bs.DEADLINE_EXCEEDED:return Kt.DEADLINE_EXCEEDED;case bs.RESOURCE_EXHAUSTED:return Kt.RESOURCE_EXHAUSTED;case bs.INTERNAL:return Kt.INTERNAL;case bs.UNAVAILABLE:return Kt.UNAVAILABLE;case bs.UNAUTHENTICATED:return Kt.UNAUTHENTICATED;case bs.INVALID_ARGUMENT:return Kt.INVALID_ARGUMENT;case bs.NOT_FOUND:return Kt.NOT_FOUND;case bs.ALREADY_EXISTS:return Kt.ALREADY_EXISTS;case bs.PERMISSION_DENIED:return Kt.PERMISSION_DENIED;case bs.FAILED_PRECONDITION:return Kt.FAILED_PRECONDITION;case bs.ABORTED:return Kt.ABORTED;case bs.OUT_OF_RANGE:return Kt.OUT_OF_RANGE;case bs.UNIMPLEMENTED:return Kt.UNIMPLEMENTED;case bs.DATA_LOSS:return Kt.DATA_LOSS;default:return $t(39323,{code:e})}}(ws=bs||(bs={}))[ws.OK=0]="OK",ws[ws.CANCELLED=1]="CANCELLED",ws[ws.UNKNOWN=2]="UNKNOWN",ws[ws.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ws[ws.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ws[ws.NOT_FOUND=5]="NOT_FOUND",ws[ws.ALREADY_EXISTS=6]="ALREADY_EXISTS",ws[ws.PERMISSION_DENIED=7]="PERMISSION_DENIED",ws[ws.UNAUTHENTICATED=16]="UNAUTHENTICATED",ws[ws.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ws[ws.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ws[ws.ABORTED=10]="ABORTED",ws[ws.OUT_OF_RANGE=11]="OUT_OF_RANGE",ws[ws.UNIMPLEMENTED=12]="UNIMPLEMENTED",ws[ws.INTERNAL=13]="INTERNAL",ws[ws.UNAVAILABLE=14]="UNAVAILABLE",ws[ws.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Ss=new St([4294967295,4294967295],0);function ks(e){const t=(new TextEncoder).encode(e),n=new kt;return n.update(t),new Uint8Array(n.digest())}function Es(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new St([n,r],0),new St([i,s],0)]}class Ns{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Cs(`Invalid padding: ${t}`);if(n<0)throw new Cs(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Cs(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Cs(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=St.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(St.fromNumber(n)));return 1===r.compare(Ss)&&(r=new St([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=ks(e),[n,r]=Es(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Ns(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.ge)return;const t=ks(e),[n,r]=Es(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Cs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Ts.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new _s(An.min(),r,new Gn(ln),_i(),Oi())}}class Ts{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Ts(n,t,Oi(),Oi(),Oi())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class Is{constructor(e,t){this.targetId=e,this.Ce=t}}class As{constructor(e,t,n=er.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Ds{constructor(){this.ve=0,this.Fe=Rs(),this.Me=er.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Oi(),t=Oi(),n=Oi();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:$t(38017,{changeType:i})}}),new Ts(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Rs()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Ps{constructor(e){this.Ge=e,this.ze=new Map,this.je=_i(),this.Je=Ls(),this.He=Ls(),this.Ye=new Gn(ln)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:$t(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const i=r.target;if(ui(i))if(0===n){const e=new bn(i.path);this.et(t,e,Fr.newNoDocument(e,An.min()))}else Qt(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){const n=this.ut(e),i=n?this.ct(n,e,r):1;if(0!==i){this.it(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=ir(n).toUint8Array()}catch(o){if(o instanceof Zn)return Bt("Decoding the base64 bloom filter in existence filter failed ("+o.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw o}try{a=new Ns(s,r,i)}catch(o){return Bt(o instanceof Cs?"BloomFilter error: ":"Applying bloom filter failed: ",o),null}return 0===a.ge?null:a}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&ui(i.target)){const t=new bn(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,Fr.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=Oi();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new _s(e,t,this.Ye,this.je,n);return this.je=_i(),this.Je=Ls(),this.He=Ls(),this.Ye=new Gn(ln),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Ds,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Yn(ln),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Yn(ln),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||Vt("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ds),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ls(){return new Gn(bn.comparator)}function Rs(){return new Gn(bn.comparator)}const Os=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Ms=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Fs=(()=>({and:"AND",or:"OR"}))();class zs{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Vs(e,t){return e.useProto3Json||Vn(t)?t:{value:t}}function Us(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Bs(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function qs(e,t){return Us(e,t.toTimestamp())}function $s(e){return Qt(!!e,49232),An.fromTimestamp(function(e){const t=nr(e);return new In(t.seconds,t.nanos)}(e))}function Hs(e,t){return Qs(e,t).canonicalString()}function Qs(e,t){const n=(r=e,new gn(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===t?n:n.child(t)}function Gs(e){const t=gn.fromString(e);return Qt(ha(t),10190,{key:t.toString()}),t}function Ks(e,t){return Hs(e.databaseId,t.path)}function Ws(e,t){const n=Gs(t);if(n.get(1)!==e.databaseId.projectId)throw new Wt(Kt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Wt(Kt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new bn(Js(n))}function Ys(e,t){return Hs(e.databaseId,t)}function Xs(e){return new gn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Js(e){return Qt(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Zs(e,t,n){return{name:Ks(e,t),fields:n.value.mapValue.fields}}function ea(e,t){return{documents:[Ys(e,t.path)]}}function ta(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ys(e,i);const s=function(e){if(0!==e.length)return ca(Qr.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map(e=>{return{field:oa((t=e).field),direction:ia(t.dir)};var t})}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Vs(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i};var l}function na(e){let t=function(e){const t=Gs(e);return 4===t.length?gn.emptyPath():Js(t)}(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Qt(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=ra(e);return t instanceof Qr&&Kr(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(e=>{return new Br(la((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t}));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Vn(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new zr(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new zr(n,t)}(n.endAt)),function(e,t,n,r,i,s,a,o){return new hi(e,t,n,r,i,s,a,o)}(t,i,a,s,o,"F",l,c)}function ra(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=la(e.unaryFilter.field);return Hr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=la(e.unaryFilter.field);return Hr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=la(e.unaryFilter.field);return Hr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=la(e.unaryFilter.field);return Hr.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $t(61313);default:return $t(60726)}}(e):void 0!==e.fieldFilter?(t=e,Hr.create(la(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $t(58110);default:return $t(50506)}}(t.fieldFilter.op),t.fieldFilter.value)):void 0!==e.compositeFilter?function(e){return Qr.create(e.compositeFilter.filters.map(e=>ra(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return $t(1026)}}(e.compositeFilter.op))}(e):$t(30097,{filter:e});var t}function ia(e){return Os[e]}function sa(e){return Ms[e]}function aa(e){return Fs[e]}function oa(e){return{fieldPath:e.canonicalString()}}function la(e){return vn.fromServerFormat(e.fieldPath)}function ca(e){return e instanceof Hr?function(e){if("=="===e.op){if(Pr(e.value))return{unaryFilter:{field:oa(e.field),op:"IS_NAN"}};if(Dr(e.value))return{unaryFilter:{field:oa(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Pr(e.value))return{unaryFilter:{field:oa(e.field),op:"IS_NOT_NAN"}};if(Dr(e.value))return{unaryFilter:{field:oa(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oa(e.field),op:sa(e.op),value:e.value}}}(e):e instanceof Qr?function(e){const t=e.getFilters().map(e=>ca(e));return 1===t.length?t[0]:{compositeFilter:{op:aa(e.op),filters:t}}}(e):$t(54877,{filter:e})}function ua(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function ha(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,t,n,r,i=An.min(),s=An.min(),a=er.EMPTY_BYTE_STRING,o=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new da(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new da(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.yt=e}}function pa(e){const t=na({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?vi(t,t.limit,"L"):t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.Cn=new ga}addToCollectionParentIndex(e,t){return this.Cn.add(t),Mn.resolve()}getCollectionParents(e,t){return Mn.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Mn.resolve()}deleteFieldIndex(e,t){return Mn.resolve()}deleteAllFieldIndexes(e){return Mn.resolve()}createTargetIndexes(e,t){return Mn.resolve()}getDocumentsMatchingTarget(e,t){return Mn.resolve(null)}getIndexType(e,t){return Mn.resolve(0)}getFieldIndexes(e,t){return Mn.resolve([])}getNextCollectionGroupToUpdate(e){return Mn.resolve(null)}getMinOffset(e,t){return Mn.resolve(Pn.min())}getMinOffsetFromCollectionGroup(e,t){return Mn.resolve(Pn.min())}updateCollectionGroup(e,t,n){return Mn.resolve()}updateIndexEntries(e,t){return Mn.resolve()}}class ga{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Yn(gn.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Yn(gn.comparator)).toArray()}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},va=41943040;class ba{static withCacheSize(e){return new ba(e,ba.DEFAULT_COLLECTION_PERCENTILE,ba.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ba.DEFAULT_COLLECTION_PERCENTILE=10,ba.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ba.DEFAULT=new ba(va,ba.DEFAULT_COLLECTION_PERCENTILE,ba.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ba.DISABLED=new ba(-1,0,0);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class wa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new wa(0)}static cr(){return new wa(-1)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="LruGarbageCollector";function Sa([e,t],[n,r]){const i=ln(e,n);return 0===i?ln(t,r):i}class ka{constructor(e){this.Ir=e,this.buffer=new Yn(Sa),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Sa(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ea{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){Vt(xa,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Fn(e)?Vt(xa,"Ignoring IndexedDB error during garbage collection: ",e):await On(e)}await this.Vr(3e5)})}}class Na{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Mn.resolve(zn.ce);const n=new ka(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Vt("LruGarbageCollector","Garbage collection skipped; disabled"),Mn.resolve(ya)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Vt("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ya):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,s,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Vt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),zt()<=ne.DEBUG&&Vt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${r} in `+(a-s)+`ms\n\tRemoved ${i} targets in `+(o-a)+`ms\n\tRemoved ${e} documents in `+(l-o)+`ms\nTotal Duration: ${l-c}ms`),Mn.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ca{constructor(){this.changes=new Ni(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Fr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Mn.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&ss(n.mutation,e,Jn.empty(),In.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Oi()).next(()=>t))}getLocalViewOfDocuments(e,t,n=Oi()){const r=Ai();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=ji();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Ai();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Oi()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=_i();const s=Pi(),a=Pi();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof cs)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),ss(a.mutation,t,a.mutation.getFieldMask(),In.now())):s.set(t.key,Jn.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>a.set(e,new _a(t,s.get(e)??null))),a))}recalculateAndSaveOverlays(e,t){const n=Pi();let r=new Gn((e,t)=>e-t),i=Oi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||Jn.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||Oi()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Di();l.forEach(e=>{if(!i.has(e)){const r=rs(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Mn.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return i=t,bn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):pi(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r);var i}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Mn.resolve(Ai());let a=-1,o=i;return s.next(t=>Mn.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Mn.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,Oi())).next(e=>({batchId:a,changes:Ii(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new bn(t)).next(e=>{let t=ji();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=ji();return this.indexManager.getCollectionParents(e,i).next(a=>Mn.forEach(a,a=>{const o=(l=t,c=a.child(i),new hi(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,c;return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Fr.newInvalidDocument(r)))});let n=ji();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&ss(s.mutation,r,Jn.empty(),In.now()),Si(t,r)&&(n=n.insert(e,r))}),n})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Mn.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,{id:(n=t).id,version:n.version,createTime:$s(n.createTime)}),Mn.resolve();var n}getNamedQuery(e,t){return Mn.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,{name:(n=t).name,query:pa(n.bundledQuery),readTime:$s(n.readTime)}),Mn.resolve();var n}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.overlays=new Gn(bn.comparator),this.qr=new Map}getOverlay(e,t){return Mn.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Ai();return Mn.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),Mn.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),Mn.resolve()}getOverlaysForCollection(e,t,n){const r=Ai(),i=t.length+1,s=new bn(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Mn.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Gn((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Ai(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Ai(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return Mn.resolve(a)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new ys(t,n));let i=this.qr.get(t);void 0===i&&(i=Oi(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(){this.sessionToken=er.EMPTY_BYTE_STRING}getSessionToken(e){return Mn.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Mn.resolve()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(){this.Qr=new Yn(Pa.$r),this.Ur=new Yn(Pa.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new Pa(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new Pa(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new bn(new gn([])),n=new Pa(t,e),r=new Pa(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new bn(new gn([])),n=new Pa(t,e),r=new Pa(t,e+1);let i=Oi();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Pa(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Pa{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return bn.comparator(e.key,t.key)||ln(e.Yr,t.Yr)}static Kr(e,t){return ln(e.Yr,t.Yr)||bn.comparator(e.key,t.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Yn(Pa.$r)}checkEmpty(e){return Mn.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new ms(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.Zr=this.Zr.add(new Pa(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Mn.resolve(s)}lookupMutationBatch(e,t){return Mn.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return Mn.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Mn.resolve(0===this.mutationQueue.length?-1:this.tr-1)}getAllMutationBatches(e){return Mn.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Pa(t,0),r=new Pa(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),Mn.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Yn(ln);return t.forEach(e=>{const t=new Pa(e,0),r=new Pa(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),Mn.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;bn.isDocumentKey(i)||(i=i.child(""));const s=new Pa(new bn(i),0);let a=new Yn(ln);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Yr)),!0)},s),Mn.resolve(this.ti(a))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Qt(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return Mn.forEach(t.mutations,r=>{const i=new Pa(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new Pa(t,0),r=this.Zr.firstAfterOrEqual(n);return Mn.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Mn.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this.ri=e,this.docs=new Gn(bn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Mn.resolve(n?n.document.mutableCopy():Fr.newInvalidDocument(t))}getEntries(e,t){let n=_i();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Fr.newInvalidDocument(e))}),Mn.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=_i();const s=t.path,a=new bn(s.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Ln(Dn(a),n)<=0||(r.has(a.key)||Si(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Mn.resolve(i)}getAllFromCollectionGroup(e,t,n,r){$t(9500)}ii(e,t){return Mn.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Oa(this)}getSize(e){return Mn.resolve(this.size)}}class Oa extends Ca{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),Mn.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this.persistence=e,this.si=new Ni(e=>li(e),ci),this.lastRemoteSnapshotVersion=An.min(),this.highestTargetId=0,this.oi=0,this._i=new Da,this.targetCount=0,this.ai=wa.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),Mn.resolve()}getLastRemoteSnapshotVersion(e){return Mn.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Mn.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Mn.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Mn.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new wa(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Mn.resolve()}updateTargetData(e,t){return this.Pr(t),Mn.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Mn.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.si.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),Mn.waitFor(i).next(()=>r)}getTargetCount(e){return Mn.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return Mn.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Mn.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Mn.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Mn.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return Mn.resolve(n)}containsKey(e,t){return Mn.resolve(this._i.containsKey(t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,t){this.ui={},this.overlays={},this.ci=new zn(0),this.li=!1,this.li=!0,this.hi=new Aa,this.referenceDelegate=e(this),this.Pi=new Ma(this),this.indexManager=new ma,this.remoteDocumentCache=new Ra(e=>this.referenceDelegate.Ti(e)),this.serializer=new fa(t),this.Ii=new ja(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ia,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new La(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){Vt("MemoryPersistence","Starting transaction:",e);const r=new za(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return Mn.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class za extends Rn{constructor(e){super(),this.currentSequenceNumber=e}}class Va{constructor(e){this.persistence=e,this.Ri=new Da,this.Vi=null}static mi(e){return new Va(e)}get fi(){if(this.Vi)return this.Vi;throw $t(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Mn.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Mn.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Mn.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Mn.forEach(this.fi,n=>{const r=bn.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,An.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return Mn.or([()=>Mn.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Ua{constructor(e,t){this.persistence=e,this.pi=new Ni(e=>function(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=qn(t)),t=Bn(e.get(n),t);return qn(t)}(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=function(e,t){return new Na(e,t)}(this,t)}static mi(e,t){return new Ua(e,t)}Ei(){}di(e){return Mn.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return Mn.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?Mn.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,An.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Mn.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Mn.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Mn.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Mn.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Tr(e.data.value)),t}br(e,t,n){return Mn.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return Mn.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=Oi(),r=Oi();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Ba(e,t.fromCache,n,r)}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=H()?8:function(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new qa;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(zt()<=ne.DEBUG&&Vt("QueryEngine","SDK will not create cache indexes for query:",xi(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Mn.resolve()):(zt()<=ne.DEBUG&&Vt("QueryEngine","Query:",xi(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(zt()<=ne.DEBUG&&Vt("QueryEngine","The SDK decides to create cache indexes for query:",xi(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gi(t))):Mn.resolve())}ys(e,t){if(fi(t))return Mn.resolve(null);let n=gi(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=vi(t,null,"F"),n=gi(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Oi(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.Ds(t,r);return this.Cs(t,s,i,n.readTime)?this.ys(e,vi(t,null,"F")):this.vs(e,s,t,n)}))})))}ws(e,t,n,r){return fi(t)||r.isEqual(An.min())?Mn.resolve(null):this.ps.getDocuments(e,n).next(i=>{const s=this.Ds(t,i);return this.Cs(t,s,n,r)?Mn.resolve(null):(zt()<=ne.DEBUG&&Vt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),xi(t)),this.vs(e,s,t,function(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=An.fromTimestamp(1e9===r?new In(n+1,0):new In(n,r));return new Pn(i,bn.empty(),t)}(r,-1)).next(e=>e))})}Ds(e,t){let n=new Yn(ki(e));return t.forEach((t,r)=>{Si(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return zt()<=ne.DEBUG&&Vt("QueryEngine","Using full collection scan to execute query:",xi(t)),this.ps.getDocumentsMatchingQuery(e,t,Pn.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="LocalStore";class Qa{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Gn(ln),this.xs=new Ni(e=>li(e),ci),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ta(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}async function Ga(e,t){const n=Gt(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let a=Oi();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:s}))})})}function Ka(e){const t=Gt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function Wa(e,t){const n=Gt(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];t.targetChanges.forEach((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Pi.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.Pi.addMatchingKeys(e,s.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(er.EMPTY_BYTE_STRING,An.min()).withLastLimboFreeSnapshotVersion(An.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){if(0===e.resumeToken.approximateByteSize())return!0;if(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8)return!0;return n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.Pi.updateTargetData(e,c))});let o=_i(),l=Oi();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(function(e,t,n){let r=Oi(),i=Oi();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=_i();return n.forEach((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(An.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Vt(Ha,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{ks:r,qs:i}})}(e,s,t.documentUpdates).next(e=>{o=e.ks,l=e.qs})),!r.isEqual(An.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return Mn.waitFor(a).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ms=i,e))}function Ya(e,t){const n=Gt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}async function Xa(e,t,n){const r=Gt(e),i=r.Ms.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(a){if(!Fn(a))throw a;Vt(Ha,`Failed to update sequence numbers for target ${t}: ${a}`)}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function Ja(e,t,n){const r=Gt(e);let i=An.min(),s=Oi();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Gt(e),i=r.xs.get(n);return void 0!==i?Mn.resolve(r.Ms.get(i)):r.Pi.getTargetData(t,n)}(r,e,gi(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:An.min(),n?s:Oi())).next(e=>(function(e,t,n){let r=e.Os.get(t)||An.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}(r,function(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(t),e),{documents:e,Qs:s})))}class Za{constructor(){this.activeTargetIds=Mi}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eo{constructor(){this.Mo=new Za,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Za,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{Oo(e){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="ConnectivityMonitor";class ro{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Vt(no,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Vt(no,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let io=null;function so(){return null===io?io=268435456+Math.round(2147483648*Math.random()):io++,"0x"+io.toString(16)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const ao="RestConnection",oo={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lo{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${r}`,this.Wo=this.databaseId.database===fr?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Go(e,t,n,r,i){const s=so(),a=this.zo(e,t.toUriEncodedString());Vt(ao,`Sending RPC '${e}' ${s}:`,a,n);const o={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(o,r,i);const{host:l}=new URL(a),c=U(l);return this.Jo(e,a,o,n,c).then(t=>(Vt(ao,`Received RPC '${e}' ${s}: `,t),t),t=>{throw Bt(ao,`RPC '${e}' ${s} failed with error: `,t,"url: ",a,"request:",n),t})}Ho(e,t,n,r,i,s){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Mt,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=oo[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo="WebChannelConnection";class ho extends lo{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const s=so();return new Promise((i,a)=>{const o=new Nt;o.setWithCredentials(!0),o.listenOnce(_t.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Tt.NO_ERROR:const t=o.getResponseJson();Vt(uo,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(t)),i(t);break;case Tt.TIMEOUT:Vt(uo,`RPC '${e}' ${s} timed out`),a(new Wt(Kt.DEADLINE_EXCEEDED,"Request time out"));break;case Tt.HTTP_ERROR:const n=o.getStatus();if(Vt(uo,`RPC '${e}' ${s} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=e?.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Kt).indexOf(t)>=0?t:Kt.UNKNOWN}(t.status);a(new Wt(e,t.message))}else a(new Wt(Kt.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Wt(Kt.UNAVAILABLE,"Connection failed."));break;default:$t(9055,{l_:e,streamId:s,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{Vt(uo,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(r);Vt(uo,`RPC '${e}' ${s} sending request:`,r),o.send(t,"POST",l,n,15)})}T_(e,t,n){const r=so(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Dt(),a=At(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.jo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");Vt(uo,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=s.createWebChannel(c,o);this.I_(u);let h=!1,d=!1;const f=new co({Yo:t=>{d?Vt(uo,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(Vt(uo,`Opening RPC '${e}' stream ${r} transport.`),u.open(),h=!0),Vt(uo,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(t){setTimeout(()=>{throw t},0)}})};return p(u,Ct.EventType.OPEN,()=>{d||(Vt(uo,`RPC '${e}' stream ${r} transport opened.`),f.o_())}),p(u,Ct.EventType.CLOSE,()=>{d||(d=!0,Vt(uo,`RPC '${e}' stream ${r} transport closed`),f.a_(),this.E_(u))}),p(u,Ct.EventType.ERROR,t=>{d||(d=!0,Bt(uo,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),f.a_(new Wt(Kt.UNAVAILABLE,"The operation could not be completed")))}),p(u,Ct.EventType.MESSAGE,t=>{if(!d){const n=t.data[0];Qt(!!n,16349);const i=n,s=i?.error||i[0]?.error;if(s){Vt(uo,`RPC '${e}' stream ${r} received error:`,s);const t=s.status;let n=function(e){const t=bs[e];if(void 0!==t)return xs(t)}(t),i=s.message;void 0===n&&(n=Kt.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),d=!0,f.a_(new Wt(n,i)),u.close()}else Vt(uo,`RPC '${e}' stream ${r} received:`,n),f.u_(n)}}),p(a,It.STAT_EVENT,t=>{t.stat===jt.PROXY?Vt(uo,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===jt.NOPROXY&&Vt(uo,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function fo(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(e){return new zs(e,!0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&Vt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go="PersistentStream";class yo{constructor(e,t,n,r,i,s,a,o){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mo(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===Kt.RESOURCE_EXHAUSTED?(Ut(t.toString()),Ut("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Kt.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.D_===t&&this.G_(e,n)},t=>{e(()=>{const e=new Wt(Kt.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Vt(go,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(Vt(go,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vo extends yo{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const i="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:$t(39313,{state:r}),s=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Qt(void 0===t||"string"==typeof t,58123),er.fromBase64String(t||"")):(Qt(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),er.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,l=o&&function(e){const t=void 0===e.code?Kt.UNKNOWN:xs(e.code);return new Wt(t,e.message||"")}(o);n=new As(i,s,a,l||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ws(e,r.document.name),s=$s(r.document.updateTime),a=r.document.createTime?$s(r.document.createTime):An.min(),o=new Or({mapValue:{fields:r.document.fields}}),l=Fr.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new js(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ws(e,r.document),s=r.readTime?$s(r.readTime):An.min(),a=Fr.newNoDocument(i,s),o=r.removedTargetIds||[];n=new js([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ws(e,r.document),s=r.removedTargetIds||[];n=new js([],s,i,null)}else{if(!("filter"in t))return $t(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new vs(r,i),a=e.targetId;n=new Is(a,s)}}var r;return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return An.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?An.min():t.readTime?$s(t.readTime):An.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Xs(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=ui(r)?{documents:ea(e,r)}:{query:ta(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Bs(e,t.resumeToken);const r=Vs(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(An.min())>0){n.readTime=Us(e,t.snapshotVersion.toTimestamp());const r=Vs(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $t(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Xs(this.serializer),t.removeTarget=e,this.q_(t)}}class bo extends yo{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qt(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){Qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(Qt(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?$s(e.updateTime):$s(t);return n.isEqual(An.min())&&(n=$s(t)),new Zi(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=$s(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Xs(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>function(e,t){let n;if(t instanceof ls)n={update:Zs(e,t.key,t.value)};else if(t instanceof fs)n={delete:Ks(e,t.key)};else if(t instanceof cs)n={update:Zs(e,t.key,t.data),updateMask:ua(t.fieldMask)};else{if(!(t instanceof ps))return $t(16599,{Vt:t.type});n={verify:Ks(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Hi)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Qi)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ki)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Yi)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw $t(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=(r=e,void 0!==(i=t.precondition).updateTime?{updateTime:qs(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:$t(27497))),n;var r,i}(this.serializer,e))};this.q_(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{}class xo extends wo{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Wt(Kt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Go(e,Qs(t,n),r,i,s)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Kt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Wt(Kt.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,Qs(t,n),r,s,a,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Kt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Wt(Kt.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class So{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ut(t),this.aa=!1):Vt("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko="RemoteStore";class Eo{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{Po(this)&&(Vt(ko,"Restarting streams for network reachability change."),await async function(e){const t=Gt(e);t.Ea.add(4),await Co(t),t.Ra.set("Unknown"),t.Ea.delete(4),await No(t)}(this))})}),this.Ra=new So(n,r)}}async function No(e){if(Po(e))for(const t of e.da)await t(!0)}async function Co(e){for(const t of e.da)await t(!1)}function _o(e,t){const n=Gt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Do(n)?Ao(n):Xo(n).O_()&&jo(n,t))}function To(e,t){const n=Gt(e),r=Xo(n);n.Ia.delete(t),r.O_()&&Io(n,t),0===n.Ia.size&&(r.O_()?r.L_():Po(n)&&n.Ra.set("Unknown"))}function jo(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(An.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Xo(e).Y_(t)}function Io(e,t){e.Va.Ue(t),Xo(e).Z_(t)}function Ao(e){e.Va=new Ps({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Xo(e).start(),e.Ra.ua()}function Do(e){return Po(e)&&!Xo(e).x_()&&e.Ia.size>0}function Po(e){return 0===Gt(e).Ea.size}function Lo(e){e.Va=void 0}async function Ro(e){e.Ra.set("Online")}async function Oo(e){e.Ia.forEach((t,n)=>{jo(e,t)})}async function Mo(e,t){Lo(e),Do(e)?(e.Ra.ha(t),Ao(e)):e.Ra.set("Unknown")}async function Fo(e,t,n){if(e.Ra.set("Online"),t instanceof As&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(r){Vt(ko,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await zo(e,r)}else if(t instanceof js?e.Va.Ze(t):t instanceof Is?e.Va.st(t):e.Va.tt(t),!n.isEqual(An.min()))try{const t=await Ka(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(er.EMPTY_BYTE_STRING,r.snapshotVersion)),Io(e,t);const i=new da(r.target,t,n,r.sequenceNumber);jo(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(i){Vt(ko,"Failed to raise snapshot:",i),await zo(e,i)}}async function zo(e,t,n){if(!Fn(t))throw t;e.Ea.add(1),await Co(e),e.Ra.set("Offline"),n||(n=()=>Ka(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Vt(ko,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await No(e)})}function Vo(e,t){return t().catch(n=>zo(e,n,t))}async function Uo(e){const t=Gt(e),n=Jo(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:-1;for(;Bo(t);)try{const e=await Ya(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,qo(t,e)}catch(i){await zo(t,i)}$o(t)&&Ho(t)}function Bo(e){return Po(e)&&e.Ta.length<10}function qo(e,t){e.Ta.push(t);const n=Jo(e);n.O_()&&n.X_&&n.ea(t.mutations)}function $o(e){return Po(e)&&!Jo(e).x_()&&e.Ta.length>0}function Ho(e){Jo(e).start()}async function Qo(e){Jo(e).ra()}async function Go(e){const t=Jo(e);for(const n of e.Ta)t.ea(n.mutations)}async function Ko(e,t,n){const r=e.Ta.shift(),i=gs.from(r,t,n);await Vo(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Uo(e)}async function Wo(e,t){t&&Jo(e).X_&&await async function(e,t){if(function(e){switch(e){case Kt.OK:return $t(64938);case Kt.CANCELLED:case Kt.UNKNOWN:case Kt.DEADLINE_EXCEEDED:case Kt.RESOURCE_EXHAUSTED:case Kt.INTERNAL:case Kt.UNAVAILABLE:case Kt.UNAUTHENTICATED:return!1;case Kt.INVALID_ARGUMENT:case Kt.NOT_FOUND:case Kt.ALREADY_EXISTS:case Kt.PERMISSION_DENIED:case Kt.FAILED_PRECONDITION:case Kt.ABORTED:case Kt.OUT_OF_RANGE:case Kt.UNIMPLEMENTED:case Kt.DATA_LOSS:return!0;default:return $t(15467,{code:e})}}(n=t.code)&&n!==Kt.ABORTED){const n=e.Ta.shift();Jo(e).B_(),await Vo(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Uo(e)}var n}(e,t),$o(e)&&Ho(e)}async function Yo(e,t){const n=Gt(e);n.asyncQueue.verifyOperationInProgress(),Vt(ko,"RemoteStore received new credentials");const r=Po(n);n.Ea.add(3),await Co(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await No(n)}function Xo(e){return e.ma||(e.ma=function(e,t,n){const r=Gt(e);return r.sa(),new vo(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:Ro.bind(null,e),t_:Oo.bind(null,e),r_:Mo.bind(null,e),H_:Fo.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),Do(e)?Ao(e):e.Ra.set("Unknown")):(await e.ma.stop(),Lo(e))})),e.ma}function Jo(e){return e.fa||(e.fa=function(e,t,n){const r=Gt(e);return r.sa(),new bo(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:Qo.bind(null,e),r_:Wo.bind(null,e),ta:Go.bind(null,e),na:Ko.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await Uo(e)):(await e.fa.stop(),e.Ta.length>0&&(Vt(ko,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Zo{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Yt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new Zo(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Wt(Kt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function el(e,t){if(Ut("AsyncQueue",`${t}: ${e}`),Fn(e))return new Wt(Kt.UNAVAILABLE,`${t}: ${e}`);throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{static emptySet(e){return new tl(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||bn.comparator(t.key,n.key):(e,t)=>bn.comparator(e.key,t.key),this.keyedMap=ji(),this.sortedSet=new Gn(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof tl))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new tl;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(){this.ga=new Gn(bn.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):$t(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class rl{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new rl(e,t,tl.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bi(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class sl{constructor(){this.queries=al(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=Gt(e),r=n.queries;n.queries=al(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new Wt(Kt.ABORTED,"Firestore shutting down"))}}function al(){return new Ni(e=>wi(e),bi)}async function ol(e,t){const n=Gt(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.ba()&&t.Da()&&(r=2):(s=new il,r=t.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const e=el(a,`Initialization of query '${xi(t.query)}' failed`);return void t.onError(e)}n.queries.set(i,s),s.Sa.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&hl(n)}async function ll(e,t){const n=Gt(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.Sa.indexOf(t);e>=0&&(s.Sa.splice(e,1),0===s.Sa.length?i=t.Da()?0:1:!s.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function cl(e,t){const n=Gt(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(i)&&(r=!0);t.wa=i}}r&&hl(n)}function ul(e,t,n){const r=Gt(e),i=r.queries.get(t);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(t)}function hl(e){e.Ca.forEach(e=>{e.next()})}var dl,fl;(fl=dl||(dl={})).Ma="default",fl.Cache="cache";class pl{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new rl(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dl.Cache}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this.key=e}}class gl{constructor(e){this.key=e}}class yl{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Oi(),this.mutatedKeys=Oi(),this.eu=ki(e),this.tu=new tl(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new nl,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Si(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.eu(u,o)>0||l&&this.eu(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:s,iu:n,Cs:a,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $t(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=r??!1;const a=t&&!r?this._u():[],o=0===this.Xa.size&&this.current&&!r?1:0,l=o!==this.Za;return this.Za=o,0!==s.length||l?{snapshot:new rl(this.query,e.tu,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new nl,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Oi(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new gl(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new ml(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=Oi();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return rl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const vl="SyncEngine";class bl{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class wl{constructor(e){this.key=e,this.hu=!1}}class xl{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Ni(e=>wi(e),bi),this.Iu=new Map,this.Eu=new Set,this.du=new Gn(bn.comparator),this.Au=new Map,this.Ru=new Da,this.Vu={},this.mu=new Map,this.fu=wa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function Sl(e,t,n=!0){const r=ql(e);let i;const s=r.Tu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await El(r,t,n,!0),i}async function kl(e,t){const n=ql(e);await El(n,t,!0,!1)}async function El(e,t,n,r){const i=await function(e,t){const n=Gt(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(i=>i?(r=i,Mn.resolve(r)):n.Pi.allocateTargetId(e).next(i=>(r=new da(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}(e.localStore,gi(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await async function(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await Ja(e.localStore,t.query,!1).then(({documents:e})=>t.view.ru(e,i)));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return Ml(e,t.targetId,o.au),o.snapshot}(e,t,n,r);const s=await Ja(e.localStore,t,!0),a=new yl(t,s.Qs),o=a.ru(s.documents),l=Ts.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);Ml(e,n,c.au);const u=new bl(t,n,a);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&_o(e.remoteStore,i),o}async function Nl(e,t,n){const r=Gt(e),i=r.Tu.get(t),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(e=>!bi(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Xa(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&To(r.remoteStore,i.targetId),Rl(r,i.targetId)}).catch(On)):(Rl(r,i.targetId),await Xa(r.localStore,i.targetId,!0))}async function Cl(e,t){const n=Gt(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),To(n.remoteStore,r.targetId))}async function _l(e,t,n){const r=function(e){const t=Gt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Al.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Dl.bind(null,t),t}(e);try{const e=await function(e,t){const n=Gt(e),r=In.now(),i=t.reduce((e,t)=>e.add(t.key),Oi());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=_i(),l=Oi();return n.Ns.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{s=i;const a=[];for(const e of t){const t=as(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new cs(e.key,t,Mr(t.value.mapValue),es.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:Ii(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new Gn(ln)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await Vl(r,e.changes),await Uo(r.remoteStore)}catch(i){const e=el(i,"Failed to persist write");n.reject(e)}}async function Tl(e,t){const n=Gt(e);try{const e=await Wa(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(Qt(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?Qt(r.hu,14607):e.removedDocuments.size>0&&(Qt(r.hu,42227),r.hu=!1))}),await Vl(n,e,t)}catch(r){await On(r)}}function jl(e,t,n){const r=Gt(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Gt(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&hl(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Il(e,t,n){const r=Gt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),s=i&&i.key;if(s){let e=new Gn(bn.comparator);e=e.insert(s,Fr.newNoDocument(s,An.min()));const n=Oi().add(s),i=new _s(An.min(),new Map,new Gn(ln),e,n);await Tl(r,i),r.du=r.du.remove(s),r.Au.delete(t),zl(r)}else await Xa(r.localStore,t,!1).then(()=>Rl(r,t,n)).catch(On)}async function Al(e,t){const n=Gt(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Gt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=Mn.resolve();return s.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);Qt(null!==s,48541),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Oi();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Ll(n,r,null),Pl(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vl(n,e)}catch(i){await On(i)}}async function Dl(e,t,n){const r=Gt(e);try{const e=await function(e,t){const n=Gt(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Qt(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Ll(r,t,n),Pl(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Vl(r,e)}catch(i){await On(i)}}function Pl(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function Ll(e,t,n){const r=Gt(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function Rl(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||Ol(e,t)})}function Ol(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(To(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),zl(e))}function Ml(e,t,n){for(const r of n)r instanceof ml?(e.Ru.addReference(r.key,t),Fl(e,r)):r instanceof gl?(Vt(vl,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||Ol(e,r.key)):$t(19791,{wu:r})}function Fl(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(Vt(vl,"New document in limbo: "+n),e.Eu.add(r),zl(e))}function zl(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new bn(gn.fromString(t)),r=e.fu.next();e.Au.set(r,new wl(n)),e.du=e.du.insert(n,r),_o(e.remoteStore,new da(gi(di(n.path)),r,"TargetPurposeLimboResolution",zn.ce))}}async function Vl(e,t,n){const r=Gt(e),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((e,o)=>{a.push(r.pu(o,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){const t=e?!e.fromCache:n?.targetChanges.get(o.targetId)?.current;r.sharedClientState.updateQueryState(o.targetId,t?"current":"not-current")}if(e){i.push(e);const t=Ba.As(o.targetId,e);s.push(t)}}))}),await Promise.all(a),r.Pu.H_(i),await async function(e,t){const n=Gt(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Mn.forEach(t,t=>Mn.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Mn.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(r){if(!Fn(r))throw r;Vt(Ha,"Failed to update sequence numbers: "+r)}for(const i of t){const e=i.targetId;if(!i.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,s))}async function Ul(e,t){const n=Gt(e);if(!n.currentUser.isEqual(t)){Vt(vl,"User change. New user:",t.toKey());const e=await Ga(n.localStore,t);n.currentUser=t,i="'waitForPendingWrites' promise is rejected due to a user change.",(r=n).mu.forEach(e=>{e.forEach(e=>{e.reject(new Wt(Kt.CANCELLED,i))})}),r.mu.clear(),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Vl(n,e.Ls)}var r,i}function Bl(e,t){const n=Gt(e),r=n.Au.get(t);if(r&&r.hu)return Oi().add(r.key);{let e=Oi();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function ql(e){const t=Gt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Tl.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bl.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Il.bind(null,t),t.Pu.H_=cl.bind(null,t.eventManager),t.Pu.yu=ul.bind(null,t.eventManager),t}class $l{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=po(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return function(e,t,n,r){return new Qa(e,t,n,r)}(this.persistence,new $a,e.initialUser,this.serializer)}Cu(e){return new Fa(Va.mi,this.serializer)}Du(e){return new eo}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$l.provider={build:()=>new $l};class Hl extends $l{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Qt(this.persistence.referenceDelegate instanceof Ua,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Ea(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?ba.withCacheSize(this.cacheSizeBytes):ba.DEFAULT;return new Fa(e=>Ua.mi(e,t),this.serializer)}}class Ql{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>jl(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ul.bind(null,this.syncEngine),await async function(e,t){const n=Gt(e);t?(n.Ea.delete(2),await No(n)):t||(n.Ea.add(2),await Co(n),n.Ra.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new sl}createDatastore(e){const t=po(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new ho(r));var r;return function(e,t,n,r){return new xo(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>jl(this.syncEngine,e,0),s=ro.v()?new ro:new to,new Eo(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new xl(e,t,n,r,i,s);return a&&(o.gu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(e){const t=Gt(e);Vt(ko,"RemoteStore shutting down."),t.Ea.add(5),await Co(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ql.provider={build:()=>new Ql};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Gl{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ut("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl="FirestoreClient";class Wl{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Ot.UNAUTHENTICATED,this.clientId=on.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{Vt(Kl,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Vt(Kl,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=el(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Yl(e,t){e.asyncQueue.verifyOperationInProgress(),Vt(Kl,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Ga(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Xl(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Vt(Kl,"Using user provided OfflineComponentProvider");try{await Yl(e,e._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!("FirebaseError"===(n=i).name?n.code===Kt.FAILED_PRECONDITION||n.code===Kt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code))throw i;Bt("Error using user provided cache. Falling back to memory cache: "+i),await Yl(e,new $l)}}else Vt(Kl,"Using default OfflineComponentProvider"),await Yl(e,new Hl(void 0));var n;return e._offlineComponents}(e);Vt(Kl,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Yo(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Yo(t.remoteStore,n)),e._onlineComponents=t}async function Jl(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Vt(Kl,"Using user provided OnlineComponentProvider"),await Xl(e,e._uninitializedComponentsProvider._online)):(Vt(Kl,"Using default OnlineComponentProvider"),await Xl(e,new Ql))),e._onlineComponents}async function Zl(e){const t=await Jl(e),n=t.eventManager;return n.onListen=Sl.bind(null,t.syncEngine),n.onUnlisten=Nl.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=kl.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Cl.bind(null,t.syncEngine),n}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ec(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const tc=new Map,nc="firestore.googleapis.com",rc=!0;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){if(void 0===e.host){if(void 0!==e.ssl)throw new Wt(Kt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nc,this.ssl=rc}else this.host=e.host,this.ssl=e.ssl??rc;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=va;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Wt(Kt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Wt(Kt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ec(e.experimentalLongPollingOptions??{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Wt(Kt.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Wt(Kt.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Wt(Kt.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class sc{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ic({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Wt(Kt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Wt(Kt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ic(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Jt;switch(e.type){case"firstParty":return new nn(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Wt(Kt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=tc.get(e);t&&(Vt("ComponentProvider","Removing Datastore"),tc.delete(e),t.terminate())}(this),Promise.resolve()}}function ac(e,t,n,r={}){e=Nn(e,sc);const i=U(t),s=e._getSettings(),a={...s,emulatorOptions:e._getEmulatorOptions()},o=`${t}:${n}`;i&&(async function(e){(await fetch(e,{credentials:"include"})).ok}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(`https://${o}`),$("Firestore",!0)),s.host!==nc&&s.host!==o&&Bt("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:o,ssl:i,emulatorOptions:r};if(!W(l,a)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Ot.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...e};return[L(JSON.stringify({alg:"none",type:"JWT"})),L(JSON.stringify(s)),""].join(".")}(r.mockUserToken,e._app?.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new Wt(Kt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Ot(i)}e._authCredentials=new Zt(new Xt(t,n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new oc(this.firestore,e,this._query)}}class lc{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lc(this.firestore,e,this._key)}toJSON(){return{type:lc._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(_n(t,lc._jsonSchema))return new lc(e,n||null,new bn(gn.fromString(t.referencePath)))}}lc._jsonSchemaVersion="firestore/documentReference/1.0",lc._jsonSchema={type:Cn("string",lc._jsonSchemaVersion),referencePath:Cn("string")};class cc extends oc{constructor(e,t,n){super(e,t,di(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lc(this.firestore,null,new bn(e))}withConverter(e){return new cc(this.firestore,e,this._path)}}function uc(e,t,...n){if(e=X(e),wn("collection","path",t),e instanceof sc){const r=gn.fromString(t,...n);return Sn(r),new cc(e,null,r)}{if(!(e instanceof lc||e instanceof cc))throw new Wt(Kt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(gn.fromString(t,...n));return Sn(r),new cc(e.firestore,null,r)}}function hc(e,t,...n){if(e=X(e),1===arguments.length&&(t=on.newId()),wn("doc","path",t),e instanceof sc){const r=gn.fromString(t,...n);return xn(r),new lc(e,null,new bn(r))}{if(!(e instanceof lc||e instanceof cc))throw new Wt(Kt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(gn.fromString(t,...n));return xn(r),new lc(e.firestore,e instanceof cc?e.converter:null,new bn(r))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc="AsyncQueue";class fc{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mo(this,"async_queue_retry"),this._c=()=>{const e=fo();e&&Vt(dc,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=fo();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=fo();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Yt;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Fn(e))throw e;Vt(dc,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,Ut("INTERNAL UNHANDLED ERROR: ",pc(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=Zo.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&$t(47125,{Pc:pc(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function pc(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class mc extends sc{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new fc,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fc(e),this._firestoreClient=void 0,await e}}}function gc(e){if(e._terminated)throw new Wt(Kt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||function(e){const t=e._freezeSettings(),n=(r=e._databaseId,i=e._app?.options.appId||"",s=e._persistenceKey,a=t,new dr(r,i,s,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,ec(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator));var r,i,s,a;e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new Wl(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(e){const t=e?._online.build();return{_offline:e?._offline.build(t),_online:t}}(e._componentsProvider))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e),e._firestoreClient}class yc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yc(er.fromBase64String(e))}catch(t){throw new Wt(Kt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new yc(er.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:yc._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_n(e,yc._jsonSchema))return yc.fromBase64String(e.bytes)}}yc._jsonSchemaVersion="firestore/bytes/1.0",yc._jsonSchema={type:Cn("string",yc._jsonSchemaVersion),bytes:Cn("string")};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class vc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Wt(Kt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e){this._methodName=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Wt(Kt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Wt(Kt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ln(this._lat,e._lat)||ln(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wc._jsonSchemaVersion}}static fromJSON(e){if(_n(e,wc._jsonSchema))return new wc(e.latitude,e.longitude)}}wc._jsonSchemaVersion="firestore/geoPoint/1.0",wc._jsonSchema={type:Cn("string",wc._jsonSchemaVersion),latitude:Cn("number"),longitude:Cn("number")};
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class xc{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:xc._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_n(e,xc._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new xc(e.vectorValues);throw new Wt(Kt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xc._jsonSchemaVersion="firestore/vectorValue/1.0",xc._jsonSchema={type:Cn("string",xc._jsonSchemaVersion),vectorValues:Cn("object")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Sc=/^__.*__$/;class kc{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new cs(e,this.data,this.fieldMask,t,this.fieldTransforms):new ls(e,this.data,t,this.fieldTransforms)}}class Ec{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new cs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Nc(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $t(40011,{Ac:e})}}class Cc{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Cc({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Fc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(Nc(this.Ac)&&Sc.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _c{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||po(e)}Cc(e,t,n,r=!1){return new Cc({Ac:e,methodName:t,Dc:n,path:vn.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tc(e){const t=e._freezeSettings(),n=po(e._databaseId);return new _c(e._databaseId,!!t.ignoreUndefinedProperties,n)}function jc(e,t,n,r,i,s={}){const a=e.Cc(s.merge||s.mergeFields?2:0,t,n,i);Lc("Data must be an object, but it was:",a,r);const o=Dc(r,a);let l,c;if(s.merge)l=new Jn(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Rc(t,r,n);if(!a.contains(i))throw new Wt(Kt.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);zc(e,i)||e.push(i)}l=new Jn(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new kc(new Or(o),l,c)}class Ic extends bc{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ic}}function Ac(e,t){if(Pc(e=X(e)))return Lc("Unsupported field value:",t,e),Dc(e,t);if(e instanceof bc)return function(e,t){if(!Nc(t.Ac))throw t.Sc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Sc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Ac(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=X(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Vi(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=In.fromDate(e);return{timestampValue:Us(t.serializer,n)}}if(e instanceof In){const n=new In(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Us(t.serializer,n)}}if(e instanceof wc)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof yc)return{bytesValue:Bs(t.serializer,e._byteString)};if(e instanceof lc){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Hs(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof xc)return n=e,r=t,{mapValue:{fields:{[mr]:{stringValue:vr},[br]:{arrayValue:{values:n.toArray().map(e=>{if("number"!=typeof e)throw r.Sc("VectorValues must only contain numeric values.");return Fi(r.serializer,e)})}}}}};var n,r;throw t.Sc(`Unsupported field value: ${En(e)}`)}(e,t)}function Dc(e,t){const n={};return Qn(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Hn(e,(e,r)=>{const i=Ac(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Pc(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof In||e instanceof wc||e instanceof yc||e instanceof lc||e instanceof bc||e instanceof xc)}function Lc(e,t,n){if(!Pc(n)||!kn(n)){const r=En(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function Rc(e,t,n){if((t=X(t))instanceof vc)return t._internalPath;if("string"==typeof t)return Mc(e,t);throw Fc("Field path arguments must be of type string or ",e,!1,void 0,n)}const Oc=new RegExp("[~\\*/\\[\\]]");function Mc(e,t,n){if(t.search(Oc)>=0)throw Fc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new vc(...t.split("."))._internalPath}catch(r){throw Fc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Fc(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new Wt(Kt.INVALID_ARGUMENT,o+e+l)}function zc(e,t){return e.some(e=>e.isEqual(t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new lc(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Uc(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Bc("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Uc extends Vc{data(){return super.data()}}function Bc(e,t){return"string"==typeof t?Mc(e,t):t instanceof vc?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{}class $c extends qc{}class Hc extends $c{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Hc(e,t,n)}_apply(e){const t=this._parse(e);return Wc(e._query,t),new oc(e.firestore,e.converter,yi(e._query,t))}_parse(e){const t=Tc(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Wt(Kt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){Kc(a,s);const t=[];for(const n of a)t.push(Gc(r,e,n));o={arrayValue:{values:t}}}else o=Gc(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Kc(a,s),o=function(e,t,n,r=!1){return Ac(n,e.Cc(r?4:3,t))}(n,t,a,"in"===s||"not-in"===s);return Hr.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class Qc extends qc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Qc(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Qr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Wc(n,i),n=yi(n,i)}(e._query,t),new oc(e.firestore,e.converter,yi(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Gc(e,t,n){if("string"==typeof(n=X(n))){if(""===n)throw new Wt(Kt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pi(t)&&-1!==n.indexOf("/"))throw new Wt(Kt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(gn.fromString(n));if(!bn.isDocumentKey(r))throw new Wt(Kt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return jr(e,new bn(r))}if(n instanceof lc)return jr(e,n._key);throw new Wt(Kt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${En(n)}.`)}function Kc(e,t){if(!Array.isArray(e)||0===e.length)throw new Wt(Kt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Wc(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Wt(Kt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Wt(Kt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Yc{convertValue(e,t="none"){switch(wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ir(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw $t(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Hn(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){const t=e.fields?.[br].arrayValue?.values?.map(e=>rr(e.doubleValue));return new xc(t)}convertGeoPoint(e){return new wc(rr(e.latitude),rr(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=ur(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(hr(e));default:return null}}convertTimestamp(e){const t=nr(e);return new In(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=gn.fromString(e);Qt(ha(n),9688,{name:e});const r=new pr(n.get(1),n.get(3)),i=new bn(n.popFirst(5));return r.isEqual(t)||Ut(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jc extends Vc{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Bc("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Wt(Kt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Jc._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}Jc._jsonSchemaVersion="firestore/documentSnapshot/1.0",Jc._jsonSchema={type:Cn("string",Jc._jsonSchemaVersion),bundleSource:Cn("string","DocumentSnapshot"),bundleName:Cn("string"),bundle:Cn("string")};class Zc extends Jc{data(e={}){return super.data(e)}}class eu{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Xc(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Zc(this._firestore,this._userDataWriter,n.key,n,new Xc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Wt(Kt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Zc(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Xc(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Zc(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Xc(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:tu(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Wt(Kt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=eu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=on.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tu(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $t(61501,{type:e})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(e){e=Nn(e,lc);const t=Nn(e.firestore,mc);return function(e,t,n={}){const r=new Yt;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Gl({next:o=>{s.Nu(),t.enqueueAndForget(()=>ll(e,a));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new Wt(Kt.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new Wt(Kt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new pl(di(n.path),s,{includeMetadataChanges:!0,qa:!0});return ol(e,a)}(await Zl(e),e.asyncQueue,t,n,r)),r.promise}(gc(t),e._key).then(n=>function(e,t,n){const r=n.docs.get(t._key),i=new ru(e);return new Jc(e,i,t._key,r,new Xc(n.hasPendingWrites,n.fromCache),t.converter)}(t,e,n))}eu._jsonSchemaVersion="firestore/querySnapshot/1.0",eu._jsonSchema={type:Cn("string",eu._jsonSchemaVersion),bundleSource:Cn("string","QuerySnapshot"),bundleName:Cn("string"),bundle:Cn("string")};class ru extends Yc{constructor(e){super(),this.firestore=e}convertBytes(e){return new yc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lc(this.firestore,null,t)}}function iu(e){e=Nn(e,oc);const t=Nn(e.firestore,mc),n=gc(t),r=new ru(t);return function(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Wt(Kt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(e._query),function(e,t,n={}){const r=new Yt;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Gl({next:n=>{s.Nu(),t.enqueueAndForget(()=>ll(e,a)),n.fromCache&&"server"===r.source?i.reject(new Wt(Kt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new pl(n,s,{includeMetadataChanges:!0,qa:!0});return ol(e,a)}(await Zl(e),e.asyncQueue,t,n,r)),r.promise}(n,e._query).then(n=>new eu(t,r,e,n))}function su(e,t,n,...r){e=Nn(e,lc);const i=Nn(e.firestore,mc),s=Tc(i);let a;return a="string"==typeof(t=X(t))||t instanceof vc?function(e,t,n,r,i,s){const a=e.Cc(1,t,n),o=[Rc(t,r,n)],l=[i];if(s.length%2!=0)throw new Wt(Kt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)o.push(Rc(t,s[d])),l.push(s[d+1]);const c=[],u=Or.empty();for(let d=o.length-1;d>=0;--d)if(!zc(c,o[d])){const e=o[d];let t=l[d];t=X(t);const n=a.yc(e);if(t instanceof Ic)c.push(e);else{const r=Ac(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new Jn(c);return new Ec(u,h,a.fieldTransforms)}(s,"updateDoc",e._key,t,n,r):function(e,t,n,r){const i=e.Cc(1,t,n);Lc("Data must be an object, but it was:",i,r);const s=[],a=Or.empty();Hn(r,(e,r)=>{const o=Mc(t,e,n);r=X(r);const l=i.yc(o);if(r instanceof Ic)s.push(o);else{const e=Ac(r,l);null!=e&&(s.push(o),a.set(o,e))}});const o=new Jn(s);return new Ec(a,o,i.fieldTransforms)}(s,"updateDoc",e._key,t),au(i,[a.toMutation(e._key,es.exists(!0))])}function au(e,t){return function(e,t){const n=new Yt;return e.asyncQueue.enqueueAndForget(async()=>_l(await function(e){return Jl(e).then(e=>e.syncEngine)}(e),t,n)),n.promise}(gc(e),t)}!function(e,t=!0){Mt="12.5.0",ot(new J("firestore",(e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),s=new mc(new en(e.getProvider("auth-internal")),new sn(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Wt(Kt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pr(e.options.projectId,t)}(i,n),i);return r={useFetchStreams:t,...r},s._setSettings(r),s},"PUBLIC").setMultipleInstances(!0)),ht(Lt,Rt,e),ht(Lt,Rt,"esm2020")}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
ht("firebase","12.5.0","app");const ou=function(e){const t="object"==typeof e?e:function(e=tt){const t=rt.get(e);if(!t&&e===tt&&z())return ut();if(!t)throw lt.create("no-app",{appName:e});return t}(),n="string"==typeof e?e:fr,r=function(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}(t,"firestore").getImmediate({identifier:n});if(!r._initialized){const e=F("firestore");e&&ac(r,...e)}return r}(ut({apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0,measurementId:void 0})),lu=uc(ou,"listings"),cu=uc(ou,"teamMembers"),uu=async()=>{try{return(await iu(lu)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){return console.error("Error fetching properties:",e),[]}},hu=async e=>{try{const t=hc(ou,"listings",e),n=await nu(t);return n.exists()?{id:n.id,...n.data()}:null}catch(t){return console.error("Error fetching property:",t),null}},du=async()=>{try{const e=function(e,t,...n){let r=[];t instanceof qc&&r.push(t),r=r.concat(n),function(e){const t=e.filter(e=>e instanceof Qc).length,n=e.filter(e=>e instanceof Hc).length;if(t>1||t>0&&n>0)throw new Wt(Kt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}(lu,function(e,t,n){const r=t,i=Bc("where",e);return Hc._create(i,r,n)}("featured","==",!0));return(await iu(e)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){return console.error("Error fetching featured properties:",e),[]}},fu=async e=>{try{return(await function(e,t){const n=Nn(e.firestore,mc),r=hc(e),i=function(e,t){let n;return n=e?e.toFirestore(t):t,n}(e.converter,t);return au(n,[jc(Tc(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,es.exists(!1))]).then(()=>r)}(lu,e)).id}catch(t){return console.error("Error adding property:",t),null}},pu=async e=>{try{const n=hc(ou,"listings",e);return await(t=n,au(Nn(t.firestore,mc),[new fs(t._key,es.none())])),!0}catch(n){return console.error("Error deleting property:",n),!1}var t},mu=()=>{const[e,t]=n.useState([]);return n.useEffect(()=>{(async()=>{const e=await(async()=>{try{return(await iu(cu)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){return console.error("Error fetching team members:",e),[]}})();t(e)})()},[]),v.jsx("section",{className:"team-section",children:v.jsxs("div",{className:"container",children:[v.jsx("h2",{className:"section-title",children:"Meet Your Agent"}),v.jsx("p",{className:"section-subtitle",children:"Your trusted real estate professional"}),v.jsx("div",{className:"team-grid",children:e.slice(0,1).map(e=>v.jsxs("div",{className:"team-card",children:[v.jsx("div",{className:"team-image",children:v.jsx("img",{src:"https://res.cloudinary.com/dtsoyzdfu/image/upload/agent_axwjx5",alt:e.name,loading:"lazy",decoding:"async"})}),v.jsx("h3",{children:e.name}),v.jsx("p",{className:"team-position",children:e.position}),v.jsxs("div",{className:"team-contact",children:[v.jsx("a",{href:`mailto:${e.email}`,children:" Email"}),v.jsx("a",{href:`tel:${e.phone}`,children:" Call"})]})]},e.id))})]})})},gu=()=>{const[e,t]=n.useState({firstName:"",lastName:"",email:"",contactNumber:"",country:"",project:"",message:""}),[r,i]=n.useState(!1),[s,a]=n.useState(""),o=n=>{t({...e,[n.target.name]:n.target.value})};return v.jsx("section",{className:"contact-form-section",children:v.jsxs("div",{className:"container",children:[v.jsx("h2",{className:"contact-form-title",children:"Connect With Us Now"}),v.jsx("p",{className:"contact-form-subtitle",children:"Fill out the form below and we'll get back to you as soon as possible"}),v.jsxs("form",{onSubmit:async n=>{if(n.preventDefault(),i(!0),a(""),!(e.firstName&&e.lastName&&e.email&&e.contactNumber))return a("Please fill in all required fields."),i(!1),void setTimeout(()=>a(""),5e3);const r=`\nNew Contact Form Submission\n\nName: ${e.firstName} ${e.lastName}\nEmail: ${e.email}\nContact Number: ${e.contactNumber}\nCountry: ${e.country||"Not specified"}\nProject Interest: ${e.project||"Not specified"}\n\nMessage:\n${e.message||"No message provided"}\n    `.trim(),s=`New Inquiry from ${e.firstName} ${e.lastName}`,o=`mailto:jelannestradaleyson@gmail.com?subject=${encodeURIComponent(s)}&body=${encodeURIComponent(r)}`;try{window.location.href=o,i(!1),a("Opening your email client... Please send the email to complete your inquiry."),setTimeout(()=>{t({firstName:"",lastName:"",email:"",contactNumber:"",country:"",project:"",message:""}),a("")},3e3)}catch(l){i(!1),a("There was an error. Please email us directly at jelannestradaleyson@gmail.com"),setTimeout(()=>a(""),5e3)}},className:"contact-form",children:[v.jsxs("div",{className:"form-row",children:[v.jsxs("div",{className:"form-group",children:[v.jsxs("label",{htmlFor:"firstName",children:["First Name ",v.jsx("span",{className:"required",children:"*"})]}),v.jsx("input",{type:"text",id:"firstName",name:"firstName",value:e.firstName,onChange:o,required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsxs("label",{htmlFor:"lastName",children:["Last Name ",v.jsx("span",{className:"required",children:"*"})]}),v.jsx("input",{type:"text",id:"lastName",name:"lastName",value:e.lastName,onChange:o,required:!0})]})]}),v.jsxs("div",{className:"form-row",children:[v.jsxs("div",{className:"form-group",children:[v.jsxs("label",{htmlFor:"email",children:["Email ",v.jsx("span",{className:"required",children:"*"})]}),v.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:o,required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsxs("label",{htmlFor:"contactNumber",children:["Contact Number ",v.jsx("span",{className:"required",children:"*"})]}),v.jsx("input",{type:"tel",id:"contactNumber",name:"contactNumber",value:e.contactNumber,onChange:o,required:!0})]})]}),v.jsxs("div",{className:"form-row",children:[v.jsxs("div",{className:"form-group",children:[v.jsxs("label",{htmlFor:"country",children:["Which country do you reside in? ",v.jsx("span",{className:"required",children:"*"})]}),v.jsxs("select",{id:"country",name:"country",value:e.country,onChange:o,required:!0,children:[v.jsx("option",{value:"",children:" Please select "}),["Philippines","United States","Canada","United Kingdom","Australia","Singapore","Japan","South Korea","China","Malaysia","Other"].map(e=>v.jsx("option",{value:e,children:e},e))]})]}),v.jsxs("div",{className:"form-group",children:[v.jsxs("label",{htmlFor:"project",children:["Which project are you interested in? ",v.jsx("span",{className:"required",children:"*"})]}),v.jsxs("select",{id:"project",name:"project",value:e.project,onChange:o,required:!0,children:[v.jsx("option",{value:"",children:" Please select "}),["Condominium","House and Lot","Rental","General Inquiry"].map(e=>v.jsx("option",{value:e,children:e},e))]})]})]}),v.jsxs("div",{className:"form-group full-width",children:[v.jsxs("label",{htmlFor:"message",children:["Message ",v.jsx("span",{className:"required",children:"*"})]}),v.jsx("textarea",{id:"message",name:"message",rows:5,value:e.message,onChange:o,required:!0})]}),s&&v.jsx("div",{className:"submit-message success",children:s}),v.jsx("button",{type:"submit",className:"submit-button",disabled:r,children:r?"Submitting...":"Submit"})]}),v.jsxs("div",{className:"social-contact-section",children:[v.jsx("p",{className:"social-contact-text",children:"Or reach us directly on:"}),v.jsxs("div",{className:"social-icons",children:[v.jsx("a",{href:"https://www.messenger.com/t/61565177813080",target:"_blank",rel:"noopener noreferrer",className:"social-icon messenger","aria-label":"Contact us on Messenger",children:v.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:v.jsx("path",{d:"M12 2C6.477 2 2 6.145 2 11.243c0 2.912 1.446 5.51 3.707 7.206V22l3.426-1.88c.914.252 1.882.387 2.867.387 5.523 0 10-4.145 10-9.243C22 6.145 17.523 2 12 2zm.993 12.535l-2.558-2.73-4.991 2.73 5.488-5.822 2.624 2.73 4.924-2.73-5.487 5.822z"})})}),v.jsx("a",{href:"https://wa.me/639277297317",target:"_blank",rel:"noopener noreferrer",className:"social-icon whatsapp","aria-label":"Contact us on WhatsApp",children:v.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:v.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})}),v.jsx("a",{href:"https://www.facebook.com/share/1E5HWhkGqe/?mibextid=wwXIfr",target:"_blank",rel:"noopener noreferrer",className:"social-icon facebook","aria-label":"Follow us on Facebook",children:v.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:v.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})})]})]})]})})},yu=()=>{const[e,t]=n.useState([]),[i,s]=n.useState(!0);n.useEffect(()=>{(async()=>{const e=await du();t(e),s(!1)})()},[]);return n.useEffect(()=>{const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("fade-in-visible")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"}),t=document.querySelectorAll(".fade-in-section");return t.forEach(t=>e.observe(t)),()=>{t.forEach(t=>e.unobserve(t))}},[]),v.jsxs("div",{className:"home",children:[v.jsxs("section",{className:"hero",children:[v.jsx("div",{className:"hero-overlay"}),v.jsxs("div",{className:"hero-content",children:[v.jsx("h1",{className:"hero-title",children:"Explore Top Listings"}),v.jsx("p",{className:"hero-subtitle",children:"Find Your Dream Home with cebuhomesbyjelann.com"}),v.jsx("p",{className:"hero-description",children:"Here at cebuhomesbyjelann.com, finding your ideal property is simple. Discover a wide range of residential real estate options tailored to your lifestyle and budget."}),v.jsx("button",{className:"hero-chat-btn",onClick:()=>{window.open("https://www.messenger.com/t/61565177813080","_blank")},children:"Let's Chat"})]})]}),v.jsx("section",{className:"search-section fade-in-section",children:v.jsxs("div",{className:"container",children:[v.jsx("h2",{className:"section-title",children:"Search Your Ideal Property"}),v.jsx(T,{})]})}),v.jsx("section",{className:"smart-picks-section fade-in-section",children:v.jsxs("div",{className:"container",children:[v.jsx("h2",{className:"smart-picks-title",children:"Smart Picks"}),v.jsxs("div",{className:"featured-category",children:[v.jsxs("div",{className:"category-header",children:[v.jsx("h3",{className:"category-title",children:"Featured Properties: Condominium"}),v.jsx(r,{to:"/properties?type=Condominium",className:"view-all-link",children:"View All "})]}),v.jsx("p",{className:"category-description",children:"Handpicked for its location, value, and potential. A great find for homebuyers or investorslimited units available."}),v.jsx("div",{className:"properties-grid",children:i?v.jsx("p",{children:"Loading properties..."}):e.filter(e=>"Condominium"===e.type&&e.featured).slice(0,3).map(e=>v.jsx(j,{property:e},e.id))})]}),v.jsxs("div",{className:"featured-category",children:[v.jsxs("div",{className:"category-header",children:[v.jsx("h3",{className:"category-title",children:"Featured Homes: House and Lot"}),v.jsx(r,{to:"/properties?type=House and Lot",className:"view-all-link",children:"View All "})]}),v.jsx("p",{className:"category-description",children:"Discover homes designed for the comfort and happiness your family deserves. Each property offers space to grow, privacy to enjoy, and a peaceful community to call your own. Built with lasting value and thoughtful design, these homes provide the perfect place to create memories that last a lifetime."}),v.jsx("div",{className:"properties-grid",children:i?v.jsx("p",{children:"Loading properties..."}):e.filter(e=>"House and Lot"===e.type&&e.featured).slice(0,3).map(e=>v.jsx(j,{property:e},e.id))})]}),v.jsxs("div",{className:"featured-category",children:[v.jsxs("div",{className:"category-header",children:[v.jsx("h3",{className:"category-title",children:"Featured: Rentals"}),v.jsx(r,{to:"/properties?type=Rental",className:"view-all-link",children:"View All "})]}),v.jsx("p",{className:"category-description",children:"Explore a range of rental properties designed to fit your lifestyle and business needs. From modern condominiums and spacious house and lots to prime office spaces and secure warehouses, we offer options that combine convenience, value, and flexibility. Find the perfect space  whether for living, working, or growing your investment."}),v.jsx("div",{className:"properties-grid",children:i?v.jsx("p",{children:"Loading properties..."}):e.filter(e=>"Rental"===e.type&&e.featured).slice(0,3).map(e=>v.jsx(j,{property:e},e.id))})]})]})}),v.jsx("section",{className:"recent-section fade-in-section",children:v.jsxs("div",{className:"container",children:[v.jsx("h2",{className:"section-title",children:"Recent Listings"}),v.jsx("div",{className:"properties-grid",children:e.slice(0,6).map(e=>v.jsx(j,{property:e},e.id))})]})}),v.jsx("section",{className:"services-section fade-in-section",children:v.jsxs("div",{className:"container",children:[v.jsx("h2",{className:"section-title",children:"Our Services"}),v.jsxs("div",{className:"services-grid",children:[v.jsxs("div",{className:"service-card",children:[v.jsx("div",{className:"service-icon",children:""}),v.jsx("h3",{children:"Property Sales & Investment"}),v.jsx("p",{children:"Assisting clients in buying pre-selling and ready-for-occupancy projects from top developers."})]}),v.jsxs("div",{className:"service-card",children:[v.jsx("div",{className:"service-icon",children:""}),v.jsx("h3",{children:"Pre-Selling Opportunities"}),v.jsx("p",{children:"Get early access to new developments at exclusive introductory prices."})]}),v.jsxs("div",{className:"service-card",children:[v.jsx("div",{className:"service-icon",children:""}),v.jsx("h3",{children:"Home Buying Guidance"}),v.jsx("p",{children:"Step-by-step support in finding the right property for your lifestyle and budget."})]}),v.jsxs("div",{className:"service-card",children:[v.jsx("div",{className:"service-icon",children:""}),v.jsx("h3",{children:"Bank Loan Assistance"}),v.jsx("p",{children:"We connect you with trusted banks and simplify your financing process."})]}),v.jsxs("div",{className:"service-card",children:[v.jsx("div",{className:"service-icon",children:""}),v.jsx("h3",{children:"Property Leasing & Management"}),v.jsx("p",{children:"From finding tenants to managing rentals, we make property ownership effortless."})]}),v.jsxs("div",{className:"service-card",children:[v.jsx("div",{className:"service-icon",children:""}),v.jsx("h3",{children:"Documentation & Titling"}),v.jsx("p",{children:"Complete assistance with property documentation, title processing, and legal requirements."})]})]})]})}),v.jsx("div",{className:"fade-in-section",children:v.jsx(mu,{})}),v.jsx("div",{className:"fade-in-section",children:v.jsx(gu,{})})]})},vu=()=>{const[e,t]=s(),[r,i]=n.useState([]),[a,o]=n.useState([]),[l,c]=n.useState(""),[u,h]=n.useState(""),[d,f]=n.useState(""),[p,m]=n.useState(!1),[g,y]=n.useState(!0);n.useEffect(()=>{(async()=>{const e=await uu();i(e),o(e),y(!1)})()},[]),n.useEffect(()=>{const t=e.get("type"),n=e.get("location"),r=e.get("search");t&&h(t),n&&f(n),r&&c(r),window.scrollTo({top:0,behavior:"smooth"})},[e]),n.useEffect(()=>{let e=r;if(l){const t=l.toLowerCase();e=e.filter(e=>e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.features.some(e=>e.toLowerCase().includes(t))||e.location.toLowerCase().includes(t))}u&&(e=e.filter(e=>e.type===u)),d&&(e=e.filter(e=>e.location===d)),o(e)},[u,d,l]);const b=n=>{h(n);const r=new URLSearchParams(e);n?r.set("type",n):r.delete("type"),t(r)},w=n=>{f(n);const r=new URLSearchParams(e);n?r.set("location",n):r.delete("location"),t(r)},x=()=>{h(""),f(""),c(""),t({})};return v.jsxs("div",{className:"properties-page",children:[v.jsxs("div",{className:"properties-header",children:[v.jsx("h1",{children:"Explore Our Properties"}),v.jsx("p",{children:"Find your perfect property from our extensive listings"}),v.jsx("div",{className:"search-container",children:v.jsxs("div",{className:"search-input-wrapper",children:[v.jsx("span",{className:"search-icon",children:""}),v.jsx("input",{type:"text",className:"search-input",placeholder:"Search by title, location, description, or features...",value:l,onChange:n=>{const r=n.target.value;c(r);const i=new URLSearchParams(e);r?i.set("search",r):i.delete("search"),t(i)}}),l&&v.jsx("button",{className:"clear-search-btn",onClick:()=>{c("");const n=new URLSearchParams(e);n.delete("search"),t(n)},"aria-label":"Clear search",children:""})]})})]}),v.jsxs("div",{className:"properties-container",children:[v.jsxs("aside",{className:"filter-sidebar "+(p?"open":""),children:[v.jsxs("div",{className:"filter-header",children:[v.jsx("h2",{children:"Filters"}),v.jsx("button",{className:"filter-close",onClick:()=>m(!1),children:""})]}),l&&v.jsxs("div",{className:"active-search",children:[v.jsxs("p",{children:["Searching for: ",v.jsx("strong",{children:l})]}),v.jsx("button",{onClick:()=>{c("");const n=new URLSearchParams(e);n.delete("search"),t(n)},children:"Clear search"})]}),v.jsxs("div",{className:"filter-section",children:[v.jsx("h3",{children:"Property Type"}),v.jsxs("div",{className:"filter-options",children:[v.jsx("button",{className:"filter-option "+(""===u?"active":""),onClick:()=>b(""),children:"All Types"}),["Condominium","House and Lot","Rental"].map(e=>v.jsx("button",{className:"filter-option "+(u===e?"active":""),onClick:()=>b(e),children:e},e))]})]}),v.jsxs("div",{className:"filter-section",children:[v.jsx("h3",{children:"Location"}),v.jsxs("div",{className:"filter-options",children:[v.jsx("button",{className:"filter-option "+(""===d?"active":""),onClick:()=>w(""),children:"All Locations"}),["Cebu","Bohol","Palawan","Davao"].map(e=>v.jsx("button",{className:"filter-option "+(d===e?"active":""),onClick:()=>w(e),children:e},e))]})]}),v.jsx("button",{className:"clear-filters",onClick:x,children:"Clear All Filters"})]}),v.jsxs("main",{className:"properties-main",children:[v.jsxs("div",{className:"properties-toolbar",children:[v.jsx("button",{className:"filter-toggle",onClick:()=>m(!p),children:" Filter"}),v.jsxs("p",{className:"results-count",children:[a.length," ",1===a.length?"property":"properties"," found"]})]}),g?v.jsx("div",{className:"loading-message",children:v.jsx("p",{children:"Loading properties..."})}):a.length>0?v.jsx("div",{className:"properties-grid",children:a.map(e=>v.jsx(j,{property:e},e.id))}):v.jsxs("div",{className:"no-results",children:[v.jsx("h3",{children:"No properties found"}),v.jsx("p",{children:"Try adjusting your filters to see more results"}),v.jsx("button",{onClick:x,className:"reset-button",children:"Reset Filters"})]})]})]})]})},bu=()=>{const{id:e}=a(),t=i(),[r,s]=n.useState(null),[o,l]=n.useState(0),[c,u]=n.useState(!0),[h,d]=n.useState(!1);if(n.useEffect(()=>{(async()=>{if(e){const t=await hu(e);s(t),u(!1)}})()},[e]),!r)return v.jsxs("div",{className:"property-not-found",children:[v.jsx("h2",{children:"Property not found"}),v.jsx("button",{onClick:()=>t("/properties"),children:"Back to Properties"})]});return v.jsxs("div",{className:"property-detail",children:[h&&v.jsx("div",{className:"copy-toast",children:" Link copied to clipboard!"}),v.jsx("button",{className:"back-button",onClick:()=>t("/properties"),children:" Back to Properties"}),v.jsxs("div",{className:"image-gallery",children:[v.jsxs("div",{className:"main-image",children:[v.jsx("img",{src:r.images[o],alt:r.title,loading:"eager",decoding:"async"}),r.images.length>1&&v.jsxs(v.Fragment,{children:[v.jsx("button",{className:"gallery-btn prev",onClick:()=>{l(e=>0===e?r.images.length-1:e-1)},children:""}),v.jsx("button",{className:"gallery-btn next",onClick:()=>{l(e=>e===r.images.length-1?0:e+1)},children:""}),v.jsxs("div",{className:"image-counter",children:[o+1," / ",r.images.length]})]})]}),r.images.length>1&&v.jsx("div",{className:"thumbnail-gallery",children:r.images.map((e,t)=>v.jsx("img",{src:e,alt:`View ${t+1}`,className:t===o?"active":"",onClick:()=>l(t),loading:"lazy",decoding:"async"},t))})]}),v.jsxs("div",{className:"property-info-container",children:[v.jsxs("div",{className:"property-main-info",children:[v.jsxs("div",{className:"property-header",children:[v.jsxs("div",{children:[v.jsx("span",{className:"property-type-tag",children:r.type}),v.jsx("h1",{children:r.title}),v.jsxs("p",{className:"location",children:[" ",r.location,", Philippines"]})]}),v.jsx("div",{className:"price-tag",children:(f=r.price,new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0}).format(f))})]}),v.jsxs("div",{className:"property-specs",children:[v.jsxs("div",{className:"spec",children:[v.jsx("span",{className:"spec-icon",children:""}),v.jsxs("div",{children:[v.jsx("span",{className:"spec-value",children:r.area}),v.jsx("span",{className:"spec-label",children:"sqm"})]})]}),r.bedrooms&&v.jsxs("div",{className:"spec",children:[v.jsx("span",{className:"spec-icon",children:""}),v.jsxs("div",{children:[v.jsx("span",{className:"spec-value",children:r.bedrooms}),v.jsx("span",{className:"spec-label",children:"Bedrooms"})]})]}),r.bathrooms&&v.jsxs("div",{className:"spec",children:[v.jsx("span",{className:"spec-icon",children:""}),v.jsxs("div",{children:[v.jsx("span",{className:"spec-value",children:r.bathrooms}),v.jsx("span",{className:"spec-label",children:"Bathrooms"})]})]})]}),v.jsxs("div",{className:"property-description",children:[v.jsx("h2",{children:"About This Property"}),v.jsx("p",{children:r.description})]}),v.jsxs("div",{className:"property-features",children:[v.jsx("h2",{children:"Features & Amenities"}),v.jsx("ul",{className:"features-list",children:r.features.map((e,t)=>v.jsxs("li",{children:[v.jsx("span",{className:"feature-icon",children:""}),e]},t))})]})]}),v.jsxs("div",{className:"contact-card",children:[v.jsx("h3",{children:"Interested in this property?"}),v.jsx("p",{children:"Contact us for more information or to schedule a viewing"}),v.jsx("button",{className:"inquiry-button",onClick:()=>{window.open("https://www.messenger.com/t/61565177813080","_blank")},children:" Send Inquiry"}),v.jsxs("div",{className:"contact-info",children:[v.jsxs("div",{className:"contact-item",children:[v.jsx("span",{children:""}),v.jsx("a",{href:"mailto:jelannestradaleyson@gmail.com",children:"jelannestradaleyson@gmail.com"})]}),v.jsxs("div",{className:"contact-item",children:[v.jsx("span",{children:""}),v.jsx("a",{href:"tel:+639277297317",children:"+63 927 729 7317"})]})]}),v.jsxs("div",{className:"share-section",children:[v.jsx("h4",{children:"Share this property"}),v.jsxs("div",{className:"share-buttons",children:[v.jsx("button",{onClick:()=>{const e=window.location.href;window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(e)}`,"_blank")},"aria-label":"Share on Facebook",title:"Share on Facebook",children:" Facebook"}),v.jsx("button",{onClick:()=>{navigator.clipboard.writeText(window.location.href).then(()=>{d(!0),setTimeout(()=>d(!1),3e3)})},"aria-label":"Share on Instagram",title:"Share on Instagram",children:" Instagram"}),v.jsx("button",{onClick:()=>{navigator.clipboard.writeText(window.location.href).then(()=>{d(!0),setTimeout(()=>d(!1),3e3)})},"aria-label":"Copy Link",title:"Copy Link",children:" Copy Link"})]})]})]})]})]});var f},wu=()=>{const[e,t]=n.useState(null),[r,i]=n.useState({name:"",email:"",phone:"",position:"",resume:null,coverLetter:""});n.useEffect(()=>{const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("fade-in-visible")})},{threshold:.1,rootMargin:"0px 0px -100px 0px"});return document.querySelectorAll(".fade-in-element").forEach(t=>e.observe(t)),()=>e.disconnect()},[e]);const s=e=>{const{name:t,value:n}=e.target;i(e=>({...e,[t]:n}))};return v.jsxs("div",{className:"careers-page",children:[v.jsxs("section",{className:"careers-hero",children:[v.jsx("h1",{children:"Join Our Team"}),v.jsx("p",{children:"Build Your Career in Real Estate With Us"})]}),v.jsx("section",{className:"why-join-section fade-in-element",children:v.jsxs("div",{className:"container",children:[v.jsx("h2",{children:"Why Work With Us?"}),v.jsxs("div",{className:"benefits-grid",children:[v.jsxs("div",{className:"benefit-card fade-in-element",style:{transitionDelay:"0.1s"},children:[v.jsx("div",{className:"benefit-icon",children:""}),v.jsx("h3",{children:"Career Growth"}),v.jsx("p",{children:"Opportunities for advancement and professional development"})]}),v.jsxs("div",{className:"benefit-card fade-in-element",style:{transitionDelay:"0.2s"},children:[v.jsx("div",{className:"benefit-icon",children:""}),v.jsx("h3",{children:"Competitive Pay"}),v.jsx("p",{children:"Attractive salary packages and commission structure"})]}),v.jsxs("div",{className:"benefit-card fade-in-element",style:{transitionDelay:"0.3s"},children:[v.jsx("div",{className:"benefit-icon",children:""}),v.jsx("h3",{children:"Benefits"}),v.jsx("p",{children:"Health insurance, paid leaves, and other perks"})]}),v.jsxs("div",{className:"benefit-card fade-in-element",style:{transitionDelay:"0.4s"},children:[v.jsx("div",{className:"benefit-icon",children:""}),v.jsx("h3",{children:"Great Culture"}),v.jsx("p",{children:"Work with a supportive and dynamic team"})]})]})]})}),v.jsx("section",{className:"positions-section fade-in-element",children:v.jsxs("div",{className:"container",children:[v.jsx("h2",{children:"Open Positions"}),v.jsx("div",{className:"positions-grid",children:[{id:"1",title:"Real Estate Agent",department:"Sales",location:"Cebu",type:"Full-time",description:"We are looking for motivated real estate agents to join our growing team. You will be responsible for helping clients buy, sell, and rent properties.",requirements:["Licensed Real Estate Broker or Salesperson","Excellent communication and negotiation skills","Self-motivated and goal-oriented","Knowledge of local real estate market","Valid driver's license preferred"],responsibilities:["Generate and follow up on leads","Show properties to prospective buyers/renters","Negotiate deals and close sales","Maintain client relationships","Stay updated on market trends"]},{id:"2",title:"Property Manager",department:"Operations",location:"Bohol",type:"Full-time",description:"Seeking an experienced property manager to oversee our portfolio of properties and ensure tenant satisfaction.",requirements:["2+ years experience in property management","Strong organizational skills","Knowledge of property maintenance","Customer service oriented","Proficient in property management software"],responsibilities:["Oversee property maintenance and repairs","Handle tenant inquiries and concerns","Coordinate with contractors and vendors","Conduct property inspections","Manage lease agreements"]},{id:"3",title:"Marketing Specialist",department:"Marketing",location:"Palawan",type:"Full-time",description:"Join our marketing team to create compelling campaigns that showcase our properties and attract potential clients.",requirements:["Degree in Marketing or related field","Experience with digital marketing","Proficiency in social media platforms","Creative and detail-oriented","Photography/videography skills a plus"],responsibilities:["Develop marketing strategies","Create property listings and advertisements","Manage social media accounts","Coordinate photo/video shoots","Analyze marketing performance"]}].map((e,n)=>v.jsxs("div",{className:"job-card fade-in-element",style:{transitionDelay:.1+.1*n+"s"},children:[v.jsxs("div",{className:"job-header",children:[v.jsx("h3",{children:e.title}),v.jsx("span",{className:"job-type",children:e.type})]}),v.jsxs("div",{className:"job-meta",children:[v.jsxs("span",{className:"job-department",children:[" ",e.department]}),v.jsxs("span",{className:"job-location",children:[" ",e.location]})]}),v.jsx("p",{className:"job-description",children:e.description}),v.jsx("button",{className:"view-details-btn",onClick:()=>t(e),children:"View Details & Apply"})]},e.id))})]})}),e&&v.jsx("div",{className:"modal-overlay",onClick:()=>t(null),children:v.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[v.jsx("button",{className:"modal-close",onClick:()=>t(null),children:""}),v.jsxs("div",{className:"job-detail",children:[v.jsx("h2",{children:e.title}),v.jsxs("div",{className:"job-detail-meta",children:[v.jsx("span",{className:"badge",children:e.type}),v.jsx("span",{className:"badge",children:e.department}),v.jsx("span",{className:"badge",children:e.location})]}),v.jsxs("div",{className:"job-detail-section",children:[v.jsx("h3",{children:"Job Description"}),v.jsx("p",{children:e.description})]}),v.jsxs("div",{className:"job-detail-section",children:[v.jsx("h3",{children:"Requirements"}),v.jsx("ul",{children:e.requirements.map((e,t)=>v.jsx("li",{children:e},t))})]}),v.jsxs("div",{className:"job-detail-section",children:[v.jsx("h3",{children:"Responsibilities"}),v.jsx("ul",{children:e.responsibilities.map((e,t)=>v.jsx("li",{children:e},t))})]}),v.jsxs("div",{className:"application-form-section",children:[v.jsx("h3",{children:"Apply Now"}),v.jsxs("form",{onSubmit:e=>{e.preventDefault(),alert(`Thank you for your application, ${r.name}! We will review your application and get back to you soon.`),i({name:"",email:"",phone:"",position:"",resume:null,coverLetter:""}),t(null)},className:"application-form",children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"name",children:"Full Name *"}),v.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:s,required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"email",children:"Email *"}),v.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:s,required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"phone",children:"Phone Number *"}),v.jsx("input",{type:"tel",id:"phone",name:"phone",value:r.phone,onChange:s,required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"position",children:"Position Applied For *"}),v.jsx("input",{type:"text",id:"position",name:"position",value:e.title,readOnly:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"resume",children:"Resume (PDF) *"}),v.jsx("input",{type:"file",id:"resume",name:"resume",accept:".pdf,.doc,.docx",onChange:e=>{e.target.files&&e.target.files[0]&&i(t=>({...t,resume:e.target.files[0]}))},required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"coverLetter",children:"Cover Letter"}),v.jsx("textarea",{id:"coverLetter",name:"coverLetter",rows:5,value:r.coverLetter,onChange:s,placeholder:"Tell us why you'd be a great fit..."})]}),v.jsx("button",{type:"submit",className:"submit-application-btn",children:"Submit Application"})]})]})]})]})}),v.jsx("section",{className:"general-application-section fade-in-element",children:v.jsxs("div",{className:"container",children:[v.jsx("h2",{children:"Don't See Your Position?"}),v.jsx("p",{children:"We're always looking for talented individuals. Send us your resume and we'll keep you in mind for future opportunities."}),v.jsx("button",{className:"general-apply-btn",onClick:()=>{t({id:"general",title:"General Application",department:"Various",location:"Multiple Locations",type:"Full-time",description:"Submit a general application to be considered for future openings.",requirements:[],responsibilities:[]})},children:"Submit General Application"})]})})]})},xu=()=>{const e=i(),[t,r]=n.useState(!1),[s,a]=n.useState(""),[o,l]=n.useState(""),[c,u]=n.useState(""),[h,d]=n.useState(0),[f,p]=n.useState(!1),[m,g]=n.useState([]),[y,b]=n.useState(!0),[w,x]=n.useState(null),[S,k]=n.useState(!1),[E,N]=n.useState(""),[C,_]=n.useState("all"),[T,j]=n.useState("all");n.useEffect(()=>{(()=>{const e=localStorage.getItem("adminSession");if(e)try{const{expiry:t}=JSON.parse(e);Date.now()<t?r(!0):localStorage.removeItem("adminSession")}catch(n){localStorage.removeItem("adminSession")}const t=localStorage.getItem("blockUntil");if(t){const e=parseInt(t);if(Date.now()<e){p(!0);const e=localStorage.getItem("loginAttempts");d(parseInt(e||"0"))}else localStorage.removeItem("blockUntil"),localStorage.removeItem("loginAttempts"),p(!1),d(0)}else{const e=localStorage.getItem("loginAttempts");e&&d(parseInt(e))}})()},[]),n.useEffect(()=>{t&&I()},[t]);const I=async()=>{b(!0);const e=await uu();g(e),b(!1)},A=e=>{if(e.preventDefault(),u(""),f)u("Too many failed attempts. Please try again in 15 minutes.");else if("admin"===s&&"admin123"===o){r(!0),d(0),localStorage.removeItem("loginAttempts"),localStorage.removeItem("blockUntil");const e={expiry:Date.now()+36e5};localStorage.setItem("adminSession",JSON.stringify(e))}else{const e=h+1;if(d(e),localStorage.setItem("loginAttempts",e.toString()),e>=5){const e=Date.now()+9e5;localStorage.setItem("blockUntil",e.toString()),p(!0),u("Too many failed attempts. Please try again in 15 minutes.")}else u(`Invalid username or password. ${5-e} attempts remaining.`)}},D=m.filter(e=>{const t=e.title.toLowerCase().includes(E.toLowerCase())||e.location.toLowerCase().includes(E.toLowerCase()),n="all"===C||e.type===C,r="all"===T||e.location===T;return t&&n&&r}),P={total:m.length,condos:m.filter(e=>"Condominium"===e.type).length,houses:m.filter(e=>"House and Lot"===e.type).length,rentals:m.filter(e=>"Rental"===e.type).length,featured:m.filter(e=>e.featured).length};return t?v.jsxs("div",{className:"admin-dashboard",children:[v.jsxs("div",{className:"dashboard-header",children:[v.jsxs("div",{className:"header-content",children:[v.jsx("h1",{children:" Admin Dashboard"}),v.jsx("p",{children:"Manage your real estate properties"})]}),v.jsxs("div",{className:"header-actions",children:[v.jsx("button",{onClick:()=>e("/"),className:"view-site-btn",children:" View Site"}),v.jsx("button",{onClick:()=>{r(!1),a(""),l(""),localStorage.removeItem("adminSession")},className:"logout-button",children:"Logout"})]})]}),v.jsxs("div",{className:"stats-grid",children:[v.jsxs("div",{className:"stat-card",children:[v.jsx("div",{className:"stat-icon",children:""}),v.jsxs("div",{className:"stat-content",children:[v.jsx("div",{className:"stat-value",children:P.total}),v.jsx("div",{className:"stat-label",children:"Total Properties"})]})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("div",{className:"stat-icon",children:""}),v.jsxs("div",{className:"stat-content",children:[v.jsx("div",{className:"stat-value",children:P.condos}),v.jsx("div",{className:"stat-label",children:"Condominiums"})]})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("div",{className:"stat-icon",children:""}),v.jsxs("div",{className:"stat-content",children:[v.jsx("div",{className:"stat-value",children:P.houses}),v.jsx("div",{className:"stat-label",children:"House & Lots"})]})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("div",{className:"stat-icon",children:""}),v.jsxs("div",{className:"stat-content",children:[v.jsx("div",{className:"stat-value",children:P.rentals}),v.jsx("div",{className:"stat-label",children:"Rentals"})]})]}),v.jsxs("div",{className:"stat-card featured",children:[v.jsx("div",{className:"stat-icon",children:""}),v.jsxs("div",{className:"stat-content",children:[v.jsx("div",{className:"stat-value",children:P.featured}),v.jsx("div",{className:"stat-label",children:"Featured"})]})]})]}),v.jsx("div",{className:"quick-actions",children:v.jsx("button",{onClick:()=>e("/dashboard/add-property"),className:"add-property-btn",children:" Add New Property"})}),v.jsxs("div",{className:"filters-section",children:[v.jsx("div",{className:"search-box",children:v.jsx("input",{type:"text",placeholder:" Search properties...",value:E,onChange:e=>N(e.target.value)})}),v.jsxs("div",{className:"filter-group",children:[v.jsxs("select",{value:C,onChange:e=>_(e.target.value),children:[v.jsx("option",{value:"all",children:"All Types"}),v.jsx("option",{value:"Condominium",children:"Condominium"}),v.jsx("option",{value:"House and Lot",children:"House and Lot"}),v.jsx("option",{value:"Rental",children:"Rental"})]}),v.jsxs("select",{value:T,onChange:e=>j(e.target.value),children:[v.jsx("option",{value:"all",children:"All Locations"}),v.jsx("option",{value:"Cebu",children:"Cebu"}),v.jsx("option",{value:"Bohol",children:"Bohol"}),v.jsx("option",{value:"Palawan",children:"Palawan"}),v.jsx("option",{value:"Davao",children:"Davao"})]})]})]}),v.jsxs("div",{className:"properties-section",children:[v.jsx("div",{className:"section-header",children:v.jsxs("h2",{children:["Properties (",D.length,")"]})}),y?v.jsxs("div",{className:"loading-state",children:[v.jsx("div",{className:"spinner"}),v.jsx("p",{children:"Loading properties..."})]}):0===D.length?v.jsxs("div",{className:"empty-state",children:[v.jsx("div",{className:"empty-icon",children:""}),v.jsx("h3",{children:"No properties found"}),v.jsx("p",{children:"Try adjusting your filters or add a new property"}),v.jsx("button",{onClick:()=>e("/admin/add-property"),className:"add-first-btn",children:"Add Your First Property"})]}):v.jsx("div",{className:"properties-table",children:v.jsxs("table",{children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Image"}),v.jsx("th",{children:"Title"}),v.jsx("th",{children:"Type"}),v.jsx("th",{children:"Location"}),v.jsx("th",{children:"Price"}),v.jsx("th",{children:"Area"}),v.jsx("th",{children:"Status"}),v.jsx("th",{children:"Actions"})]})}),v.jsx("tbody",{children:D.map(t=>{return v.jsxs("tr",{children:[v.jsx("td",{className:"image-cell",children:v.jsx("img",{src:t.images[0]||"/placeholder.jpg",alt:t.title,onError:e=>{e.target.src="https://via.placeholder.com/100x75?text=No+Image"}})}),v.jsx("td",{className:"title-cell",children:v.jsxs("div",{className:"title-content",children:[v.jsx("span",{className:"property-title",children:t.title}),t.featured&&v.jsx("span",{className:"featured-badge",children:" Featured"})]})}),v.jsx("td",{children:t.type}),v.jsxs("td",{children:[" ",t.location]}),v.jsx("td",{className:"price-cell",children:(n=t.price,new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0}).format(n))}),v.jsxs("td",{children:[t.area," sqm"]}),v.jsx("td",{children:v.jsx("span",{className:"status-badge active",children:"Active"})}),v.jsxs("td",{className:"actions-cell",children:[v.jsx("button",{onClick:()=>e(`/properties/${t.id}`),className:"action-btn view-btn",title:"View Property",children:""}),v.jsx("button",{onClick:()=>e(`/edit-property/${t.id}`),className:"action-btn edit-btn",title:"Edit Property",children:""}),v.jsx("button",{onClick:()=>x(t.id),className:"action-btn delete-btn",title:"Delete Property",children:""})]})]},t.id);var n})})]})})]}),w&&v.jsx("div",{className:"modal-overlay",onClick:()=>x(null),children:v.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[v.jsx("h2",{children:" Delete Property"}),v.jsx("p",{children:"Are you sure you want to delete this property?"}),v.jsx("p",{className:"warning-text",children:"This action cannot be undone."}),v.jsxs("div",{className:"modal-actions",children:[v.jsx("button",{onClick:()=>x(null),className:"cancel-btn",disabled:S,children:"Cancel"}),v.jsx("button",{onClick:()=>(async e=>{k(!0),await pu(e)?(g(m.filter(t=>t.id!==e)),x(null)):alert("Failed to delete property. Please try again."),k(!1)})(w),className:"confirm-delete-btn",disabled:S,children:S?"Deleting...":"Yes, Delete"})]})]})})]}):v.jsx("div",{className:"admin-dashboard",children:v.jsx("div",{className:"admin-login-container",children:v.jsxs("div",{className:"admin-login-card",children:[v.jsxs("div",{className:"login-header",children:[v.jsx("h1",{children:" Admin Dashboard"}),v.jsx("p",{children:"Please login to access the admin panel"})]}),v.jsxs("form",{onSubmit:A,className:"admin-login-form",children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"username",children:"Username"}),v.jsx("input",{type:"text",id:"username",value:s,onChange:e=>a(e.target.value),placeholder:"Enter username",required:!0,autoFocus:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"password",children:"Password"}),v.jsx("input",{type:"password",id:"password",value:o,onChange:e=>l(e.target.value),placeholder:"Enter password",required:!0})]}),c&&v.jsx("div",{className:"error-message",children:c}),v.jsx("button",{type:"submit",className:"login-button",children:"Login to Dashboard"})]}),v.jsx("div",{className:"login-footer",children:v.jsx("button",{onClick:()=>e("/"),className:"back-home-btn",children:" Back to Home"})})]})})})},Su="",ku="",Eu=({onImagesUploaded:e,maxImages:t=15,existingImages:r=[],buttonText:i="Upload Images",propertyData:s})=>{const[a,o]=n.useState(!1),[l,c]=n.useState(""),[u,h]=n.useState(r);return v.jsxs("div",{className:"image-uploader",children:[v.jsxs("div",{className:"upload-header",children:[v.jsx("button",{type:"button",onClick:()=>{o(!0),c(""),((e,t,n=10,r,i)=>{if(!window.cloudinary){const e="Cloudinary widget not loaded. Please check your internet connection.";return console.error(e),void t?.(e)}const s=[],a=r||`property_${Date.now()}`,o=[`property_${a}`,i?.type?.toLowerCase().replace(/\s+/g,"_"),i?.location?.toLowerCase().replace(/\s+/g,"_"),"real_estate"].filter(Boolean),l={property_id:a,property_title:i?.title||"Untitled Property",property_location:i?.location||"Unknown",upload_date:(new Date).toISOString()},c=window.cloudinary.createUploadWidget({cloudName:Su,uploadPreset:ku,sources:["local","url","camera"],multiple:!0,maxFiles:n,clientAllowedFormats:["png","jpg","jpeg","gif","webp"],maxImageFileSize:5e6,maxImageWidth:2e3,maxImageHeight:2e3,cropping:!1,showSkipCropButton:!0,folder:`real-estate/properties/${a}`,tags:o,context:l,resourceType:"image",thumbnails:".cloudinary-thumbnails",showUploadMoreButton:!0,styles:{palette:{window:"#FFFFFF",windowBorder:"#90A0B3",tabIcon:"#667eea",menuIcons:"#5A616A",textDark:"#000000",textLight:"#FFFFFF",link:"#667eea",action:"#667eea",inactiveTabIcon:"#B3B3B3",error:"#F44235",inProgress:"#667eea",complete:"#20B832",sourceBg:"#F4F4F5"},fonts:{default:null,"'Poppins', sans-serif":{url:"https://fonts.googleapis.com/css?family=Poppins",active:!0}}}},(n,r)=>{if(n)return console.error("Upload error:",n),void t?.(n.message||"Upload failed");if("success"===r.event){const e={url:r.info.url,secureUrl:r.info.secure_url,publicId:r.info.public_id,format:r.info.format,width:r.info.width,height:r.info.height};s.push(e),console.log(` Image uploaded to: real-estate/properties/${a}`),console.log(" Tags:",o)}"close"===r.event&&(s.length>0&&(console.log(` Successfully uploaded ${s.length} images for property: ${a}`),e(s)),c.destroy())});c.open()})(t=>{const n=t.map(e=>e.secureUrl),r=[...u,...n];h(r),e(r),o(!1)},e=>{c(e),o(!1)},t-u.length,s?.id,{title:s?.title,type:s?.type,location:s?.location})},disabled:a||u.length>=t,className:"upload-button",children:a?v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"spinner"}),"Uploading..."]}):v.jsxs(v.Fragment,{children:[" ",i]})}),v.jsxs("span",{className:"image-count",children:[u.length," / ",t," images"]})]}),l&&v.jsxs("div",{className:"upload-error",children:[" ",l]}),u.length>0&&v.jsx("div",{className:"uploaded-images-grid",children:u.map((t,n)=>v.jsxs("div",{className:"uploaded-image-item",children:[v.jsx("img",{src:t,alt:`Upload ${n+1}`}),v.jsx("button",{type:"button",onClick:()=>(t=>{const n=u.filter((e,n)=>n!==t);h(n),e(n)})(n),className:"remove-image-btn","aria-label":"Remove image",children:""}),0===n&&v.jsx("span",{className:"primary-badge",children:"Primary"})]},n))}),0===u.length&&v.jsxs("div",{className:"upload-placeholder",children:[v.jsx("div",{className:"placeholder-icon",children:""}),v.jsx("p",{children:"No images uploaded yet"}),v.jsx("p",{className:"placeholder-hint",children:"Click the button above to upload property images"})]})]})},Nu=()=>{const e=i(),[t,r]=n.useState({title:"",type:"Condominium",location:"Cebu",price:"",area:"",bedrooms:"",bathrooms:"",description:"",features:"",featured:!1}),[s,a]=n.useState([]),[o]=n.useState(`property_${Date.now()}`),[l,c]=n.useState(!1),[u,h]=n.useState(""),d=e=>{const{name:t,value:n,type:i}=e.target;if("checkbox"===i){const n=e.target.checked;r(e=>({...e,[t]:n}))}else r(e=>({...e,[t]:n}))};return v.jsx("div",{className:"add-property-container",children:v.jsxs("div",{className:"add-property-card",children:[v.jsxs("div",{className:"page-header",children:[v.jsx("h1",{children:"Add New Property"}),v.jsx("button",{onClick:()=>e("/dashboard"),className:"back-to-dashboard-btn",children:" Back to Dashboard"})]}),v.jsxs("form",{onSubmit:async n=>{n.preventDefault(),c(!0),h("");try{if(0===s.length)return h("Please upload at least one property image."),void c(!1);const n=t.features.split(",").map(e=>e.trim()).filter(e=>e.length>0),i={title:t.title,type:t.type,location:t.location,price:parseFloat(t.price),area:parseFloat(t.area),bedrooms:t.bedrooms?parseInt(t.bedrooms):void 0,bathrooms:t.bathrooms?parseInt(t.bathrooms):void 0,description:t.description,features:n,images:s,featured:t.featured};await fu(i)?(h("Property added successfully!"),r({title:"",type:"Condominium",location:"Cebu",price:"",area:"",bedrooms:"",bathrooms:"",description:"",features:"",featured:!1}),a([]),setTimeout(()=>{e("/properties")},2e3)):h("Error adding property. Please try again.")}catch(i){console.error("Error submitting property:",i),h("Error adding property. Please try again.")}finally{c(!1)}},className:"property-form",children:[v.jsxs("div",{className:"form-row",children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"title",children:"Property Title*"}),v.jsx("input",{type:"text",id:"title",name:"title",value:t.title,onChange:d,required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"type",children:"Property Type*"}),v.jsxs("select",{id:"type",name:"type",value:t.type,onChange:d,required:!0,children:[v.jsx("option",{value:"Condominium",children:"Condominium"}),v.jsx("option",{value:"House and Lot",children:"House and Lot"}),v.jsx("option",{value:"Rental",children:"Rental"})]})]})]}),v.jsxs("div",{className:"form-row",children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"location",children:"Location*"}),v.jsxs("select",{id:"location",name:"location",value:t.location,onChange:d,required:!0,children:[v.jsx("option",{value:"Cebu",children:"Cebu"}),v.jsx("option",{value:"Bohol",children:"Bohol"}),v.jsx("option",{value:"Palawan",children:"Palawan"}),v.jsx("option",{value:"Davao",children:"Davao"})]})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"price",children:"Price ()*"}),v.jsx("input",{type:"number",id:"price",name:"price",value:t.price,onChange:d,step:"0.01",required:!0})]})]}),v.jsxs("div",{className:"form-row",children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"area",children:"Area (sqm)*"}),v.jsx("input",{type:"number",id:"area",name:"area",value:t.area,onChange:d,step:"0.01",required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"bedrooms",children:"Bedrooms"}),v.jsx("input",{type:"number",id:"bedrooms",name:"bedrooms",value:t.bedrooms,onChange:d})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"bathrooms",children:"Bathrooms"}),v.jsx("input",{type:"number",id:"bathrooms",name:"bathrooms",value:t.bathrooms,onChange:d})]})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"description",children:"Description*"}),v.jsx("textarea",{id:"description",name:"description",value:t.description,onChange:d,rows:5,required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"features",children:"Features (comma-separated)*"}),v.jsx("input",{type:"text",id:"features",name:"features",value:t.features,onChange:d,placeholder:"e.g., Swimming Pool, Gym, Parking",required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Property Images*"}),v.jsx(Eu,{onImagesUploaded:e=>a(e),maxImages:15,existingImages:s,buttonText:"Upload Property Images",propertyData:{id:o,title:t.title,type:t.type,location:t.location}}),v.jsx("small",{className:"form-hint",children:"Upload high-quality images of the property. First image will be the primary display image."})]}),v.jsx("div",{className:"form-group checkbox-group",children:v.jsxs("label",{children:[v.jsx("input",{type:"checkbox",name:"featured",checked:t.featured,onChange:d}),v.jsx("span",{children:"Mark as Featured Property"})]})}),u&&v.jsx("div",{className:"submit-message "+(u.includes("Error")?"error":"success"),children:u}),v.jsxs("div",{className:"form-actions",children:[v.jsx("button",{type:"button",onClick:()=>e("/properties"),className:"cancel-btn",children:"Cancel"}),v.jsx("button",{type:"submit",className:"submit-btn",disabled:l,children:l?"Adding Property...":"Add Property"})]})]})]})})},Cu=()=>{const{id:e}=a(),t=i(),[r,s]=n.useState(!0),[o,l]=n.useState({title:"",type:"Condominium",location:"Cebu",price:"",area:"",bedrooms:"",bathrooms:"",description:"",features:"",featured:!1}),[c,u]=n.useState([]),[h,d]=n.useState(!1),[f,p]=n.useState("");n.useEffect(()=>{(async()=>{if(!e)return;const t=await hu(e);t&&(l({title:t.title,type:t.type,location:t.location,price:t.price.toString(),area:t.area.toString(),bedrooms:t.bedrooms?.toString()||"",bathrooms:t.bathrooms?.toString()||"",description:t.description,features:t.features.join(", "),featured:t.featured||!1}),u(t.images)),s(!1)})()},[e]);const m=e=>{const{name:t,value:n,type:r}=e.target;if("checkbox"===r){const n=e.target.checked;l(e=>({...e,[t]:n}))}else l(e=>({...e,[t]:n}))};return r?v.jsx("div",{className:"add-property-container",children:v.jsx("div",{className:"add-property-card",children:v.jsx("p",{children:"Loading property..."})})}):v.jsx("div",{className:"add-property-container",children:v.jsxs("div",{className:"add-property-card",children:[v.jsxs("div",{className:"page-header",children:[v.jsx("h1",{children:"Edit Property"}),v.jsx("button",{onClick:()=>t("/dashboard"),className:"back-to-dashboard-btn",children:" Back to Dashboard"})]}),v.jsxs("form",{onSubmit:async n=>{if(n.preventDefault(),e){d(!0),p("");try{if(0===c.length)return p("Please upload at least one property image."),void d(!1);const n=o.features.split(",").map(e=>e.trim()).filter(e=>e.length>0),r={title:o.title,type:o.type,location:o.location,price:parseFloat(o.price),area:parseFloat(o.area),bedrooms:o.bedrooms?parseInt(o.bedrooms):void 0,bathrooms:o.bathrooms?parseInt(o.bathrooms):void 0,description:o.description,features:n,images:c,featured:o.featured},i=await(async(e,t)=>{try{const n=hc(ou,"listings",e);return await su(n,t),!0}catch(n){return console.error("Error updating property:",n),!1}})(e,r);i?(p("Property updated successfully!"),setTimeout(()=>{t("/dashboard")},2e3)):p("Error updating property. Please try again.")}catch(r){console.error("Error updating property:",r),p("Error updating property. Please try again.")}finally{d(!1)}}},className:"property-form",children:[v.jsxs("div",{className:"form-row",children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"title",children:"Property Title*"}),v.jsx("input",{type:"text",id:"title",name:"title",value:o.title,onChange:m,required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"type",children:"Property Type*"}),v.jsxs("select",{id:"type",name:"type",value:o.type,onChange:m,required:!0,children:[v.jsx("option",{value:"Condominium",children:"Condominium"}),v.jsx("option",{value:"House and Lot",children:"House and Lot"}),v.jsx("option",{value:"Rental",children:"Rental"})]})]})]}),v.jsxs("div",{className:"form-row",children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"location",children:"Location*"}),v.jsxs("select",{id:"location",name:"location",value:o.location,onChange:m,required:!0,children:[v.jsx("option",{value:"Cebu",children:"Cebu"}),v.jsx("option",{value:"Bohol",children:"Bohol"}),v.jsx("option",{value:"Palawan",children:"Palawan"}),v.jsx("option",{value:"Davao",children:"Davao"})]})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"price",children:"Price ()*"}),v.jsx("input",{type:"number",id:"price",name:"price",value:o.price,onChange:m,step:"0.01",required:!0})]})]}),v.jsxs("div",{className:"form-row",children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"area",children:"Area (sqm)*"}),v.jsx("input",{type:"number",id:"area",name:"area",value:o.area,onChange:m,step:"0.01",required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"bedrooms",children:"Bedrooms"}),v.jsx("input",{type:"number",id:"bedrooms",name:"bedrooms",value:o.bedrooms,onChange:m})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"bathrooms",children:"Bathrooms"}),v.jsx("input",{type:"number",id:"bathrooms",name:"bathrooms",value:o.bathrooms,onChange:m})]})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"description",children:"Description*"}),v.jsx("textarea",{id:"description",name:"description",value:o.description,onChange:m,rows:5,required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"features",children:"Features (comma-separated)*"}),v.jsx("input",{type:"text",id:"features",name:"features",value:o.features,onChange:m,placeholder:"e.g., Swimming Pool, Gym, Parking",required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Property Images*"}),v.jsx(Eu,{onImagesUploaded:e=>u(e),maxImages:15,existingImages:c,buttonText:"Upload/Replace Images",propertyData:{id:e,title:o.title,type:o.type,location:o.location}}),v.jsx("small",{className:"form-hint",children:"You can add more images or remove existing ones. First image will be the primary display image."})]}),v.jsx("div",{className:"form-group checkbox-group",children:v.jsxs("label",{children:[v.jsx("input",{type:"checkbox",name:"featured",checked:o.featured,onChange:m}),v.jsx("span",{children:"Mark as Featured Property"})]})}),f&&v.jsx("div",{className:"submit-message "+(f.includes("Error")?"error":"success"),children:f}),v.jsxs("div",{className:"form-actions",children:[v.jsx("button",{type:"button",onClick:()=>t(`/properties/${e}`),className:"cancel-btn",children:"Cancel"}),v.jsx("button",{type:"submit",className:"submit-btn",disabled:h,children:h?"Updating Property...":"Update Property"})]})]})]})})};function _u(){return v.jsxs(v.Fragment,{children:[v.jsx(C,{}),v.jsxs(o,{children:[v.jsx(l,{path:"/",element:v.jsx(yu,{})}),v.jsx(l,{path:"/properties",element:v.jsx(vu,{})}),v.jsx(l,{path:"/properties/:id",element:v.jsx(bu,{})}),v.jsx(l,{path:"/careers",element:v.jsx(wu,{})}),v.jsx(l,{path:"/dashboard",element:v.jsx(xu,{})}),v.jsx(l,{path:"/dashboard/add-property",element:v.jsx(Nu,{})}),v.jsx(l,{path:"/edit-property/:id",element:v.jsx(Cu,{})})]}),v.jsx(_,{})]})}N.createRoot(document.getElementById("root")).render(v.jsx(n.StrictMode,{children:v.jsx(c,{children:v.jsx(_u,{})})}));
